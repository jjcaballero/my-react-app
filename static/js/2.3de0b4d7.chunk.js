/*! For license information please see 2.3de0b4d7.chunk.js.LICENSE.txt */
(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(11)},function(e,t,n){"use strict";e.exports=n(5)},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(o){return!1}}()?Object.assign:function(e,t){for(var n,l,s=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(s[c]=n[c]);if(i){l=i(n);for(var d=0;d<l.length;d++)r.call(n,l[d])&&(s[l[d]]=n[l[d]])}}return s}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(6)},function(e,t,n){"use strict";function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){s=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(s)throw a}}}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!==typeof t?s(e):t}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return f(this,n)}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}n.d(t,"a",(function(){return Qe}));var b=function(){function e(t){m(this,e),this.table=t}return v(e,[{key:"reloadData",value:function(e,t){return this.table.dataLoader.load(e,void 0,void 0,void 0,t)}},{key:"langText",value:function(){var e;return(e=this.table.modules.localize).getText.apply(e,arguments)}},{key:"langBind",value:function(){var e;return(e=this.table.modules.localize).bind.apply(e,arguments)}},{key:"langLocale",value:function(){var e;return(e=this.table.modules.localize).getLocale.apply(e,arguments)}},{key:"commsConnections",value:function(){var e;return(e=this.table.modules.comms).getConnections.apply(e,arguments)}},{key:"commsSend",value:function(){var e;return(e=this.table.modules.comms).send.apply(e,arguments)}},{key:"layoutMode",value:function(){return this.table.modules.layout.getMode()}},{key:"layoutRefresh",value:function(){return this.table.modules.layout.layout()}},{key:"subscribe",value:function(){var e;return(e=this.table.eventBus).subscribe.apply(e,arguments)}},{key:"unsubscribe",value:function(){var e;return(e=this.table.eventBus).unsubscribe.apply(e,arguments)}},{key:"subscribed",value:function(e){return this.table.eventBus.subscribed(e)}},{key:"subscriptionChange",value:function(){var e;return(e=this.table.eventBus).subscriptionChange.apply(e,arguments)}},{key:"dispatch",value:function(){var e;return(e=this.table.eventBus).dispatch.apply(e,arguments)}},{key:"chain",value:function(){var e;return(e=this.table.eventBus).chain.apply(e,arguments)}},{key:"confirm",value:function(){var e;return(e=this.table.eventBus).confirm.apply(e,arguments)}},{key:"dispatchExternal",value:function(){var e;return(e=this.table.externalEvents).dispatch.apply(e,arguments)}},{key:"subscribedExternal",value:function(e){return this.table.externalEvents.subscribed(e)}},{key:"subscriptionChangeExternal",value:function(){var e;return(e=this.table.externalEvents).subscriptionChange.apply(e,arguments)}},{key:"options",value:function(e,t){return"undefined"!==typeof t&&(this.table.options[e]=t),this.table.options[e]}},{key:"setOption",value:function(e,t){return"undefined"!==typeof t&&(this.table.options[e]=t),this.table.options[e]}},{key:"module",value:function(e){return this.table.module(e)}}]),e}(),y=function(e){c(n,e);var t=p(n);function n(e,i){var o;return m(this,n),(o=t.call(this,e))._handler=null,o}return v(n,[{key:"initialize",value:function(){}},{key:"registerTableOption",value:function(e,t){this.table.optionsList.register(e,t)}},{key:"registerColumnOption",value:function(e,t){this.table.columnManager.optionsList.register(e,t)}},{key:"registerTableFunction",value:function(e,t){"undefined"===typeof this.table[e]?this.table[e]=t:console.warn("Unable to bind table function, name already in use",e)}},{key:"registerComponentFunction",value:function(e,t,n){return this.table.componentFunctionBinder.bind(e,t,n)}},{key:"registerDataHandler",value:function(e,t){this.table.rowManager.registerDataPipelineHandler(e,t),this._handler=e}},{key:"registerDisplayHandler",value:function(e,t){this.table.rowManager.registerDisplayPipelineHandler(e,t),this._handler=e}},{key:"refreshData",value:function(e,t){t||(t=this._handler),t&&this.table.rowManager.refreshActiveData(t,!1,e)}}]),n}(b),w=function(){function e(){m(this,e)}return v(e,null,[{key:"elVisible",value:function(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}},{key:"elOffset",value:function(e){var t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset-document.documentElement.clientTop,left:t.left+window.pageXOffset-document.documentElement.clientLeft}}},{key:"deepClone",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={}.__proto__,r=[].__proto__;t||(t=Object.assign(Array.isArray(e)?[]:{},e));var a=function(){var a=e[l],s=void 0,u=void 0;null==a||"object"!==typeof a||a.__proto__!==o&&a.__proto__!==r||((s=i.findIndex((function(e){return e.subject===a})))>-1?t[l]=i[s].copy:(u=Object.assign(Array.isArray(a)?[]:{},a),i.unshift({subject:a,copy:u}),t[l]=n.deepClone(a,u,i)))};for(var l in e)a();return t}}]),e}(),k=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).allowedTypes=["","data","download","clipboard","print","htmlOutput"],i.registerColumnOption("accessor"),i.registerColumnOption("accessorParams"),i.registerColumnOption("accessorData"),i.registerColumnOption("accessorDataParams"),i.registerColumnOption("accessorDownload"),i.registerColumnOption("accessorDownloadParams"),i.registerColumnOption("accessorClipboard"),i.registerColumnOption("accessorClipboardParams"),i.registerColumnOption("accessorPrint"),i.registerColumnOption("accessorPrintParams"),i.registerColumnOption("accessorHtmlOutput"),i.registerColumnOption("accessorHtmlOutputParams"),i}return v(n,[{key:"initialize",value:function(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}},{key:"initializeColumn",value:function(e){var t=this,n=!1,i={};this.allowedTypes.forEach((function(o){var r,a="accessor"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[a]&&(r=t.lookupAccessor(e.definition[a]))&&(n=!0,i[a]={accessor:r,params:e.definition[a+"Params"]||{}})})),n&&(e.modules.accessor=i)}},{key:"lookupAccessor",value:function(e){var t=!1;switch(typeof e){case"string":n.accessors[e]?t=n.accessors[e]:console.warn("Accessor Error - No such accessor found, ignoring: ",e);break;case"function":t=e}return t}},{key:"transformRow",value:function(e,t){var n="accessor"+(t.charAt(0).toUpperCase()+t.slice(1)),i=e.getComponent(),o=w.deepClone(e.data||{});return this.table.columnManager.traverse((function(e){var r,a,l,s;e.modules.accessor&&(a=e.modules.accessor[n]||e.modules.accessor.accessor||!1)&&"undefined"!=(r=e.getFieldValue(o))&&(s=e.getComponent(),l="function"===typeof a.params?a.params(r,o,t,s,i):a.params,e.setFieldValue(o,a.accessor(r,o,t,l,s,i)))})),o}}]),n}(y);k.moduleName="accessor",k.accessors={};function C(e,t){var n=[];if(t=t||"",Array.isArray(e))e.forEach((function(e,i){n=n.concat(C(e,t?t+"["+i+"]":i))}));else if("object"===typeof e)for(var i in e)n=n.concat(C(e[i],t?t+"["+i+"]":i));else n.push({key:t,value:e});return n}function E(e){var t=C(e),n=[];return t.forEach((function(e){n.push(encodeURIComponent(e.key)+"="+encodeURIComponent(e.value))})),n.join("&")}function x(e,t){var n=[];if(t=t||"",Array.isArray(e))e.forEach((function(e,i){n=n.concat(x(e,t?t+"["+i+"]":i))}));else if("object"===typeof e)for(var i in e)n=n.concat(x(e[i],t?t+"["+i+"]":i));else n.push({key:t,value:e});return n}var R={json:{headers:{"Content-Type":"application/json"},body:function(e,t,n){return JSON.stringify(n)}},form:{headers:{},body:function(e,t,n){var i=x(n),o=new FormData;return i.forEach((function(e){o.append(e.key,e.value)})),o}}},T=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).config=!1,i.url="",i.urlGenerator=!1,i.params=!1,i.loaderPromise=!1,i.registerTableOption("ajaxURL",!1),i.registerTableOption("ajaxURLGenerator",!1),i.registerTableOption("ajaxParams",{}),i.registerTableOption("ajaxConfig","get"),i.registerTableOption("ajaxContentType","form"),i.registerTableOption("ajaxRequestFunc",!1),i.registerTableOption("ajaxRequesting",(function(){})),i.registerTableOption("ajaxResponse",!1),i.contentTypeFormatters=n.contentTypeFormatters,i}return v(n,[{key:"initialize",value:function(){this.loaderPromise=this.table.options.ajaxRequestFunc||n.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||n.defaultURLGenerator,this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}},{key:"requestDataCheck",value:function(e,t,n,i){return!((e||!this.url)&&"string"!==typeof e)}},{key:"requestData",value:function(e,t,n,i,o){return this.requestDataCheck(e)?(e&&this.setUrl(e),t&&this.setParams(t,!0),n&&this.setConfig(n),this.sendRequest()):o}},{key:"setParams",value:function(e,t){if(t)for(var n in this.params=this.params||{},e)this.params[n]=e[n];else this.params=e}},{key:"getParams",value:function(){return this.params||{}}},{key:"setConfig",value:function(e){if(this._loadDefaultConfig(),"string"==typeof e)this.config.method=e;else for(var t in e)this.config[t]=e[t]}},{key:"_loadDefaultConfig",value:function(e){if(!this.config||e)for(var t in this.config={},n.defaultConfig)this.config[t]=n.defaultConfig[t]}},{key:"setUrl",value:function(e){this.url=e}},{key:"getUrl",value:function(){return this.url}},{key:"sendRequest",value:function(e){var t=this,n=this.url;return this._loadDefaultConfig(),!1!==this.table.options.ajaxRequesting.call(this.table,this.url,this.params)?this.loaderPromise(n,this.config,this.params).then((function(e){return t.table.options.ajaxResponse&&(e=t.table.options.ajaxResponse.call(t.table,t.url,t.params,e)),e})):Promise.reject()}}]),n}(y);T.moduleName="ajax",T.defaultConfig={method:"GET"},T.defaultURLGenerator=function(e,t,n){return e&&n&&Object.keys(n).length&&(t.method&&"get"!=t.method.toLowerCase()||(t.method="get",e+=(e.includes("?")?"&":"?")+E(n))),e},T.defaultLoaderPromise=function(e,t,n){var i,o=this;return new Promise((function(r,a){if(e=o.urlGenerator.call(o.table,e,t,n),"GET"!=t.method.toUpperCase())if(i="object"===typeof o.table.options.ajaxContentType?o.table.options.ajaxContentType:o.contentTypeFormatters[o.table.options.ajaxContentType]){for(var l in i.headers)t.headers||(t.headers={}),"undefined"===typeof t.headers[l]&&(t.headers[l]=i.headers[l]);t.body=i.body.call(o,e,t,n)}else console.warn("Ajax Error - Invalid ajaxContentType value:",o.table.options.ajaxContentType);e?("undefined"===typeof t.headers&&(t.headers={}),"undefined"===typeof t.headers.Accept&&(t.headers.Accept="application/json"),"undefined"===typeof t.headers["X-Requested-With"]&&(t.headers["X-Requested-With"]="XMLHttpRequest"),"undefined"===typeof t.mode&&(t.mode="cors"),"cors"==t.mode?("undefined"===typeof t.headers.Origin&&(t.headers.Origin=window.location.origin),"undefined"===typeof t.credentials&&(t.credentials="same-origin")):"undefined"===typeof t.credentials&&(t.credentials="include"),fetch(e,t).then((function(e){e.ok?e.json().then((function(e){r(e)})).catch((function(e){a(e),console.warn("Ajax Load Error - Invalid JSON returned",e)})):(console.error("Ajax Load Error - Connection Error: "+e.status,e.statusText),a(e))})).catch((function(e){console.error("Ajax Load Error - Connection Error: ",e),a(e)}))):(console.warn("Ajax Load Error - No URL Set"),r([]))}))},T.contentTypeFormatters=R;var M=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).mode=!0,i.pasteParser=function(){},i.pasteAction=function(){},i.customSelection=!1,i.rowRange=!1,i.blocked=!0,i.registerTableOption("clipboard",!1),i.registerTableOption("clipboardCopyStyled",!0),i.registerTableOption("clipboardCopyConfig",!1),i.registerTableOption("clipboardCopyFormatter",!1),i.registerTableOption("clipboardCopyRowRange","active"),i.registerTableOption("clipboardPasteParser","table"),i.registerTableOption("clipboardPasteAction","insert"),i.registerColumnOption("clipboard"),i.registerColumnOption("titleClipboard"),i}return v(n,[{key:"initialize",value:function(){var e=this;this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,!0!==this.mode&&"copy"!==this.mode||this.table.element.addEventListener("copy",(function(t){var n,i;if(!e.blocked){if(t.preventDefault(),e.customSelection)n=e.customSelection,e.table.options.clipboardCopyFormatter&&(n=e.table.options.clipboardCopyFormatter("plain",n));else{var o=e.table.modules.export.generateExportList(e.table.options.clipboardCopyConfig,e.table.options.clipboardCopyStyled,e.rowRange,"clipboard");n=(i=e.table.modules.export.genereateHTMLTable(o))?e.generatePlainContent(o):"",e.table.options.clipboardCopyFormatter&&(n=e.table.options.clipboardCopyFormatter("plain",n),i=e.table.options.clipboardCopyFormatter("html",i))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",n):t.clipboardData&&t.clipboardData.setData?(t.clipboardData.setData("text/plain",n),i&&t.clipboardData.setData("text/html",i)):t.originalEvent&&t.originalEvent.clipboardData.setData&&(t.originalEvent.clipboardData.setData("text/plain",n),i&&t.originalEvent.clipboardData.setData("text/html",i)),e.dispatchExternal("clipboardCopied",n,i),e.reset()}})),!0!==this.mode&&"paste"!==this.mode||this.table.element.addEventListener("paste",(function(t){e.paste(t)})),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}},{key:"reset",value:function(){this.blocked=!0,this.customSelection=!1}},{key:"generatePlainContent",value:function(e){var t=[];return e.forEach((function(e){var n=[];e.columns.forEach((function(t){var i="";if(t)if("group"===e.type&&(t.value=t.component.getKey()),null===t.value)i="";else switch(typeof t.value){case"object":i=JSON.stringify(t.value);break;case"undefined":i="";break;default:i=t.value}n.push(i)})),t.push(n.join("\t"))})),t.join("\n")}},{key:"copy",value:function(e,t){var n,i;this.blocked=!1,this.customSelection=!1,!0!==this.mode&&"copy"!==this.mode||(this.rowRange=e||this.table.options.clipboardCopyRowRange,"undefined"!=typeof window.getSelection&&"undefined"!=typeof document.createRange?((e=document.createRange()).selectNodeContents(this.table.element),(n=window.getSelection()).toString()&&t&&(this.customSelection=n.toString()),n.removeAllRanges(),n.addRange(e)):"undefined"!=typeof document.selection&&"undefined"!=typeof document.body.createTextRange&&((i=document.body.createTextRange()).moveToElementText(this.table.element),i.select()),document.execCommand("copy"),n&&n.removeAllRanges())}},{key:"setPasteAction",value:function(e){switch(typeof e){case"string":this.pasteAction=n.pasteActions[e],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",e);break;case"function":this.pasteAction=e}}},{key:"setPasteParser",value:function(e){switch(typeof e){case"string":this.pasteParser=n.pasteParsers[e],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",e);break;case"function":this.pasteParser=e}}},{key:"paste",value:function(e){var t,n,i;this.checkPaseOrigin(e)&&(t=this.getPasteData(e),(n=this.pasteParser.call(this,t))?(e.preventDefault(),this.table.modExists("mutator")&&(n=this.mutateData(n)),i=this.pasteAction.call(this,n),this.dispatchExternal("clipboardPasted",t,n,i)):this.dispatchExternal("clipboardPasteError",t))}},{key:"mutateData",value:function(e){var t=this,n=[];return Array.isArray(e)?e.forEach((function(e){n.push(t.table.modules.mutator.transformRow(e,"clipboard"))})):n=e,n}},{key:"checkPaseOrigin",value:function(e){var t=!0;return("DIV"!=e.target.tagName||this.table.modules.edit.currentCell)&&(t=!1),t}},{key:"getPasteData",value:function(e){var t;return window.clipboardData&&window.clipboardData.getData?t=window.clipboardData.getData("Text"):e.clipboardData&&e.clipboardData.getData?t=e.clipboardData.getData("text/plain"):e.originalEvent&&e.originalEvent.clipboardData.getData&&(t=e.originalEvent.clipboardData.getData("text/plain")),t}}]),n}(y);M.moduleName="clipboard",M.pasteActions={replace:function(e){return this.table.setData(e)},update:function(e){return this.table.updateOrAddData(e)},insert:function(e){return this.table.addData(e)}},M.pasteParsers={table:function(e){var t=[],n=!0,i=this.table.columnManager.columns,o=[],r=[];return(e=e.split("\n")).forEach((function(e){t.push(e.split("\t"))})),!(!t.length||1===t.length&&t[0].length<2)&&(t[0].forEach((function(e){var t=i.find((function(t){return e&&t.definition.title&&e.trim()&&t.definition.title.trim()===e.trim()}));t?o.push(t):n=!1})),n||(n=!0,o=[],t[0].forEach((function(e){var t=i.find((function(t){return e&&t.field&&e.trim()&&t.field.trim()===e.trim()}));t?o.push(t):n=!1})),n||(o=this.table.columnManager.columnsByIndex)),n&&t.shift(),t.forEach((function(e){var t={};e.forEach((function(e,n){o[n]&&(t[o[n].field]=e)})),r.push(t)})),r)}};var S=function(){function e(t){return m(this,e),this._row=t,new Proxy(this,{get:function(e,t,n){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}return v(e,[{key:"getData",value:function(e){return this._row.getData(e)}},{key:"getElement",value:function(){return this._row.getElement()}},{key:"getTable",value:function(){return this._row.table}},{key:"getCells",value:function(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}},{key:"getCell",value:function(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}},{key:"_getSelf",value:function(){return this._row}}]),e}(),L=function(){function e(t){return m(this,e),this._cell=t,new Proxy(this,{get:function(e,t,n){return"undefined"!==typeof e[t]?e[t]:e._cell.table.componentFunctionBinder.handle("cell",e._cell,t)}})}return v(e,[{key:"getValue",value:function(){return this._cell.getValue()}},{key:"getOldValue",value:function(){return this._cell.getOldValue()}},{key:"getInitialValue",value:function(){return this._cell.initialValue}},{key:"getElement",value:function(){return this._cell.getElement()}},{key:"getRow",value:function(){return this._cell.row.getComponent()}},{key:"getData",value:function(){return this._cell.row.getData()}},{key:"getField",value:function(){return this._cell.column.getField()}},{key:"getColumn",value:function(){return this._cell.column.getComponent()}},{key:"setValue",value:function(e,t){"undefined"==typeof t&&(t=!0),this._cell.setValue(e,t)}},{key:"restoreOldValue",value:function(){this._cell.setValueActual(this._cell.getOldValue())}},{key:"restoreInitialValue",value:function(){this._cell.setValueActual(this._cell.initialValue)}},{key:"checkHeight",value:function(){this._cell.checkHeight()}},{key:"getTable",value:function(){return this._cell.table}},{key:"_getSelf",value:function(){return this._cell}}]),e}(),D=function(e){c(n,e);var t=p(n);function n(e,i){var o;return m(this,n),(o=t.call(this,e.table)).table=e.table,o.column=e,o.row=i,o.element=null,o.value=null,o.initialValue,o.oldValue=null,o.modules={},o.height=null,o.width=null,o.minWidth=null,o.component=null,o.loaded=!1,o.build(),o}return v(n,[{key:"build",value:function(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}},{key:"generateElement",value:function(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}},{key:"_configureCell",value:function(){var e=this,t=this.element,n=this.column.getField();(t.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(t.style.display="inline-flex",t.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(t.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),n&&t.setAttribute("tabulator-field",n),this.column.definition.cssClass)&&this.column.definition.cssClass.split(" ").forEach((function(e){t.classList.add(e)}));"hover"===this.table.options.tooltipGenerationMode&&t.addEventListener("mouseenter",(function(t){e._generateTooltip()})),this.dispatch("cell-init",this),this.column.visible||this.hide()}},{key:"_generateContents",value:function(){var e,t=this;switch(typeof(e=this.chain("cell-format",this,null,(function(){return t.element.innerHTML=t.value})))){case"object":if(e instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(e)}else this.element.innerHTML="",null!=e&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",e);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=e}}},{key:"cellRendered",value:function(){this.dispatch("cell-rendered",this)}},{key:"_generateTooltip",value:function(){var e=this.column.tooltip;e?(!0===e?e=this.value:"function"==typeof e&&!1===(e=e(this.getComponent()))&&(e=""),"undefined"===typeof e&&(e=""),this.element.setAttribute("title",e)):this.element.setAttribute("title","")}},{key:"getElement",value:function(e){return this.loaded||(this.loaded=!0,e||this.layoutElement()),this.element}},{key:"getValue",value:function(){return this.value}},{key:"getOldValue",value:function(){return this.oldValue}},{key:"setValue",value:function(e,t){this.setValueProcessData(e,t)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}},{key:"setValueProcessData",value:function(e,t){var n=!1;return this.value!=e&&(n=!0,t&&(e=this.chain("cell-value-changing",[this,e],null,e))),this.setValueActual(e),n&&this.dispatch("cell-value-changed",this),n}},{key:"setValueActual",value:function(e){this.oldValue=this.value,this.value=e,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,e),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}},{key:"layoutElement",value:function(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}},{key:"setWidth",value:function(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}},{key:"clearWidth",value:function(){this.width="",this.element.style.width=""}},{key:"getWidth",value:function(){return this.width||this.element.offsetWidth}},{key:"setMinWidth",value:function(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}},{key:"setMaxWidth",value:function(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}},{key:"checkHeight",value:function(){this.row.reinitializeHeight()}},{key:"clearHeight",value:function(){this.element.style.height="",this.height=null}},{key:"setHeight",value:function(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}},{key:"getHeight",value:function(){return this.height||this.element.offsetHeight}},{key:"show",value:function(){this.element.style.display=this.column.vertAlign?"inline-flex":""}},{key:"hide",value:function(){this.element.style.display="none"}},{key:"delete",value:function(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}},{key:"getIndex",value:function(){return this.row.getCellIndex(this)}},{key:"getComponent",value:function(){return this.component||(this.component=new L(this)),this.component}}]),n}(b),P=function(){function e(t){return m(this,e),this._column=t,this.type="ColumnComponent",new Proxy(this,{get:function(e,t,n){return"undefined"!==typeof e[t]?e[t]:e._column.table.componentFunctionBinder.handle("column",e._column,t)}})}return v(e,[{key:"getElement",value:function(){return this._column.getElement()}},{key:"getDefinition",value:function(){return this._column.getDefinition()}},{key:"getField",value:function(){return this._column.getField()}},{key:"getCells",value:function(){var e=[];return this._column.cells.forEach((function(t){e.push(t.getComponent())})),e}},{key:"isVisible",value:function(){return this._column.visible}},{key:"show",value:function(){this._column.isGroup?this._column.columns.forEach((function(e){e.show()})):this._column.show()}},{key:"hide",value:function(){this._column.isGroup?this._column.columns.forEach((function(e){e.hide()})):this._column.hide()}},{key:"toggle",value:function(){this._column.visible?this.hide():this.show()}},{key:"delete",value:function(){return this._column.delete()}},{key:"getSubColumns",value:function(){var e=[];return this._column.columns.length&&this._column.columns.forEach((function(t){e.push(t.getComponent())})),e}},{key:"getParentColumn",value:function(){return this._column.parent instanceof Column&&this._column.parent.getComponent()}},{key:"_getSelf",value:function(){return this._column}},{key:"scrollTo",value:function(){return this._column.table.columnManager.scrollToColumn(this._column)}},{key:"getTable",value:function(){return this._column.table}},{key:"move",value:function(e,t){var n=this._column.table.columnManager.findColumn(e);n?this._column.table.columnManager.moveColumn(this._column,n,t):console.warn("Move Error - No matching column found:",n)}},{key:"getNextColumn",value:function(){var e=this._column.nextColumn();return!!e&&e.getComponent()}},{key:"getPrevColumn",value:function(){var e=this._column.prevColumn();return!!e&&e.getComponent()}},{key:"updateDefinition",value:function(e){return this._column.updateDefinition(e)}},{key:"getWidth",value:function(){return this._column.getWidth()}},{key:"setWidth",value:function(e){var t;return t=!0===e?this._column.reinitializeWidth(!0):this._column.setWidth(e),this._column.table.columnManager.renderer.rerenderColumns(!0),t}}]),e}(),z={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0},F=function(e){c(n,e);var t=p(n);function n(e,i){var o;return m(this,n),(o=t.call(this,i.table)).definition=e,o.parent=i,o.type="column",o.columns=[],o.cells=[],o.element=o.createElement(),o.contentElement=!1,o.titleHolderElement=!1,o.titleElement=!1,o.groupElement=o.createGroupElement(),o.isGroup=!1,o.tooltip=!1,o.hozAlign="",o.vertAlign="",o.field="",o.fieldStructure="",o.getFieldValue="",o.setFieldValue="",o.titleFormatterRendered=!1,o.mapDefinitions(),o.setField(o.definition.field),o.modules={},o.width=null,o.widthStyled="",o.maxWidth=null,o.maxWidthStyled="",o.minWidth=null,o.minWidthStyled="",o.widthFixed=!1,o.visible=!0,o.component=null,o.definition.columns?(o.isGroup=!0,o.definition.columns.forEach((function(e,t){var i=new n(e,s(o));o.attachColumn(i)})),o.checkColumnVisibility()):i.registerColumnField(s(o)),o._initialize(),o.bindModuleColumns(),o}return v(n,[{key:"createElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.setAttribute("role","columnheader"),e.setAttribute("aria-sort","none"),e}},{key:"createGroupElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-col-group-cols"),e}},{key:"mapDefinitions",value:function(){var e=this.table.options.columnDefaults;if(e)for(var t in e)"undefined"===typeof this.definition[t]&&(this.definition[t]=e[t]);this.definition=this.table.columnManager.optionsList.generate(n.defaultOptionList,this.definition)}},{key:"checkDefinition",value:function(){var e=this;Object.keys(this.definition).forEach((function(t){-1===n.defaultOptionList.indexOf(t)&&console.warn("Invalid column definition option in '"+(e.field||e.definition.title)+"' column:",t)}))}},{key:"setField",value:function(e){this.field=e,this.fieldStructure=e?this.table.options.nestedFieldSeparator?e.split(this.table.options.nestedFieldSeparator):[e]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}},{key:"registerColumnPosition",value:function(e){this.parent.registerColumnPosition(e)}},{key:"registerColumnField",value:function(e){this.parent.registerColumnField(e)}},{key:"reRegisterPosition",value:function(){this.isGroup?this.columns.forEach((function(e){e.reRegisterPosition()})):this.registerColumnPosition(this)}},{key:"_mapDepricatedFunctionality",value:function(){}},{key:"setTooltip",value:function(){var e=this,t=this.definition,n="undefined"===typeof t.headerTooltip?t.tooltip:t.headerTooltip;n?!0===n?t.field?this.langBind("columns|"+t.field,(function(n){e.element.setAttribute("title",n||t.title)})):this.element.setAttribute("title",t.title):("function"==typeof n&&!1===(n=n(this.getComponent()))&&(n=""),this.element.setAttribute("title",n)):this.element.setAttribute("title","")}},{key:"_initialize",value:function(){for(var e=this,t=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);t.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===t.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",(function(t){e.setTooltip()}))}},{key:"_bindEvents",value:function(){var e,t,n,i=this,o=this.definition;"function"==typeof o.headerClick&&this.element.addEventListener("click",(function(e){o.headerClick(e,i.getComponent())})),"function"==typeof o.headerDblClick&&this.element.addEventListener("dblclick",(function(e){o.headerDblClick(e,i.getComponent())})),"function"==typeof o.headerContext&&this.element.addEventListener("contextmenu",(function(e){o.headerContext(e,i.getComponent())})),"function"==typeof o.headerTap&&(n=!1,this.element.addEventListener("touchstart",(function(e){n=!0}),{passive:!0}),this.element.addEventListener("touchend",(function(e){n&&o.headerTap(e,i.getComponent()),n=!1}))),"function"==typeof o.headerDblTap&&(e=null,this.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,o.headerDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),"function"==typeof o.headerTapHold&&(t=null,this.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,n=!1,o.headerTapHold(e,this.getComponent())}),1e3)}),{passive:!0}),this.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null})))}},{key:"_buildColumnHeader",value:function(){var e=this,t=this.definition;this.table;(this.dispatch("column-layout",this),"undefined"!=typeof t.visible&&(t.visible?this.show(!0):this.hide(!0)),t.cssClass)&&t.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));t.field&&this.element.setAttribute("tabulator-field",t.field),this.setMinWidth(parseInt(t.minWidth)),t.maxWidth&&this.setMaxWidth(parseInt(t.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}},{key:"_buildColumnHeaderContent",value:function(){this.definition,this.table;var e=document.createElement("div");return e.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),e.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),e}},{key:"_buildColumnHeaderTitle",value:function(){var e=this,t=this.definition,n=document.createElement("div");if(n.classList.add("tabulator-col-title"),t.editableTitle){var i=document.createElement("input");i.classList.add("tabulator-title-editor"),i.addEventListener("click",(function(e){e.stopPropagation(),i.focus()})),i.addEventListener("change",(function(){t.title=i.value,e.dispatchExternal("columnTitleChanged",e.getComponent())})),n.appendChild(i),t.field?this.langBind("columns|"+t.field,(function(e){i.value=e||t.title||"&nbsp;"})):i.value=t.title||"&nbsp;"}else t.field?this.langBind("columns|"+t.field,(function(i){e._formatColumnHeaderTitle(n,i||t.title||"&nbsp;")})):this._formatColumnHeaderTitle(n,t.title||"&nbsp;");return n}},{key:"_formatColumnHeaderTitle",value:function(e,t){var n=this.chain("column-format",[this,t,e],null,(function(){return t}));switch(typeof n){case"object":n instanceof Node?e.appendChild(n):(e.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",n));break;case"undefined":case"null":e.innerHTML="";break;default:e.innerHTML=n}}},{key:"_buildGroupHeader",value:function(){var e=this;(this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass)&&this.definition.cssClass.split(" ").forEach((function(t){e.element.classList.add(t)}));this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}},{key:"_getFlatData",value:function(e){return e[this.field]}},{key:"_getNestedData",value:function(e){for(var t,n=e,i=this.fieldStructure,o=i.length,r=0;r<o&&(t=n=n[i[r]],n);r++);return t}},{key:"_setFlatData",value:function(e,t){this.field&&(e[this.field]=t)}},{key:"_setNestedData",value:function(e,t){for(var n=e,i=this.fieldStructure,o=i.length,r=0;r<o;r++)if(r==o-1)n[i[r]]=t;else{if(!n[i[r]]){if("undefined"===typeof t)break;n[i[r]]={}}n=n[i[r]]}}},{key:"attachColumn",value:function(e){this.groupElement?(this.columns.push(e),this.groupElement.appendChild(e.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}},{key:"verticalAlign",value:function(e,t){var n=this.parent.isGroup?this.parent.getGroupElement().clientHeight:t||this.parent.getHeadersElement().clientHeight;this.element.style.height=n+"px",this.isGroup&&(this.groupElement.style.minHeight=n-this.contentElement.offsetHeight+"px"),this.isGroup||"top"===e||(this.element.style.paddingTop="bottom"===e?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach((function(t){t.verticalAlign(e)}))}},{key:"clearVerticalAlign",value:function(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach((function(e){e.clearVerticalAlign()}))}},{key:"bindModuleColumns",value:function(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}},{key:"getElement",value:function(){return this.element}},{key:"getGroupElement",value:function(){return this.groupElement}},{key:"getField",value:function(){return this.field}},{key:"getFirstColumn",value:function(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}},{key:"getLastColumn",value:function(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}},{key:"getColumns",value:function(){return this.columns}},{key:"getCells",value:function(){return this.cells}},{key:"getTopColumn",value:function(){return this.parent.isGroup?this.parent.getTopColumn():this}},{key:"getDefinition",value:function(e){var t=[];return this.isGroup&&e&&(this.columns.forEach((function(e){t.push(e.getDefinition(!0))})),this.definition.columns=t),this.definition}},{key:"checkColumnVisibility",value:function(){var e=!1;this.columns.forEach((function(t){t.visible&&(e=!0)})),e?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}},{key:"show",value:function(e,t){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.show()})),this.isGroup||null!==this.width||this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,t),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}},{key:"hide",value:function(e,t){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach((function(e){e.hide()})),this.dispatch("column-hide",this),e||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}},{key:"matchChildWidths",value:function(){var e=0;this.contentElement&&this.columns.length&&(this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})),this.contentElement.style.maxWidth=e-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}},{key:"removeChild",value:function(e){var t=this.columns.indexOf(e);t>-1&&this.columns.splice(t,1),this.columns.length||this.delete()}},{key:"setWidth",value:function(e){this.widthFixed=!0,this.setWidthActual(e)}},{key:"setWidthActual",value:function(e){isNaN(e)&&(e=Math.floor(this.table.element.clientWidth/100*parseInt(e))),e=Math.max(this.minWidth,e),this.maxWidth&&(e=Math.min(this.maxWidth,e)),this.width=e,this.widthStyled=e?e+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach((function(e){e.setWidth()})),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}},{key:"checkCellHeights",value:function(){var e=[];this.cells.forEach((function(t){t.row.heightInitialized&&(null!==t.row.getElement().offsetParent?(e.push(t.row),t.row.clearCellHeight()):t.row.heightInitialized=!1)})),e.forEach((function(e){e.calcHeight()})),e.forEach((function(e){e.setCellHeight()}))}},{key:"getWidth",value:function(){var e=0;return this.isGroup?this.columns.forEach((function(t){t.visible&&(e+=t.getWidth())})):e=this.width,e}},{key:"getHeight",value:function(){return this.element.offsetHeight}},{key:"setMinWidth",value:function(e){this.minWidth=e,this.minWidthStyled=e?e+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach((function(e){e.setMinWidth()}))}},{key:"setMaxWidth",value:function(e){this.maxWidth=e,this.maxWidthStyled=e?e+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach((function(e){e.setMaxWidth()}))}},{key:"delete",value:function(){var e=this;return new Promise((function(t,n){e.isGroup&&e.columns.forEach((function(e){e.delete()})),e.dispatch("column-delete",e);for(var i=e.cells.length,o=0;o<i;o++)e.cells[0].delete();e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element=!1,e.contentElement=!1,e.titleElement=!1,e.groupElement=!1,e.parent.isGroup&&e.parent.removeChild(e),e.table.columnManager.deregisterColumn(e),e.table.columnManager.renderer.rerenderColumns(!0),t()}))}},{key:"columnRendered",value:function(){this.titleFormatterRendered&&this.titleFormatterRendered()}},{key:"generateCell",value:function(e){var t=new D(this,e);return this.cells.push(t),t}},{key:"nextColumn",value:function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._nextVisibleColumn(e+1)}},{key:"_nextVisibleColumn",value:function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._nextVisibleColumn(e+1)}},{key:"prevColumn",value:function(){var e=this.table.columnManager.findColumnIndex(this);return e>-1&&this._prevVisibleColumn(e-1)}},{key:"_prevVisibleColumn",value:function(e){var t=this.table.columnManager.getColumnByIndex(e);return!t||t.visible?t:this._prevVisibleColumn(e-1)}},{key:"reinitializeWidth",value:function(e){this.widthFixed=!1,"undefined"===typeof this.definition.width||e||this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(),this.dispatch("column-width-fit-after",this)}},{key:"fitToData",value:function(){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach((function(e){e.clearWidth()})));var e=this.element.offsetWidth;this.width&&this.widthFixed||(this.cells.forEach((function(t){var n=t.getWidth();n>e&&(e=n)})),e&&this.setWidthActual(e+1))}}},{key:"updateDefinition",value:function(e){var t,n=this;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(t=Object.assign({},this.getDefinition()),t=Object.assign(t,e),this.table.columnManager.addColumn(t,!1,this).then((function(e){return t.field==n.field&&(n.field=!1),n.delete().then((function(){return e.getComponent()}))})))}},{key:"deleteCell",value:function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}},{key:"getComponent",value:function(){return this.component||(this.component=new P(this)),this.component}}]),n}(b);F.defaultOptionList=z;var _=function(){function e(t){return m(this,e),this._row=t,new Proxy(this,{get:function(e,t,n){return"undefined"!==typeof e[t]?e[t]:e._row.table.componentFunctionBinder.handle("row",e._row,t)}})}return v(e,[{key:"getData",value:function(e){return this._row.getData(e)}},{key:"getElement",value:function(){return this._row.getElement()}},{key:"getCells",value:function(){var e=[];return this._row.getCells().forEach((function(t){e.push(t.getComponent())})),e}},{key:"getCell",value:function(e){var t=this._row.getCell(e);return!!t&&t.getComponent()}},{key:"getIndex",value:function(){return this._row.getData("data")[this._row.table.options.index]}},{key:"getPosition",value:function(e){return this._row.table.rowManager.getRowPosition(this._row,e)}},{key:"delete",value:function(){return this._row.delete()}},{key:"scrollTo",value:function(){return this._row.table.rowManager.scrollToRow(this._row)}},{key:"move",value:function(e,t){this._row.moveToRow(e,t)}},{key:"update",value:function(e){return this._row.updateData(e)}},{key:"normalizeHeight",value:function(){this._row.normalizeHeight(!0)}},{key:"_getSelf",value:function(){return this._row}},{key:"reformat",value:function(){return this._row.reinitialize()}},{key:"getTable",value:function(){return this._row.table}},{key:"getNextRow",value:function(){var e=this._row.nextRow();return e?e.getComponent():e}},{key:"getPrevRow",value:function(){var e=this._row.prevRow();return e?e.getComponent():e}}]),e}(),O=function(e){c(n,e);var t=p(n);function n(e,i){var o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"row";return m(this,n),(o=t.call(this,i.table)).parent=i,o.data={},o.type=r,o.element=!1,o.modules={},o.cells=[],o.height=0,o.heightStyled="",o.manualHeight=!1,o.outerHeight=0,o.initialized=!1,o.heightInitialized=!1,o.component=null,o.created=!1,o.setData(e),o}return v(n,[{key:"create",value:function(){this.created||(this.created=!0,this.generateElement())}},{key:"createElement",value:function(){var e=document.createElement("div");e.classList.add("tabulator-row"),e.setAttribute("role","row"),this.element=e}},{key:"getElement",value:function(){return this.create(),this.element}},{key:"detachElement",value:function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"generateElement",value:function(){this.createElement(),this.dispatch("row-init",this)}},{key:"generateCells",value:function(){this.cells=this.table.columnManager.generateCells(this)}},{key:"initialize",value:function(e){if(this.create(),!this.initialized||e){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),e&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.initialized=!0,this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}},{key:"reinitializeHeight",value:function(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}},{key:"deinitializeHeight",value:function(){this.heightInitialized=!1}},{key:"reinitialize",value:function(e){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}},{key:"calcHeight",value:function(e){var t=0,n=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach((function(e){var n=e.getHeight();n>t&&(t=n)})),this.height=e?Math.max(t,n):this.manualHeight?this.height:Math.max(t,n),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}},{key:"setCellHeight",value:function(){this.cells.forEach((function(e){e.setHeight()})),this.heightInitialized=!0}},{key:"clearCellHeight",value:function(){this.cells.forEach((function(e){e.clearHeight()}))}},{key:"normalizeHeight",value:function(e){e&&this.clearCellHeight(),this.calcHeight(e),this.setCellHeight()}},{key:"setHeight",value:function(e,t){(this.height!=e||t)&&(this.manualHeight=!0,this.height=e,this.heightStyled=e?e+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}},{key:"getHeight",value:function(){return this.outerHeight}},{key:"getWidth",value:function(){return this.element.offsetWidth}},{key:"deleteCell",value:function(e){var t=this.cells.indexOf(e);t>-1&&this.cells.splice(t,1)}},{key:"setData",value:function(e){this.data=this.chain("row-data-init-before",[this,e],void 0,e),this.dispatch("row-data-init-after",this)}},{key:"updateData",value:function(e){var t,n=this,i=this.element&&w.elVisible(this.element),o={};return new Promise((function(r,a){for(var l in"string"===typeof e&&(e=JSON.parse(e)),n.dispatch("row-data-save-before",n),n.subscribed("row-data-changing")&&(o=Object.assign(o,n.data),o=Object.assign(o,e)),t=n.chain("row-data-changing",[n,o,e],null,e))n.data[l]=t[l];for(var l in n.dispatch("row-data-save-after",n),e){n.table.columnManager.getColumnsByFieldRoot(l).forEach((function(e){var o=n.getCell(e.getField());if(o){var r=e.getFieldValue(t);o.getValue()!=r&&(o.setValueProcessData(r),i&&o.cellRendered())}}))}i?(n.normalizeHeight(!0),n.table.options.rowFormatter&&n.table.options.rowFormatter(n.getComponent())):(n.initialized=!1,n.height=0,n.heightStyled=""),n.dispatch("row-data-changed",n,i,e),n.dispatchExternal("rowUpdated",n.getComponent()),n.subscribedExternal("dataChanged")&&n.dispatchExternal("dataChanged",n.table.rowManager.getData()),r()}))}},{key:"getData",value:function(e){return e?this.chain("row-data-retrieve",[this,e],null,this.data):this.data}},{key:"getCell",value:function(e){return e=this.table.columnManager.findColumn(e),this.initialized||this.generateCells(),this.cells.find((function(t){return t.column===e}))}},{key:"getCellIndex",value:function(e){return this.cells.findIndex((function(t){return t===e}))}},{key:"findCell",value:function(e){return this.cells.find((function(t){return t.element===e}))}},{key:"getCells",value:function(){return this.initialized||this.generateCells(),this.cells}},{key:"nextRow",value:function(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}},{key:"prevRow",value:function(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}},{key:"moveToRow",value:function(e,t){var n=this.table.rowManager.findRow(e);n?(this.table.rowManager.moveRowActual(this,n,!t),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",e)}},{key:"delete",value:function(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}},{key:"deleteActual",value:function(e){this.table.rowManager.getRowIndex(this);this.detatchModules(),this.table.rowManager.deleteRow(this,e),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}},{key:"detatchModules",value:function(){this.dispatch("row-deleting",this)}},{key:"deleteCells",value:function(){for(var e=this.cells.length,t=0;t<e;t++)this.cells[0].delete()}},{key:"wipe",value:function(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}},{key:"getGroup",value:function(){return this.modules.group||!1}},{key:"getComponent",value:function(){return this.component||(this.component=new _(this)),this.component}}]),n}(b),H={avg:function(e,t,n){var i=0,o="undefined"!==typeof n.precision?n.precision:2;return e.length&&(i=e.reduce((function(e,t){return Number(e)+Number(t)})),i/=e.length,i=!1!==o?i.toFixed(o):i),parseFloat(i).toString()},max:function(e,t,n){var i=null,o="undefined"!==typeof n.precision&&n.precision;return e.forEach((function(e){((e=Number(e))>i||null===i)&&(i=e)})),null!==i?!1!==o?i.toFixed(o):i:""},min:function(e,t,n){var i=null,o="undefined"!==typeof n.precision&&n.precision;return e.forEach((function(e){((e=Number(e))<i||null===i)&&(i=e)})),null!==i?!1!==o?i.toFixed(o):i:""},sum:function(e,t,n){var i=0,o="undefined"!==typeof n.precision&&n.precision;return e.length&&e.forEach((function(e){e=Number(e),i+=isNaN(e)?0:Number(e)})),!1!==o?i.toFixed(o):i},concat:function(e,t,n){var i=0;return e.length&&(i=e.reduce((function(e,t){return String(e)+String(t)}))),i},count:function(e,t,n){var i=0;return e.length&&e.forEach((function(e){e&&i++})),i}},A=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).topCalcs=[],i.botCalcs=[],i.genColumn=!1,i.topElement=i.createElement(),i.botElement=i.createElement(),i.topRow=!1,i.botRow=!1,i.topInitialized=!1,i.botInitialized=!1,i.registerTableOption("columnCalcs",!0),i.registerColumnOption("topCalc"),i.registerColumnOption("topCalcParams"),i.registerColumnOption("topCalcFormatter"),i.registerColumnOption("topCalcFormatterParams"),i.registerColumnOption("bottomCalc"),i.registerColumnOption("bottomCalcParams"),i.registerColumnOption("bottomCalcFormatter"),i.registerColumnOption("bottomCalcFormatterParams"),i}return v(n,[{key:"createElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-calcs-holder"),e}},{key:"initialize",value:function(){this.genColumn=new F({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refeshed",this.recalcActiveRows.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}},{key:"tableRedraw",value:function(e){this.recalc(this.table.rowManager.activeRows),e&&this.redraw()}},{key:"userRecalc",value:function(){this.recalc(this.table.rowManager.activeRows)}},{key:"rowsUpdated",value:function(e){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}},{key:"recalcActiveRows",value:function(){this.recalc(this.table.rowManager.activeRows)}},{key:"cellValueChanged",value:function(e){(e.column.definition.topCalc||e.column.definition.bottomCalc)&&(this.table.options.groupBy?("table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs||this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(e.row)):this.recalcActiveRows())}},{key:"initializeColumnCheck",value:function(e){(e.definition.topCalc||e.definition.bottomCalc)&&this.initializeColumn(e)}},{key:"initializeColumn",value:function(e){var t=e.definition,i={topCalcParams:t.topCalcParams||{},botCalcParams:t.bottomCalcParams||{}};if(t.topCalc){switch(typeof t.topCalc){case"string":n.calculations[t.topCalc]?i.topCalc=n.calculations[t.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.topCalc);break;case"function":i.topCalc=t.topCalc}i.topCalc&&(e.modules.columnCalcs=i,this.topCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(t.bottomCalc){switch(typeof t.bottomCalc){case"string":n.calculations[t.bottomCalc]?i.botCalc=n.calculations[t.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",t.bottomCalc);break;case"function":i.botCalc=t.bottomCalc}i.botCalc&&(e.modules.columnCalcs=i,this.botCalcs.push(e),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}},{key:"registerColumnField",value:function(){}},{key:"removeCalcs",value:function(){var e=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),e=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),e=!0),e&&this.table.rowManager.adjustTableSize()}},{key:"initializeTopRow",value:function(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}},{key:"initializeBottomRow",value:function(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}},{key:"scrollHorizontal",value:function(e){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-e+"px")}},{key:"recalc",value:function(e){var t;if(this.topInitialized||this.botInitialized){if(this.rowsToData(e),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),t=this.generateRow("top",this.rowsToData(e)),this.topRow=t;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(t.getElement()),t.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),t=this.generateRow("bottom",this.rowsToData(e)),this.botRow=t;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(t.getElement()),t.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}},{key:"recalcRowGroup",value:function(e){this.recalcGroup(this.table.modules.groupRows.getRowGroup(e))}},{key:"recalcAll",value:function(){var e=this;(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs&&this.table.modules.groupRows.getChildGroups().forEach((function(t){e.recalcGroup(t)})))}},{key:"recalcGroup",value:function(e){var t,n;e&&e.calcs&&(e.calcs.bottom&&(t=this.rowsToData(e.rows),n=this.generateRowData("bottom",t),e.calcs.bottom.updateData(n),e.calcs.bottom.reinitialize()),e.calcs.top&&(t=this.rowsToData(e.rows),n=this.generateRowData("top",t),e.calcs.top.updateData(n),e.calcs.top.reinitialize()))}},{key:"generateTopRow",value:function(e){return this.generateRow("top",this.rowsToData(e))}},{key:"generateBottomRow",value:function(e){return this.generateRow("bottom",this.rowsToData(e))}},{key:"rowsToData",value:function(e){var t=this,n=[];return e.forEach((function(e){if(n.push(e.getData()),t.table.options.dataTree&&t.table.options.dataTreeChildColumnCalcs&&e.modules.dataTree.open){var i=t.rowsToData(t.table.modules.dataTree.getFilteredTreeChildren(e));n=n.concat(i)}})),n}},{key:"generateRow",value:function(e,t){var n,i=this,o=this.generateRowData(e,t);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),n=new O(o,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),n.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+e),n.component=!1,n.getComponent=function(){return n.component||(n.component=new S(i)),n.component},n.generateCells=function(){var t=[];i.table.columnManager.columnsByIndex.forEach((function(o){i.genColumn.setField(o.getField()),i.genColumn.hozAlign=o.hozAlign,o.definition[e+"CalcFormatter"]&&i.table.modExists("format")?i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter(o.definition[e+"CalcFormatter"]),params:o.definition[e+"CalcFormatterParams"]||{}}:i.genColumn.modules.format={formatter:i.table.modules.format.getFormatter("plaintext"),params:{}},i.genColumn.definition.cssClass=o.definition.cssClass;var r=new D(i.genColumn,n);r.getElement(),r.column=o,r.setWidth(),o.cells.push(r),t.push(r),o.visible||r.hide()})),n.cells=t},n}},{key:"generateRowData",value:function(e,t){var n,i,o={},r="top"==e?this.topCalcs:this.botCalcs,a="top"==e?"topCalc":"botCalc";return r.forEach((function(e){var r=[];e.modules.columnCalcs&&e.modules.columnCalcs[a]&&(t.forEach((function(t){r.push(e.getFieldValue(t))})),i=a+"Params",n="function"===typeof e.modules.columnCalcs[i]?e.modules.columnCalcs[i](r,t):e.modules.columnCalcs[i],e.setFieldValue(o,e.modules.columnCalcs[a](r,t,n)))})),o}},{key:"hasTopCalcs",value:function(){return!!this.topCalcs.length}},{key:"hasBottomCalcs",value:function(){return!!this.botCalcs.length}},{key:"redraw",value:function(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}},{key:"getResults",value:function(){var e=this,t={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach((function(n){t[n.getKey()]=e.getGroupResults(n)})):t={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},t}},{key:"getGroupResults",value:function(e){var t=this,n=e._getSelf(),i=e.getSubGroups(),o={};return i.forEach((function(e){o[e.getKey()]=t.getGroupResults(e)})),{top:n.calcs.top?n.calcs.top.getData():{},bottom:n.calcs.bottom?n.calcs.bottom.getData():{},groups:o}}}]),n}(y);A.moduleName="columnCalcs",A.calculations=H;var N=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).indent=10,i.field="",i.collapseEl=null,i.expandEl=null,i.branchEl=null,i.elementField=!1,i.startOpen=function(){},i.displayIndex=0,i.registerTableOption("dataTree",!1),i.registerTableOption("dataTreeFilter",!0),i.registerTableOption("dataTreeSort",!0),i.registerTableOption("dataTreeElementColumn",!1),i.registerTableOption("dataTreeBranchElement",!0),i.registerTableOption("dataTreeChildIndent",9),i.registerTableOption("dataTreeChildField","_children"),i.registerTableOption("dataTreeCollapseElement",!1),i.registerTableOption("dataTreeExpandElement",!1),i.registerTableOption("dataTreeStartExpanded",!1),i.registerTableOption("dataTreeChildColumnCalcs",!1),i.registerTableOption("dataTreeSelectPropagate",!1),i.registerComponentFunction("row","treeCollapse",i.collapseRow.bind(s(i))),i.registerComponentFunction("row","treeExpand",i.expandRow.bind(s(i))),i.registerComponentFunction("row","treeToggle",i.toggleRow.bind(s(i))),i.registerComponentFunction("row","getTreeParent",i.getTreeParent.bind(s(i))),i.registerComponentFunction("row","getTreeChildren",i.getRowChildren.bind(s(i))),i.registerComponentFunction("row","addTreeChild",i.addTreeChildRow.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){if(this.table.options.dataTree){var e=null,t=this.table.columnManager.getFirstVisibileColumn(),n=this.table.options;switch(this.field=n.dataTreeChildField,this.indent=n.dataTreeChildIndent,this.elementField=n.dataTreeElementColumn||!!t&&t.field,n.dataTreeBranchElement&&(!0===n.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"===typeof n.dataTreeBranchElement?((e=document.createElement("div")).innerHTML=n.dataTreeBranchElement,this.branchEl=e.firstChild):this.branchEl=n.dataTreeBranchElement),n.dataTreeCollapseElement?"string"===typeof n.dataTreeCollapseElement?((e=document.createElement("div")).innerHTML=n.dataTreeCollapseElement,this.collapseEl=e.firstChild):this.collapseEl=n.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),n.dataTreeExpandElement?"string"===typeof n.dataTreeExpandElement?((e=document.createElement("div")).innerHTML=n.dataTreeExpandElement,this.expandEl=e.firstChild):this.expandEl=n.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof n.dataTreeStartExpanded){case"boolean":this.startOpen=function(e,t){return n.dataTreeStartExpanded};break;case"function":this.startOpen=n.dataTreeStartExpanded;break;default:this.startOpen=function(e,t){return n.dataTreeStartExpanded[t]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-relayout",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}},{key:"getRowChildren",value:function(e){return this.getTreeChildren(e,!0)}},{key:"columnMoving",value:function(){var e=this,t=[];return this.table.rowManager.rows.forEach((function(n){t=t.concat(e.getTreeChildren(n,!1,!0))})),t}},{key:"rowDataChanged",value:function(e,t,n){this.redrawNeeded(n)&&(this.initializeRow(e),t&&(this.layoutRow(e),this.refreshData(!0)))}},{key:"initializeRow",value:function(e){var t=e.getData()[this.field],n=Array.isArray(t),i=n||!n&&"object"===typeof t&&null!==t;!i&&e.modules.dataTree&&e.modules.dataTree.branchEl&&e.modules.dataTree.branchEl.parentNode.removeChild(e.modules.dataTree.branchEl),!i&&e.modules.dataTree&&e.modules.dataTree.controlEl&&e.modules.dataTree.controlEl.parentNode.removeChild(e.modules.dataTree.controlEl),e.modules.dataTree={index:e.modules.dataTree?e.modules.dataTree.index:0,open:!!i&&(e.modules.dataTree?e.modules.dataTree.open:this.startOpen(e.getComponent(),0)),controlEl:!(!e.modules.dataTree||!i)&&e.modules.dataTree.controlEl,branchEl:!(!e.modules.dataTree||!i)&&e.modules.dataTree.branchEl,parent:!!e.modules.dataTree&&e.modules.dataTree.parent,children:i}}},{key:"reinitializeRowChildren",value:function(e){this.getTreeChildren(e,!1,!0).forEach((function(e){e.reinitialize(!0)}))}},{key:"layoutRow",value:function(e){var t=(this.elementField?e.getCell(this.elementField):e.getCells()[0]).getElement(),n=e.modules.dataTree;n.branchEl&&(n.branchEl.parentNode&&n.branchEl.parentNode.removeChild(n.branchEl),n.branchEl=!1),n.controlEl&&(n.controlEl.parentNode&&n.controlEl.parentNode.removeChild(n.controlEl),n.controlEl=!1),this.generateControlElement(e,t),e.getElement().classList.add("tabulator-tree-level-"+n.index),n.index&&(this.branchEl?(n.branchEl=this.branchEl.cloneNode(!0),t.insertBefore(n.branchEl,t.firstChild),this.table.rtl?n.branchEl.style.marginRight=(n.branchEl.offsetWidth+n.branchEl.style.marginLeft)*(n.index-1)+n.index*this.indent+"px":n.branchEl.style.marginLeft=(n.branchEl.offsetWidth+n.branchEl.style.marginRight)*(n.index-1)+n.index*this.indent+"px"):this.table.rtl?t.style.paddingRight=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-right"))+n.index*this.indent+"px":t.style.paddingLeft=parseInt(window.getComputedStyle(t,null).getPropertyValue("padding-left"))+n.index*this.indent+"px")}},{key:"generateControlElement",value:function(e,t){var n=this,i=e.modules.dataTree,o=(t=t||e.getCells()[0].getElement(),i.controlEl);!1!==i.children&&(i.open?(i.controlEl=this.collapseEl.cloneNode(!0),i.controlEl.addEventListener("click",(function(t){t.stopPropagation(),n.collapseRow(e)}))):(i.controlEl=this.expandEl.cloneNode(!0),i.controlEl.addEventListener("click",(function(t){t.stopPropagation(),n.expandRow(e)}))),i.controlEl.addEventListener("mousedown",(function(e){e.stopPropagation()})),o&&o.parentNode===t?o.parentNode.replaceChild(i.controlEl,o):t.insertBefore(i.controlEl,t.firstChild))}},{key:"setDisplayIndex",value:function(e){this.displayIndex=e}},{key:"getDisplayIndex",value:function(){return this.displayIndex}},{key:"getRows",value:function(e){var t=this,n=[];return e.forEach((function(e,i){var o;n.push(e),e instanceof O&&(e.create(),(o=e.modules.dataTree.children).index||!1===o.children||t.getChildren(e).forEach((function(e){e.create(),n.push(e)})))})),n}},{key:"getChildren",value:function(e,t){var n=this,i=e.modules.dataTree,o=[],r=[];return!1!==i.children&&(i.open||t)&&(Array.isArray(i.children)||(i.children=this.generateChildren(e)),o=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(i.children):i.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(o),o.forEach((function(e){r.push(e),n.getChildren(e).forEach((function(e){r.push(e)}))}))),r}},{key:"generateChildren",value:function(e){var t=this,n=[],i=e.getData()[this.field];return Array.isArray(i)||(i=[i]),i.forEach((function(i){var o=new O(i||{},t.table.rowManager);o.create(),o.modules.dataTree.index=e.modules.dataTree.index+1,o.modules.dataTree.parent=e,o.modules.dataTree.children&&(o.modules.dataTree.open=t.startOpen(o.getComponent(),o.modules.dataTree.index)),n.push(o)})),n}},{key:"expandRow",value:function(e,t){var n=e.modules.dataTree;!1!==n.children&&(n.open=!0,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",e.getComponent(),e.modules.dataTree.index))}},{key:"collapseRow",value:function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open=!1,e.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",e.getComponent(),e.modules.dataTree.index))}},{key:"toggleRow",value:function(e){var t=e.modules.dataTree;!1!==t.children&&(t.open?this.collapseRow(e):this.expandRow(e))}},{key:"getTreeParent",value:function(e){return!!e.modules.dataTree.parent&&e.modules.dataTree.parent.getComponent()}},{key:"getFilteredTreeChildren",value:function(e){var t=e.modules.dataTree,n=[];return t.children&&(Array.isArray(t.children)||(t.children=this.generateChildren(e)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(t.children):t.children).forEach((function(e){e instanceof O&&n.push(e)}))),n}},{key:"rowDelete",value:function(e){var t,n=e.modules.dataTree.parent;n&&(!1!==(t=this.findChildIndex(e,n))&&n.data[this.field].splice(t,1),n.data[this.field].length||delete n.data[this.field],this.initializeRow(n),this.layoutRow(n)),this.refreshData(!0)}},{key:"addTreeChildRow",value:function(e,t,n,i){var o=!1;"string"===typeof t&&(t=JSON.parse(t)),Array.isArray(e.data[this.field])||(e.data[this.field]=[],e.modules.dataTree.open=this.startOpen(e.getComponent(),e.modules.dataTree.index)),"undefined"!==typeof i&&!1!==(o=this.findChildIndex(i,e))&&e.data[this.field].splice(n?o:o+1,0,t),!1===o&&(n?e.data[this.field].unshift(t):e.data[this.field].push(t)),this.initializeRow(e),this.layoutRow(e),this.refreshData(!0)}},{key:"findChildIndex",value:function(e,t){var n=this,i=!1;return"object"==typeof e?e instanceof O?i=e.data:e instanceof RowComponent?i=e._getSelf().data:"undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&t.modules.dataTree&&(i=t.modules.dataTree.children.find((function(t){return t instanceof O&&t.element===e})))&&(i=i.data):i="undefined"!=typeof e&&null!==e&&t.data[this.field].find((function(t){return t.data[n.table.options.index]==e})),i&&(Array.isArray(t.data[this.field])&&(i=t.data[this.field].indexOf(i)),-1==i&&(i=!1)),i}},{key:"getTreeChildren",value:function(e,t,n){var i=this,o=e.modules.dataTree,r=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(e)),o.children.forEach((function(e){e instanceof O&&(r.push(t?e.getComponent():e),n&&(r=r.concat(i.getTreeChildren(e,t,n))))}))),r}},{key:"checkForRestyle",value:function(e){e.row.cells.indexOf(e)||this.layoutRow(e.row)}},{key:"getChildField",value:function(){return this.field}},{key:"redrawNeeded",value:function(e){return!!this.field&&"undefined"!==typeof e[this.field]||!!this.elementField&&"undefined"!==typeof e[this.elementField]}}]),n}(y);N.moduleName="dataTree";var B={csv:function(e,t,n){var i=t&&t.delimiter?t.delimiter:",",o=[],r=[];e.forEach((function(e){var t=[];switch(e.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":e.columns.forEach((function(e,t){e&&1===e.depth&&(r[t]="undefined"==typeof e.value||null===e.value?"":'"'+String(e.value).split('"').join('""')+'"')}));break;case"row":e.columns.forEach((function(e){if(e){switch(typeof e.value){case"object":e.value=JSON.stringify(e.value);break;case"undefined":case"null":e.value=""}t.push('"'+String(e.value).split('"').join('""')+'"')}})),o.push(t.join(i))}})),r.length&&o.unshift(r.join(i)),o=o.join("\n"),t.bom&&(o="\ufeff"+o),n(o,"text/csv")},json:function(e,t,n){var i=[];e.forEach((function(e){var t={};switch(e.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":e.columns.forEach((function(e){e&&(t[e.component.getField()]=e.value)})),i.push(t)}})),n(i=JSON.stringify(i,null,"\t"),"application/json")},pdf:function(e,t,n){var i=[],o=[],r={},a=t.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},l=t.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},s=t.jsPDF||{},u=t&&t.title?t.title:"";function c(e,t){var n=[];return e.columns.forEach((function(e){var i;if(e){switch(typeof e.value){case"object":e.value=JSON.stringify(e.value);break;case"undefined":case"null":e.value=""}i={content:e.value,colSpan:e.width,rowSpan:e.height},t&&(i.styles=t),n.push(i)}else n.push("")})),n}s.orientation||(s.orientation=t.orientation||"landscape"),s.unit||(s.unit="pt"),e.forEach((function(e){switch(e.type){case"header":i.push(c(e));break;case"group":o.push(c(e,a));break;case"calc":o.push(c(e,l));break;case"row":o.push(c(e))}}));var d=new jspdf.jsPDF(s);t&&t.autoTable&&(r="function"===typeof t.autoTable?t.autoTable(d)||{}:t.autoTable),u&&(r.didDrawPage=function(e){d.text(u,40,30)}),r.head=i,r.body=o,d.autoTable(r),t&&t.documentProcessing&&t.documentProcessing(d),n(d.output("arraybuffer"),"application/pdf")},xlsx:function(e,t,n){var i=t.sheetName||"Sheet1",o=XLSX.utils.book_new(),r=new b(this);function a(){var t=[],n=[],i={},o={s:{c:0,r:0},e:{c:e[0]?e[0].columns.reduce((function(e,t){return e+(t&&t.width?t.width:1)}),0):0,r:e.length}};return e.forEach((function(e,i){var o=[];e.columns.forEach((function(e,t){e?(o.push(e.value instanceof Date||"object"!==typeof e.value?e.value:JSON.stringify(e.value)),(e.width>1||e.height>-1)&&n.push({s:{r:i,c:t},e:{r:i+e.height-1,c:t+e.width-1}})):o.push("")})),t.push(o)})),XLSX.utils.sheet_add_aoa(i,t),i["!ref"]=XLSX.utils.encode_range(o),n.length&&(i["!merges"]=n),i}if(o.SheetNames=[],o.Sheets={},t.sheetOnly)n(a());else{if(t.sheets)for(var l in t.sheets)!0===t.sheets[l]?(o.SheetNames.push(l),o.Sheets[l]=a()):(o.SheetNames.push(l),r.commsSend(t.sheets[l],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(e){o.Sheets[l]=e}}));else o.SheetNames.push(i),o.Sheets[i]=a();t.documentProcessing&&(o=t.documentProcessing(o)),n(function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),i=0;i!=e.length;++i)n[i]=255&e.charCodeAt(i);return t}(XLSX.write(o,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function(e,t,n){this.modExists("export",!0)&&n(this.modules.export.genereateHTMLTable(e),"text/html")}},I=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).registerTableOption("downloadReady",(function(e,t){return t})),i.registerTableOption("downloadConfig",{}),i.registerTableOption("downloadRowRange","active"),i.registerColumnOption("download"),i.registerColumnOption("titleDownload"),i}return v(n,[{key:"initialize",value:function(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}},{key:"downloadToTab",value:function(e,t,n,i){this.download(e,t,n,i,!0)}},{key:"download",value:function(e,t,i,o,r){var a=!1;if("function"==typeof e?a=e:n.downloaders[e]?a=n.downloaders[e]:console.warn("Download Error - No such download type found: ",e),a){var l=this.generateExportList(o);a.call(this.table,l,i||{},function(n,i){r?!0===r?this.triggerDownload(n,i,e,t,!0):r(n):this.triggerDownload(n,i,e,t)}.bind(this))}}},{key:"generateExportList",value:function(e){var t=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,e||this.table.options.downloadRowRange,"download"),n=this.table.options.groupHeaderDownload;return n&&!Array.isArray(n)&&(n=[n]),t.forEach((function(e){var t;"group"===e.type&&(t=e.columns[0],n&&n[e.indent]&&(t.value=n[e.indent](t.value,e.component._group.getRowCount(),e.component._group.getData(),e.component)))})),t}},{key:"triggerDownload",value:function(e,t,n,i,o){var r=document.createElement("a"),a=new Blob([e],{type:t});i=i||"Tabulator."+("function"===typeof n?"txt":n);(a=this.table.options.downloadReady(e,a))&&(o?window.open(window.URL.createObjectURL(a)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(a,i):(r.setAttribute("href",window.URL.createObjectURL(a)),r.setAttribute("download",i),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r)),this.dispatchExternal("downloadComplete"))}},{key:"commsReceived",value:function(e,t,n){if("intercept"===t)this.download(n.type,"",n.options,n.active,n.intercept)}}]),n}(y);function V(e,t){var n=t.mask,i="undefined"!==typeof t.maskLetterChar?t.maskLetterChar:"A",o="undefined"!==typeof t.maskNumberChar?t.maskNumberChar:"9",r="undefined"!==typeof t.maskWildcardChar?t.maskWildcardChar:"*";function a(t){var l=n[t];"undefined"!==typeof l&&l!==r&&l!==i&&l!==o&&(e.value=e.value+""+l,a(t+1))}e.addEventListener("keydown",(function(t){var a=e.value.length,l=t.key;if(t.keyCode>46){if(a>=n.length)return t.preventDefault(),t.stopPropagation(),!1;switch(n[a]){case i:if(l.toUpperCase()==l.toLowerCase())return t.preventDefault(),t.stopPropagation(),!1;break;case o:if(isNaN(l))return t.preventDefault(),t.stopPropagation(),!1;break;case r:break;default:if(l!==n[a])return t.preventDefault(),t.stopPropagation(),!1}}})),e.addEventListener("keyup",(function(n){n.keyCode>46&&t.maskAutoFill&&a(e.value.length)})),e.placeholder||(e.placeholder=n),t.maskAutoFill&&a(e.value.length)}I.moduleName="download",I.downloaders=B;var W={input:function(e,t,n,i,o){var r=e.getValue(),a=document.createElement("input");if(a.setAttribute("type",o.search?"search":"text"),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var l in o.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+o.elementAttributes["+"+l])):a.setAttribute(l,o.elementAttributes[l]);function s(e){(null===r||"undefined"===typeof r)&&""!==a.value||a.value!==r?n(a.value)&&(r=a.value):i()}return a.value="undefined"!==typeof r?r:"",t((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("change",s),a.addEventListener("blur",s),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:s();break;case 27:i();break;case 35:case 36:e.stopPropagation()}})),o.mask&&V(a,o),a},textarea:function(e,t,n,i,o){var r=e.getValue(),a=o.verticalNavigation||"hybrid",l=String(null!==r&&"undefined"!==typeof r?r:""),s=((l.match(/(?:\r\n|\r|\n)/g)||[]).length,document.createElement("textarea")),u=0;if(s.style.display="block",s.style.padding="2px",s.style.height="100%",s.style.width="100%",s.style.boxSizing="border-box",s.style.whiteSpace="pre-wrap",s.style.resize="none",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var c in o.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),s.setAttribute(c,s.getAttribute(c)+o.elementAttributes["+"+c])):s.setAttribute(c,o.elementAttributes[c]);function d(t){(null===r||"undefined"===typeof r)&&""!==s.value||s.value!==r?(n(s.value)&&(r=s.value),setTimeout((function(){e.getRow().normalizeHeight()}),300)):i()}return s.value=l,t((function(){s.focus({preventScroll:!0}),s.style.height="100%",s.scrollHeight,s.style.height=s.scrollHeight+"px",e.getRow().normalizeHeight()})),s.addEventListener("change",d),s.addEventListener("blur",d),s.addEventListener("keyup",(function(){s.style.height="";var t=s.scrollHeight;s.style.height=t+"px",t!=u&&(u=t,e.getRow().normalizeHeight())})),s.addEventListener("keydown",(function(e){switch(e.keyCode){case 27:i();break;case 38:("editor"==a||"hybrid"==a&&s.selectionStart)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 40:("editor"==a||"hybrid"==a&&s.selectionStart!==s.value.length)&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation()}})),o.mask&&V(s,o),s},number:function(e,t,n,i,o){var r=e.getValue(),a=o.verticalNavigation||"editor",l=document.createElement("input");if(l.setAttribute("type","number"),"undefined"!=typeof o.max&&l.setAttribute("max",o.max),"undefined"!=typeof o.min&&l.setAttribute("min",o.min),"undefined"!=typeof o.step&&l.setAttribute("step",o.step),l.style.padding="4px",l.style.width="100%",l.style.boxSizing="border-box",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var s in o.elementAttributes)"+"==s.charAt(0)?(s=s.slice(1),l.setAttribute(s,l.getAttribute(s)+o.elementAttributes["+"+s])):l.setAttribute(s,o.elementAttributes[s]);l.value=r;var u=function(e){c()};function c(){var e=l.value;isNaN(e)||""===e||(e=Number(e)),e!==r?n(e)&&(r=e):i()}return t((function(){l.removeEventListener("blur",u),l.focus({preventScroll:!0}),l.style.height="100%",l.addEventListener("blur",u)})),l.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:c();break;case 27:i();break;case 38:case 40:"editor"==a&&(e.stopImmediatePropagation(),e.stopPropagation());break;case 35:case 36:e.stopPropagation()}})),o.mask&&V(l,o),l},range:function(e,t,n,i,o){var r=e.getValue(),a=document.createElement("input");if(a.setAttribute("type","range"),"undefined"!=typeof o.max&&a.setAttribute("max",o.max),"undefined"!=typeof o.min&&a.setAttribute("min",o.min),"undefined"!=typeof o.step&&a.setAttribute("step",o.step),a.style.padding="4px",a.style.width="100%",a.style.boxSizing="border-box",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var l in o.elementAttributes)"+"==l.charAt(0)?(l=l.slice(1),a.setAttribute(l,a.getAttribute(l)+o.elementAttributes["+"+l])):a.setAttribute(l,o.elementAttributes[l]);function s(){var e=a.value;isNaN(e)||""===e||(e=Number(e)),e!=r?n(e)&&(r=e):i()}return a.value=r,t((function(){a.focus({preventScroll:!0}),a.style.height="100%"})),a.addEventListener("blur",(function(e){s()})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 13:s();break;case 27:i()}})),a},select:function(e,t,n,i,o){var r=this,a=this,l=e.getElement(),s=e.getValue(),u=o.verticalNavigation||"editor",c="undefined"!==typeof s||null===s?Array.isArray(s)?s:[s]:"undefined"!==typeof o.defaultValue?o.defaultValue:[],d=document.createElement("input"),h=document.createElement("div"),f=o.multiselect,p=[],m={},g=[],v=[],b=!0,y=!1,k="",C=null;function E(t){var n,i={},o=a.table.getData();return(n=t?a.table.columnManager.getColumnByField(t):e.getColumn()._getSelf())?o.forEach((function(e){var t=n.getFieldValue(e);null!==t&&"undefined"!==typeof t&&""!==t&&(i[t]=!0)})):console.warn("unable to find matching column to create select lookup list:",t),Object.keys(i)}function x(t,n){var i=[],r=[];function a(e){e={label:e.label,value:e.value,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1};return n.indexOf(e.value)>-1&&T(e),i.push(e),r.push(e),e}if("function"==typeof t&&(t=t(e)),Array.isArray(t))t.forEach((function(e){var t;"object"===typeof e?e.options?(t={label:e.label,group:!0,itemParams:e.itemParams,elementAttributes:e.elementAttributes,element:!1},r.push(t),e.options.forEach((function(e){a(e)}))):a(e):(t={label:e,value:e,element:!1},n.indexOf(t.value)>-1&&T(t),i.push(t),r.push(t))}));else for(var l in t){var s={label:t[l],value:l,element:!1};n.indexOf(s.value)>-1&&T(s),i.push(s),r.push(s)}o.sortValuesList&&(i.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),r.sort((function(e,t){return e.label<t.label?-1:e.label>t.label?1:0})),"asc"!==o.sortValuesList&&(i.reverse(),r.reverse())),p=i,g=r,function(){for(;h.firstChild;)h.removeChild(h.firstChild);g.forEach((function(t){var n=t.element;if(!n){if(n=document.createElement("div"),t.label=o.listItemFormatter?o.listItemFormatter(t.value,t.label,e,n,t.itemParams):t.label,t.group?(n.classList.add("tabulator-edit-select-list-group"),n.tabIndex=0,n.innerHTML=""===t.label?"&nbsp;":t.label):(n.classList.add("tabulator-edit-select-list-item"),n.tabIndex=0,n.innerHTML=""===t.label?"&nbsp;":t.label,n.addEventListener("click",(function(){y=!0,setTimeout((function(){y=!1}),10),f?(S(t),d.focus()):L(t)})),v.indexOf(t)>-1&&n.classList.add("active")),t.elementAttributes&&"object"==typeof t.elementAttributes)for(var i in t.elementAttributes)"+"==i.charAt(0)?(i=i.slice(1),n.setAttribute(i,d.getAttribute(i)+t.elementAttributes["+"+i])):n.setAttribute(i,t.elementAttributes[i]);n.addEventListener("mousedown",(function(){b=!1,setTimeout((function(){b=!0}),10)})),t.element=n}h.appendChild(n)}))}()}function R(e,t){!f&&m&&m.element&&m.element.classList.remove("active"),m&&m.element&&m.element.classList.remove("focused"),m=e,e.element&&(e.element.classList.add("focused"),t&&e.element.classList.add("active")),e&&e.element&&e.element.scrollIntoView&&e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function T(e){-1==v.indexOf(e)&&(v.push(e),R(e,!0)),P()}function M(e){var t=v[e];e>-1&&(v.splice(e,1),t.element&&t.element.classList.remove("active"))}function S(e){e||(e=m);var t=v.indexOf(e);t>-1?M(t):(!0!==f&&v.length>=f&&M(0),T(e)),P()}function L(e){F(),e||(e=m),e&&(d.value=e.label,n(e.value)),c=[e.value]}function D(e){e||F();var t=[];v.forEach((function(e){t.push(e.value)})),c=t,n(t)}function P(){var e=[];v.forEach((function(t){e.push(t.label)})),d.value=e.join(", "),!1===a.currentCell&&D(!0)}function z(){F(),i()}function F(){h.parentNode&&h.parentNode.removeChild(h),a.table.rowManager.element.removeEventListener("scroll",z)}if((Array.isArray(o)||!Array.isArray(o)&&"object"===typeof o&&!o.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),o={values:o}),d.setAttribute("type","text"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",d.style.cursor="default",d.readOnly=0!=this.currentCell,o.elementAttributes&&"object"==typeof o.elementAttributes)for(var _ in o.elementAttributes)"+"==_.charAt(0)?(_=_.slice(1),d.setAttribute(_,d.getAttribute(_)+o.elementAttributes["+"+_])):d.setAttribute(_,o.elementAttributes[_]);return d.value="undefined"!==typeof s||null===s?s:"",d.addEventListener("search",(function(e){d.value||(!function(){for(var e=v.length,t=0;t<e;t++)M(0)}(),D())})),d.addEventListener("keydown",(function(e){var t;switch(e.keyCode){case 38:t=p.indexOf(m),("editor"==u||"hybrid"==u&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t>0&&R(p[t-1],!f));break;case 40:t=p.indexOf(m),("editor"==u||"hybrid"==u&&t<p.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<p.length-1&&R(-1==t?p[0]:p[t+1],!f));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault();break;case 13:f?S():L();break;case 27:z();break;case 9:break;default:!1===a.currentCell&&e.preventDefault(),e.keyCode>=38&&e.keyCode<=90&&function(e){clearTimeout(C);var t=String.fromCharCode(event.keyCode).toLowerCase();k+=t.toLowerCase();var n=p.find((function(e){return"undefined"!==typeof e.label&&e.label.toLowerCase().startsWith(k)}));n&&R(n,!f),C=setTimeout((function(){k=""}),800)}(e.keyCode)}})),d.addEventListener("blur",(function(e){b&&(f?D():z())})),d.addEventListener("focus",(function(e){y||function(){if(v=[],!h.parentNode){!0===o.values?x(E(),c):"string"===typeof o.values?x(E(o.values),c):x(o.values||[],c);var e=w.elOffset(l);h.style.minWidth=l.offsetWidth+"px",h.style.top=e.top+l.offsetHeight+"px",h.style.left=e.left+"px",h.addEventListener("mousedown",(function(e){b=!1,setTimeout((function(){b=!0}),10)})),document.body.appendChild(h)}}()})),(h=document.createElement("div")).classList.add("tabulator-edit-select-list"),t((function(){d.style.height="100%",d.focus({preventScroll:!0})})),setTimeout((function(){r.table.rowManager.element.addEventListener("scroll",z)}),10),d},autocomplete:function(e,t,n,i,o){var r=this,a=this,l=e.getElement(),s=e.getValue(),u=o.verticalNavigation||"editor",c="undefined"!==typeof s||null===s?s:"undefined"!==typeof o.defaultValue?o.defaultValue:"",d=document.createElement("input"),h=document.createElement("div"),f=[],p=!1,m=!0,g=!1;if(d.setAttribute("type","search"),d.style.padding="4px",d.style.width="100%",d.style.boxSizing="border-box",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var v in o.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),d.setAttribute(v,d.getAttribute(v)+o.elementAttributes["+"+v])):d.setAttribute(v,o.elementAttributes[v]);function b(){!0===o.values?g=y():"string"===typeof o.values&&(g=y(o.values))}function y(t){var n,i={},r=a.table.getData();return(n=t?a.table.columnManager.getColumnByField(t):e.getColumn()._getSelf())?(r.forEach((function(e){var t=n.getFieldValue(e);null!==t&&"undefined"!==typeof t&&""!==t&&(i[t]=!0)})),i=o.sortValuesList?"asc"==o.sortValuesList?Object.keys(i).sort():Object.keys(i).sort().reverse():Object.keys(i)):console.warn("unable to find matching column to create autocomplete lookup list:",t),i}function k(e,t){var n,i,r=[];n=g||(o.values||[]),o.searchFunc?(r=o.searchFunc(e,n))instanceof Promise?(C("undefined"!==typeof o.searchingPlaceholder?o.searchingPlaceholder:"Searching..."),r.then((function(e){R(E(e),t)})).catch((function(e){console.err("error in autocomplete search promise:",e)}))):R(E(r),t):(i=E(n),""===e?o.showListOnEmpty&&(r=i):i.forEach((function(t){null===t.value&&"undefined"===typeof t.value||(String(t.value).toLowerCase().indexOf(String(e).toLowerCase())>-1||String(t.title).toLowerCase().indexOf(String(e).toLowerCase())>-1)&&r.push(t)})),R(r,t))}function C(e){var t=document.createElement("div");x(),!1!==e&&(t.classList.add("tabulator-edit-select-list-notice"),t.tabIndex=0,e instanceof Node?t.appendChild(e):t.innerHTML=e,h.appendChild(t))}function E(e){var t=[];if(Array.isArray(e))e.forEach((function(e){var n={};"object"===typeof e?(n.title=o.listItemFormatter?o.listItemFormatter(e.value,e.label):e.label,n.value=e.value):(n.title=o.listItemFormatter?o.listItemFormatter(e,e):e,n.value=e),t.push(n)}));else for(var n in e){var i={title:o.listItemFormatter?o.listItemFormatter(n,e[n]):e[n],value:n};t.push(i)}return t}function x(){for(;h.firstChild;)h.removeChild(h.firstChild)}function R(e,t){e.length?function(e,t){var n=!1;x(),(f=e).forEach((function(e){var i=e.element;i||((i=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),i.tabIndex=0,i.innerHTML=e.title,i.addEventListener("click",(function(t){M(e),T()})),i.addEventListener("mousedown",(function(e){m=!1,setTimeout((function(){m=!0}),10)})),e.element=i,t&&e.value==s&&(d.value=e.title,e.element.classList.add("active"),n=!0),e===p&&(e.element.classList.add("active"),n=!0)),h.appendChild(i)})),n||M(!1)}(e,t):o.emptyPlaceholder&&C(o.emptyPlaceholder)}function T(){S(),p?s!==p.value?(s=p.value,d.value=p.title,n(p.value)):i():o.freetext||o.allowEmpty&&""===d.value?(s=d.value,n(d.value)):i()}function M(e,t){p&&p.element&&p.element.classList.remove("active"),p=e,e&&e.element&&e.element.classList.add("active"),e&&e.element&&e.element.scrollIntoView&&e.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function S(){h.parentNode&&h.parentNode.removeChild(h),a.table.rowManager.element.removeEventListener("scroll",L)}function L(){S(),i()}return h.classList.add("tabulator-edit-select-list"),h.addEventListener("mousedown",(function(e){m=!1,setTimeout((function(){m=!0}),10)})),d.addEventListener("keydown",(function(e){var t;switch(e.keyCode){case 38:t=f.indexOf(p),("editor"==u||"hybrid"==u&&t)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),M(t>0&&f[t-1]));break;case 40:t=f.indexOf(p),("editor"==u||"hybrid"==u&&t<f.length-1)&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t<f.length-1&&M(-1==t?f[0]:f[t+1]));break;case 37:case 39:e.stopImmediatePropagation(),e.stopPropagation();break;case 13:T();break;case 27:L();break;case 36:case 35:e.stopImmediatePropagation()}})),d.addEventListener("keyup",(function(e){switch(e.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:k(d.value)}})),d.addEventListener("search",(function(e){k(d.value)})),d.addEventListener("blur",(function(e){m&&T()})),d.addEventListener("focus",(function(e){var t=c;b(),function(){if(!h.parentNode){for(;h.firstChild;)h.removeChild(h.firstChild);var e=w.elOffset(l);h.style.minWidth=l.offsetWidth+"px",h.style.top=e.top+l.offsetHeight+"px",h.style.left=e.left+"px",document.body.appendChild(h)}}(),d.value=t,k(t,!0)})),t((function(){d.style.height="100%",d.focus({preventScroll:!0})})),o.mask&&V(d,o),setTimeout((function(){r.table.rowManager.element.addEventListener("scroll",L)}),10),b(),d.value=c,k(c,!0),d},star:function(e,t,n,i,o){var r=this,a=e.getElement(),l=e.getValue(),s=a.getElementsByTagName("svg").length||5,u=a.getElementsByTagName("svg")[0]?a.getElementsByTagName("svg")[0].getAttribute("width"):14,c=[],d=document.createElement("div"),h=document.createElementNS("http://www.w3.org/2000/svg","svg");function f(e){c.forEach((function(t,n){n<e?("ie"==r.table.browser?t.setAttribute("class","tabulator-star-active"):t.classList.replace("tabulator-star-inactive","tabulator-star-active"),t.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==r.table.browser?t.setAttribute("class","tabulator-star-inactive"):t.classList.replace("tabulator-star-active","tabulator-star-inactive"),t.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')}))}function p(e){var t=document.createElement("span"),i=h.cloneNode(!0);c.push(i),t.addEventListener("mouseenter",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),f(e)})),t.addEventListener("mousemove",(function(e){e.stopPropagation(),e.stopImmediatePropagation()})),t.addEventListener("click",(function(t){t.stopPropagation(),t.stopImmediatePropagation(),n(e),a.blur()})),t.appendChild(i),d.appendChild(t)}function m(e){l=e,f(e)}if(a.style.whiteSpace="nowrap",a.style.overflow="hidden",a.style.textOverflow="ellipsis",d.style.verticalAlign="middle",d.style.display="inline-block",d.style.padding="4px",h.setAttribute("width",u),h.setAttribute("height",u),h.setAttribute("viewBox","0 0 512 512"),h.setAttribute("xml:space","preserve"),h.style.padding="0 1px",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var g in o.elementAttributes)"+"==g.charAt(0)?(g=g.slice(1),d.setAttribute(g,d.getAttribute(g)+o.elementAttributes["+"+g])):d.setAttribute(g,o.elementAttributes[g]);for(var v=1;v<=s;v++)p(v);return f(l=Math.min(parseInt(l),s)),d.addEventListener("mousemove",(function(e){f(0)})),d.addEventListener("click",(function(e){n(0)})),a.addEventListener("blur",(function(e){i()})),a.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:m(l+1);break;case 37:m(l-1);break;case 13:n(l);break;case 27:i()}})),d},progress:function(e,t,n,i,o){var r,a,l,s,u=e.getElement(),c="undefined"===typeof o.max?(null===(r=u.getElementsByTagName("div")[0])||void 0===r?void 0:r.getAttribute("max"))||100:o.max,d="undefined"===typeof o.min?(null===(a=u.getElementsByTagName("div")[0])||void 0===a?void 0:a.getAttribute("min"))||0:o.min,h=(c-d)/100,f=e.getValue()||0,p=document.createElement("div"),m=document.createElement("div");function g(){var e=window.getComputedStyle(u,null),t=h*Math.round(m.offsetWidth/((u.clientWidth-parseInt(e.getPropertyValue("padding-left"))-parseInt(e.getPropertyValue("padding-right")))/100))+d;n(t),u.setAttribute("aria-valuenow",t),u.setAttribute("aria-label",f)}if(p.style.position="absolute",p.style.right="0",p.style.top="0",p.style.bottom="0",p.style.width="5px",p.classList.add("tabulator-progress-handle"),m.style.display="inline-block",m.style.position="relative",m.style.height="100%",m.style.backgroundColor="#488CE9",m.style.maxWidth="100%",m.style.minWidth="0%",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var v in o.elementAttributes)"+"==v.charAt(0)?(v=v.slice(1),m.setAttribute(v,m.getAttribute(v)+o.elementAttributes["+"+v])):m.setAttribute(v,o.elementAttributes[v]);return u.style.padding="4px 4px",f=Math.min(parseFloat(f),c),f=Math.max(parseFloat(f),d),f=Math.round((f-d)/h),m.style.width=f+"%",u.setAttribute("aria-valuemin",d),u.setAttribute("aria-valuemax",c),m.appendChild(p),p.addEventListener("mousedown",(function(e){l=e.screenX,s=m.offsetWidth})),p.addEventListener("mouseover",(function(){p.style.cursor="ew-resize"})),u.addEventListener("mousemove",(function(e){l&&(m.style.width=s+e.screenX-l+"px")})),u.addEventListener("mouseup",(function(e){l&&(e.stopPropagation(),e.stopImmediatePropagation(),l=!1,s=!1,g())})),u.addEventListener("keydown",(function(e){switch(e.keyCode){case 39:e.preventDefault(),m.style.width=m.clientWidth+u.clientWidth/100+"px";break;case 37:e.preventDefault(),m.style.width=m.clientWidth-u.clientWidth/100+"px";break;case 9:case 13:g();break;case 27:i()}})),u.addEventListener("blur",(function(){i()})),m},tickCross:function(e,t,n,i,o){var r=e.getValue(),a=document.createElement("input"),l=o.tristate,s="undefined"===typeof o.indeterminateValue?null:o.indeterminateValue,u=!1;if(a.setAttribute("type","checkbox"),a.style.marginTop="5px",a.style.boxSizing="border-box",o.elementAttributes&&"object"==typeof o.elementAttributes)for(var c in o.elementAttributes)"+"==c.charAt(0)?(c=c.slice(1),a.setAttribute(c,a.getAttribute(c)+o.elementAttributes["+"+c])):a.setAttribute(c,o.elementAttributes[c]);function d(e){return l?e?u?s:a.checked:a.checked&&!u?(a.checked=!1,a.indeterminate=!0,u=!0,s):(u=!1,a.checked):a.checked}return a.value=r,!l||"undefined"!==typeof r&&r!==s&&""!==r||(u=!0,a.indeterminate=!0),"firefox"!=this.table.browser&&t((function(){a.focus({preventScroll:!0})})),a.checked=!0===r||"true"===r||"True"===r||1===r,t((function(){a.focus()})),a.addEventListener("change",(function(e){n(d())})),a.addEventListener("blur",(function(e){n(d(!0))})),a.addEventListener("keydown",(function(e){13==e.keyCode&&n(d()),27==e.keyCode&&i()})),a}},j=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).currentCell=!1,i.mouseClick=!1,i.recursionBlock=!1,i.invalidEdit=!1,i.editedCells=[],i.editors=n.editors,i.registerColumnOption("editable"),i.registerColumnOption("editor"),i.registerColumnOption("editorParams"),i.registerColumnOption("cellEditing"),i.registerColumnOption("cellEdited"),i.registerColumnOption("cellEditCancelled"),i.registerTableFunction("getEditedCells",i.getEditedCells.bind(s(i))),i.registerTableFunction("clearCellEdited",i.clearCellEdited.bind(s(i))),i.registerTableFunction("navigatePrev",i.navigatePrev.bind(s(i))),i.registerTableFunction("navigateNext",i.navigateNext.bind(s(i))),i.registerTableFunction("navigateLeft",i.navigateLeft.bind(s(i))),i.registerTableFunction("navigateRight",i.navigateRight.bind(s(i))),i.registerTableFunction("navigateUp",i.navigateUp.bind(s(i))),i.registerTableFunction("navigateDown",i.navigateDown.bind(s(i))),i.registerComponentFunction("cell","isEdited",i.cellisEdited.bind(s(i))),i.registerComponentFunction("cell","clearEdited",i.clearEdited.bind(s(i))),i.registerComponentFunction("cell","edit",i.editCell.bind(s(i))),i.registerComponentFunction("cell","cancelEdit",i.cellCancelEdit.bind(s(i))),i.registerComponentFunction("cell","navigatePrev",i.navigatePrev.bind(s(i))),i.registerComponentFunction("cell","navigateNext",i.navigateNext.bind(s(i))),i.registerComponentFunction("cell","navigateLeft",i.navigateLeft.bind(s(i))),i.registerComponentFunction("cell","navigateRight",i.navigateRight.bind(s(i))),i.registerComponentFunction("cell","navigateUp",i.navigateUp.bind(s(i))),i.registerComponentFunction("cell","navigateDown",i.navigateDown.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refeshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this))}},{key:"keybindingNavigateNext",value:function(e){var t=this.currentCell,n=this.options("tabEndNewRow");t&&(this.navigateNext(e)||n&&(t.getElement().firstChild.blur(),(n=!0===n?this.table.addRow({}):"function"==typeof n?this.table.addRow(n(t.row.getComponent())):this.table.addRow(Object.assign({},n))).then((function(){setTimeout((function(){nav.next()}))}))))}},{key:"cellisEdited",value:function(e){return!!e.modules.edit&&e.modules.edit.edited}},{key:"cellCancelEdit",value:function(e){e===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}},{key:"clearCellEdited",value:function(e){var t=this;e||(e=this.modules.edit.getEditedCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.modules.edit.clearEdited(e._getSelf())}))}},{key:"navigatePrev",value:function(e){var t,n,i=this.currentCell;if(i){if(e&&e.preventDefault(),t=this.navigateLeft())return!0;if((n=this.table.rowManager.prevDisplayRow(i.row,!0))&&(t=this.findNextEditableCell(n,n.cells.length)))return t.getComponent().edit(),!0}return!1}},{key:"navigateNext",value:function(e){var t,n,i=this.currentCell;if(i){if(e&&e.preventDefault(),t=this.navigateRight())return!0;if((n=this.table.rowManager.nextDisplayRow(i.row,!0))&&(t=this.findNextEditableCell(n,-1)))return t.getComponent().edit(),!0}return!1}},{key:"navigateLeft",value:function(e){var t,n,i=this.currentCell;return!!(i&&(e&&e.preventDefault(),t=i.getIndex(),n=this.findPrevEditableCell(i.row,t)))&&(n.getComponent().edit(),!0)}},{key:"navigateRight",value:function(e){var t,n,i=this.currentCell;return!!(i&&(e&&e.preventDefault(),t=i.getIndex(),n=this.findNextEditableCell(i.row,t)))&&(n.getComponent().edit(),!0)}},{key:"navigateUp",value:function(e){var t,n,i=this.currentCell;return!!(i&&(e&&e.preventDefault(),t=i.getIndex(),n=this.table.rowManager.prevDisplayRow(i.row,!0)))&&(n.cells[t].getComponent().edit(),!0)}},{key:"navigateDown",value:function(e){var t,n,i=this.currentCell;return!!(i&&(e&&e.preventDefault(),t=i.getIndex(),n=this.table.rowManager.nextDisplayRow(i.row,!0)))&&(n.cells[t].getComponent().edit(),!0)}},{key:"findNextEditableCell",value:function(e,t){var n=!1;if(t<e.cells.length-1)for(var i=t+1;i<e.cells.length;i++){var o=e.cells[i];if(o.column.modules.edit&&w.elVisible(o.getElement())){var r=!0;if("function"==typeof o.column.modules.edit.check&&(r=o.column.modules.edit.check(o.getComponent())),r){n=o;break}}}return n}},{key:"findPrevEditableCell",value:function(e,t){var n=!1;if(t>0)for(var i=t-1;i>=0;i--){var o=e.cells[i],r=!0;if(o.column.modules.edit&&w.elVisible(o.getElement())&&("function"==typeof o.column.modules.edit.check&&(r=o.column.modules.edit.check(o.getComponent())),r)){n=o;break}}return n}},{key:"initializeColumnCheck",value:function(e){"undefined"!==typeof e.definition.editor&&this.initializeColumn(e)}},{key:"columnDeleteCheck",value:function(e){this.currentCell&&this.currentCell.column===e&&this.cancelEdit()}},{key:"rowDeleteCheck",value:function(e){this.currentCell&&this.currentCell.row===e&&this.cancelEdit()}},{key:"initializeColumn",value:function(e){var t={editor:!1,blocked:!1,check:e.definition.editable,params:e.definition.editorParams||{}};switch(typeof e.definition.editor){case"string":this.editors[e.definition.editor]?t.editor=this.editors[e.definition.editor]:console.warn("Editor Error - No such editor found: ",e.definition.editor);break;case"function":t.editor=e.definition.editor;break;case"boolean":!0===e.definition.editor&&("function"!==typeof e.definition.formatter?this.editors[e.definition.formatter]?t.editor=this.editors[e.definition.formatter]:t.editor=this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",e.definition.formatter))}t.editor&&(e.modules.edit=t)}},{key:"getCurrentCell",value:function(){return!!this.currentCell&&this.currentCell.getComponent()}},{key:"clearEditor",value:function(e){var t,n=this.currentCell;if(this.invalidEdit=!1,n){for(this.currentCell=!1,t=n.getElement(),e?n.validate&&n.validate():t.classList.remove("tabulator-validation-fail"),t.classList.remove("tabulator-editing");t.firstChild;)t.removeChild(t.firstChild);n.row.getElement().classList.remove("tabulator-row-editing")}}},{key:"cancelEdit",value:function(){if(this.currentCell){var e=this.currentCell,t=this.currentCell.getComponent();this.clearEditor(!0),e.setValueActual(e.getValue()),e.cellRendered(),("textarea"==e.column.definition.editor||e.column.definition.variableHeight)&&e.row.normalizeHeight(!0),e.column.definition.cellEditCancelled&&e.column.definition.cellEditCancelled.call(this.table,t),this.dispatchExternal("cellEditCancelled",t)}}},{key:"bindEditor",value:function(e){if(e.column.modules.edit){var t=this,n=e.getElement(!0);n.setAttribute("tabindex",0),n.addEventListener("click",(function(e){n.classList.contains("tabulator-editing")||n.focus({preventScroll:!0})})),n.addEventListener("mousedown",(function(e){2===e.button?e.preventDefault():t.mouseClick=!0})),n.addEventListener("focus",(function(n){t.recursionBlock||t.edit(e,n,!1)}))}}},{key:"focusCellNoEvent",value:function(e,t){this.recursionBlock=!0,t&&"ie"===this.table.browser||e.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}},{key:"editCell",value:function(e,t){this.focusCellNoEvent(e),this.edit(e,!1,t)}},{key:"focusScrollAdjust",value:function(e){if("virtual"==this.table.rowManager.getRenderMode()){var t=this.table.rowManager.element.scrollTop,n=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,i=e.row.getElement();i.offsetTop;i.offsetTop<t?this.table.rowManager.element.scrollTop-=t-i.offsetTop:i.offsetTop+i.offsetHeight>n&&(this.table.rowManager.element.scrollTop+=i.offsetTop+i.offsetHeight-n);var o=this.table.rowManager.element.scrollLeft,r=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,a=e.getElement();a.offsetLeft;this.table.modExists("frozenColumns")&&(o+=parseInt(this.table.modules.frozenColumns.leftMargin),r-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(o-=parseInt(this.table.columnManager.renderer.vDomPadLeft),r-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),a.offsetLeft<o?this.table.rowManager.element.scrollLeft-=o-a.offsetLeft:a.offsetLeft+a.offsetWidth>r&&(this.table.rowManager.element.scrollLeft+=a.offsetLeft+a.offsetWidth-r)}}},{key:"edit",value:function(e,t,n){var i,o,r,a=this,l=!0,s=function(){},u=e.getElement();if(!this.currentCell){if(e.column.modules.edit.blocked)return this.mouseClick=!1,u.blur(),!1;switch(t&&t.stopPropagation(),typeof e.column.modules.edit.check){case"function":l=e.column.modules.edit.check(e.getComponent());break;case"boolean":l=e.column.modules.edit.check}if(l||n){if(a.cancelEdit(),a.currentCell=e,this.focusScrollAdjust(e),o=e.getComponent(),this.mouseClick&&(this.mouseClick=!1,e.column.definition.cellClick&&e.column.definition.cellClick.call(this.table,t,o)),e.column.definition.cellEditing&&e.column.definition.cellEditing.call(this.table,o),this.dispatchExternal("cellEditing",o),r="function"===typeof e.column.modules.edit.params?e.column.modules.edit.params(o):e.column.modules.edit.params,!1===(i=e.column.modules.edit.editor.call(a,o,(function(e){s=e}),(function(t){if(a.currentCell===e){var n=!0;return e.column.modules.validate&&a.table.modExists("validate")&&"manual"!=a.table.options.validationMode&&(n=a.table.modules.validate.validate(e.column.modules.validate,e,t)),!0===n||"highlight"===a.table.options.validationMode?(a.clearEditor(),e.modules.edit||(e.modules.edit={}),e.modules.edit.edited=!0,-1==a.editedCells.indexOf(e)&&a.editedCells.push(e),e.setValue(t,!0),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(e),!0===n||(u.classList.add("tabulator-validation-fail"),a.table.externalEvents.dispatch("validationFailed",e.getComponent(),t,n),!1)):(a.invalidEdit=!0,u.classList.add("tabulator-validation-fail"),a.focusCellNoEvent(e,!0),s(),a.table.externalEvents.dispatch("validationFailed",e.getComponent(),t,n),!1)}}),(function(){a.currentCell===e&&(a.cancelEdit(),a.table.options.dataTree&&a.table.modExists("dataTree")&&a.table.modules.dataTree.checkForRestyle(e))}),r)))return u.blur(),!1;if(!(i instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",i),u.blur(),!1;for(u.classList.add("tabulator-editing"),e.row.getElement().classList.add("tabulator-row-editing");u.firstChild;)u.removeChild(u.firstChild);u.appendChild(i),s();for(var c=u.children,d=0;d<c.length;d++)c[d].addEventListener("click",(function(e){e.stopPropagation()}));return!0}return this.mouseClick=!1,u.blur(),!1}this.invalidEdit||this.cancelEdit()}},{key:"getEditedCells",value:function(){var e=[];return this.editedCells.forEach((function(t){e.push(t.getComponent())})),e}},{key:"clearEdited",value:function(e){var t;e.modules.edit&&e.modules.edit.edited&&(e.modules.edit.edited=!1,e.modules.validate&&(e.modules.validate.invalid=!1)),(t=this.editedCells.indexOf(e))>-1&&this.editedCells.splice(t,1)}}]),n}(y);j.moduleName="edit",j.editors=W;var G=function e(t,n,i,o){m(this,e),this.type=t,this.columns=n,this.component=i||!1,this.indent=o||0},U=function e(t,n,i,o,r){m(this,e),this.value=t,this.component=n||!1,this.width=i,this.height=o,this.depth=r},q=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).config={},i.cloneTableStyle=!0,i.colVisProp="",i.registerTableOption("htmlOutputConfig",!1),i.registerColumnOption("htmlOutput"),i.registerColumnOption("titleHtmlOutput"),i}return v(n,[{key:"initialize",value:function(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}},{key:"generateExportList",value:function(e,t,n,i){this.cloneTableStyle=t,this.config=e||{},this.colVisProp=i;var o=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],r=this.bodyToExportRows(this.rowLookup(n));return o.concat(r)}},{key:"genereateTable",value:function(e,t,n,i){var o=this.generateExportList(e,t,n,i);return this.genereateTableElement(o)}},{key:"rowLookup",value:function(e){var t=this,n=[];if("function"==typeof e)e.call(this.table).forEach((function(e){(e=t.table.rowManager.findRow(e))&&n.push(e)}));else switch(e){case!0:case"visible":n=this.table.rowManager.getVisibleRows(!0);break;case"all":n=this.table.rowManager.rows;break;case"selected":n=this.table.modules.selectRow.selectedRows;break;default:n=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],n)}},{key:"generateColumnGroupHeaders",value:function(){var e=this,t=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach((function(n){var i=e.processColumnGroup(n);i&&t.push(i)})),t}},{key:"processColumnGroup",value:function(e){var t=this,n=e.columns,i=0,o={title:e.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||e.definition.title,column:e,depth:1};if(n.length){if(o.subGroups=[],o.width=0,n.forEach((function(e){var n=t.processColumnGroup(e);n&&(o.width+=n.width,o.subGroups.push(n),n.depth>i&&(i=n.depth))})),o.depth+=i,!o.width)return!1}else{if(!this.columnVisCheck(e))return!1;o.width=1}return o}},{key:"columnVisCheck",value:function(e){return!1!==e.definition[this.colVisProp]&&(e.visible||!e.visible&&e.definition[this.colVisProp])}},{key:"headersToExportRows",value:function(e){var t=[],n=0,i=[];function o(e,i){var r=n-i;if("undefined"===typeof t[i]&&(t[i]=[]),e.height=e.subGroups?1:r-e.depth+1,t[i].push(e),e.height>1)for(var a=1;a<e.height;a++)"undefined"===typeof t[i+a]&&(t[i+a]=[]),t[i+a].push(!1);if(e.width>1)for(var l=1;l<e.width;l++)t[i].push(!1);e.subGroups&&e.subGroups.forEach((function(e){o(e,i+1)}))}return e.forEach((function(e){e.depth>n&&(n=e.depth)})),e.forEach((function(e){o(e,0)})),t.forEach((function(e){var t=[];e.forEach((function(e){e?t.push(new U(e.title,e.column.getComponent(),e.width,e.height,e.depth)):t.push(null)})),i.push(new G("header",t))})),i}},{key:"bodyToExportRows",value:function(e){var t=this,n=[],i=[];return this.table.columnManager.columnsByIndex.forEach((function(e){t.columnVisCheck(e)&&n.push(e.getComponent())})),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&e.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&e.push(this.table.modules.columnCalcs.botRow)),(e=e.filter((function(e){switch(e.type){case"group":return!1!==t.config.rowGroups;case"calc":return!1!==t.config.columnCalcs;case"row":return!(t.table.options.dataTree&&!1===t.config.dataTree&&e.modules.dataTree.parent)}return!0}))).forEach((function(e,o){var r=e.getData(t.colVisProp),a=[],l=0;switch(e.type){case"group":l=e.level,a.push(new U(e.key,e.getComponent(),n.length,1));break;case"calc":case"row":n.forEach((function(e){a.push(new U(e._column.getFieldValue(r),e,1,1))})),t.table.options.dataTree&&!1!==t.config.dataTree&&(l=e.modules.dataTree.index)}i.push(new G(e.type,a,e.getComponent(),l))})),i}},{key:"genereateTableElement",value:function(e){var t=this,n=document.createElement("table"),i=document.createElement("thead"),o=document.createElement("tbody"),r=this.lookupTableStyles(),a=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l={};return l.rowFormatter=null!==a?a:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(l.treeElementField=this.table.modules.dataTree.elementField),l.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],l.groupHeader&&!Array.isArray(l.groupHeader)&&(l.groupHeader=[l.groupHeader]),n.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),i,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),e.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),e.forEach((function(e,n){switch(e.type){case"header":i.appendChild(t.genereateHeaderElement(e,l,r));break;case"group":o.appendChild(t.genereateGroupElement(e,l,r));break;case"calc":o.appendChild(t.genereateCalcElement(e,l,r));break;case"row":var a=t.genereateRowElement(e,l,r);t.mapElementStyles(n%2&&r.evenRow?r.evenRow:r.oddRow,a,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),o.appendChild(a)}})),i.innerHTML&&n.appendChild(i),n.appendChild(o),this.mapElementStyles(this.table.element,n,["border-top","border-left","border-right","border-bottom"]),n}},{key:"lookupTableStyles",value:function(){var e={};return this.cloneTableStyle&&window.getComputedStyle&&(e.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),e.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),e.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),e.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),e.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],e.firstRow&&(e.styleCells=e.firstRow.getElementsByClassName("tabulator-cell"),e.firstCell=e.styleCells[0],e.lastCell=e.styleCells[e.styleCells.length-1])),e}},{key:"genereateHeaderElement",value:function(e,t,n){var i=this,o=document.createElement("tr");return e.columns.forEach((function(e){if(e){var t=document.createElement("th"),n=e.component._column.definition.cssClass?e.component._column.definition.cssClass.split(" "):[];t.colSpan=e.width,t.rowSpan=e.height,t.innerHTML=e.value,i.cloneTableStyle&&(t.style.boxSizing="border-box"),n.forEach((function(e){t.classList.add(e)})),i.mapElementStyles(e.component.getElement(),t,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),i.mapElementStyles(e.component._column.contentElement,t,["padding-top","padding-left","padding-right","padding-bottom"]),e.component._column.visible?i.mapElementStyles(e.component.getElement(),t,["width"]):e.component._column.definition.width&&(t.style.width=e.component._column.definition.width+"px"),e.component._column.parent&&i.mapElementStyles(e.component._column.parent.groupElement,t,["border-top"]),o.appendChild(t)}})),o}},{key:"genereateGroupElement",value:function(e,t,n){var i=document.createElement("tr"),o=document.createElement("td"),r=e.columns[0];return i.classList.add("tabulator-print-table-row"),t.groupHeader&&t.groupHeader[e.indent]?r.value=t.groupHeader[e.indent](r.value,e.component._group.getRowCount(),e.component._group.getData(),e.component):!1===t.groupHeader?r.value=r.value:r.value=e.component._group.generator(r.value,e.component._group.getRowCount(),e.component._group.getData(),e.component),o.colSpan=r.width,o.innerHTML=r.value,i.classList.add("tabulator-print-table-group"),i.classList.add("tabulator-group-level-"+e.indent),r.component.isVisible()&&i.classList.add("tabulator-group-visible"),this.mapElementStyles(n.firstGroup,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(n.firstGroup,o,["padding-top","padding-left","padding-right","padding-bottom"]),i.appendChild(o),i}},{key:"genereateCalcElement",value:function(e,t,n){var i=this.genereateRowElement(e,t,n);return i.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(n.calcRow,i,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),i}},{key:"genereateRowElement",value:function(e,t,n){var o=this,r=document.createElement("tr");return r.classList.add("tabulator-print-table-row"),e.columns.forEach((function(a){if(a){var l=document.createElement("td"),s=a.component._column,u=a.value,c={modules:{},getValue:function(){return u},getField:function(){return s.definition.field},getElement:function(){return l},getColumn:function(){return s.getComponent()},getData:function(){return e.component.getData()},getRow:function(){return e.component},getComponent:function(){return c},column:s};if((s.definition.cssClass?s.definition.cssClass.split(" "):[]).forEach((function(e){l.classList.add(e)})),o.table.modExists("format")&&!1!==o.config.formatCells)u=o.table.modules.format.formatExportValue(c,o.colVisProp);else switch(typeof u){case"object":u=JSON.stringify(u);break;case"undefined":case"null":u="";break;default:u=u}u instanceof Node?l.appendChild(u):l.innerHTML=u,n.firstCell&&(o.mapElementStyles(n.firstCell,l,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),s.definition.align&&(l.style.textAlign=s.definition.align)),o.table.options.dataTree&&!1!==o.config.dataTree&&(t.treeElementField&&t.treeElementField==s.field||!t.treeElementField&&0==i)&&(e.component._row.modules.dataTree.controlEl&&l.insertBefore(e.component._row.modules.dataTree.controlEl.cloneNode(!0),l.firstChild),e.component._row.modules.dataTree.branchEl&&l.insertBefore(e.component._row.modules.dataTree.branchEl.cloneNode(!0),l.firstChild)),r.appendChild(l),c.modules.format&&c.modules.format.renderedCallback&&c.modules.format.renderedCallback(),t.rowFormatter&&!1!==o.config.formatCells&&t.rowFormatter(e.component)}})),r}},{key:"genereateHTMLTable",value:function(e){var t=document.createElement("div");return t.appendChild(this.genereateTableElement(e)),t.innerHTML}},{key:"getHtml",value:function(e,t,n,i){var o=this.generateExportList(n||this.table.options.htmlOutputConfig,t,e,i||"htmlOutput");return this.genereateHTMLTable(o)}},{key:"mapElementStyles",value:function(e,t,n){if(this.cloneTableStyle&&e&&t){var i={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var o=window.getComputedStyle(e);n.forEach((function(e){t.style[i[e]]=o.getPropertyValue(e)}))}}}}]),n}(y);q.moduleName="export";var X={"=":function(e,t,n,i){return t==e},"<":function(e,t,n,i){return t<e},"<=":function(e,t,n,i){return t<=e},">":function(e,t,n,i){return t>e},">=":function(e,t,n,i){return t>=e},"!=":function(e,t,n,i){return t!=e},regex:function(e,t,n,i){return"string"==typeof e&&(e=new RegExp(e)),e.test(t)},like:function(e,t,n,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().indexOf(e.toLowerCase())>-1},keywords:function(e,t,n,i){var o=e.toLowerCase().split("undefined"===typeof i.separator?" ":i.separator),r=String(null===t||"undefined"===typeof t?"":t).toLowerCase(),a=[];return o.forEach((function(e){r.includes(e)&&a.push(!0)})),i.matchAll?a.length===o.length:!!a.length},starts:function(e,t,n,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().startsWith(e.toLowerCase())},ends:function(e,t,n,i){return null===e||"undefined"===typeof e?t===e:"undefined"!==typeof t&&null!==t&&String(t).toLowerCase().endsWith(e.toLowerCase())},in:function(e,t,n,i){return Array.isArray(e)?!e.length||e.indexOf(t)>-1:(console.warn("Filter Error - filter value is not an array:",e),!1)}},$=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).filterList=[],i.headerFilters={},i.headerFilterColumns=[],i.prevHeaderFilterChangeCheck="",i.prevHeaderFilterChangeCheck="{}",i.changed=!1,i.registerTableOption("filterMode","local"),i.registerTableOption("initialFilter",!1),i.registerTableOption("initialHeaderFilter",!1),i.registerTableOption("headerFilterLiveFilterDelay",300),i.registerColumnOption("headerFilter"),i.registerColumnOption("headerFilterPlaceholder"),i.registerColumnOption("headerFilterParams"),i.registerColumnOption("headerFilterEmptyCheck"),i.registerColumnOption("headerFilterFunc"),i.registerColumnOption("headerFilterFuncParams"),i.registerColumnOption("headerFilterLiveFilter"),i.registerTableFunction("searchRows",i.searchRows.bind(s(i))),i.registerTableFunction("searchData",i.searchData.bind(s(i))),i.registerTableFunction("setFilter",i.userSetFilter.bind(s(i))),i.registerTableFunction("refreshFilter",i.userRefreshFilter.bind(s(i))),i.registerTableFunction("addFilter",i.userAddFilter.bind(s(i))),i.registerTableFunction("getFilters",i.getFilters.bind(s(i))),i.registerTableFunction("setHeaderFilterFocus",i.userSetHeaderFilterFocus.bind(s(i))),i.registerTableFunction("getHeaderFilterValue",i.userGetHeaderFilterValue.bind(s(i))),i.registerTableFunction("setHeaderFilterValue",i.userSetHeaderFilterValue.bind(s(i))),i.registerTableFunction("getHeaderFilters",i.getHeaderFilters.bind(s(i))),i.registerTableFunction("removeFilter",i.userRemoveFilter.bind(s(i))),i.registerTableFunction("clearFilter",i.userClearFilter.bind(s(i))),i.registerTableFunction("clearHeaderFilter",i.userClearHeaderFilter.bind(s(i))),i.registerComponentFunction("column","headerFilterFocus",i.setHeaderFilterFocus.bind(s(i))),i.registerComponentFunction("column","reloadHeaderFilter",i.reloadHeaderFilter.bind(s(i))),i.registerComponentFunction("column","getHeaderFilterValue",i.getHeaderFilterValue.bind(s(i))),i.registerComponentFunction("column","setHeaderFilterValue",i.setHeaderFilterValue.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}},{key:"tableBuilt",value:function(){var e=this;this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach((function(t){var n=e.table.columnManager.findColumn(t.field);if(!n)return console.warn("Column Filter Error - No matching column found:",t.field),!1;e.setHeaderFilterValue(n,t.value)}))}},{key:"remoteFilterParams",value:function(e,t,n,i){return i.filter=this.getFilters(!0,!0),i}},{key:"userSetFilter",value:function(e,t,n,i){this.setFilter(e,t,n,i),this.refreshFilter()}},{key:"userRefreshFilter",value:function(){this.refreshFilter()}},{key:"userAddFilter",value:function(e,t,n,i){this.addFilter(e,t,n,i),this.refreshFilter()}},{key:"userSetHeaderFilterFocus",value:function(e){var t=this.table.columnManager.findColumn(e);if(!t)return console.warn("Column Filter Focus Error - No matching column found:",e),!1;this.setHeaderFilterFocus(t)}},{key:"userGetHeaderFilterValue",value:function(e){var t=this.table.columnManager.findColumn(e);if(t)return this.getHeaderFilterValue(t);console.warn("Column Filter Error - No matching column found:",e)}},{key:"userSetHeaderFilterValue",value:function(e,t){var n=this.table.columnManager.findColumn(e);if(!n)return console.warn("Column Filter Error - No matching column found:",e),!1;this.setHeaderFilterValue(n,t)}},{key:"userRemoveFilter",value:function(e,t,n){this.removeFilter(e,t,n),this.refreshFilter()}},{key:"userClearFilter",value:function(e){this.clearFilter(e),this.refreshFilter()}},{key:"userClearHeaderFilter",value:function(){this.clearHeaderFilter(),this.refreshFilter()}},{key:"searchRows",value:function(e,t,n){return this.search("rows",e,t,n)}},{key:"searchData",value:function(e,t,n){return this.search("data",e,t,n)}},{key:"initializeColumnHeaderFilter",value:function(e){var t=e.definition;t.headerFilter&&("undefined"!==typeof t.headerFilterPlaceholder&&t.field&&this.module("localize").setHeaderFilterColumnPlaceholder(t.field,t.headerFilterPlaceholder),this.initializeColumn(e))}},{key:"initializeColumn",value:function(e,t){var i=this,o=e.getField();e.modules.filter={success:function(t){var r,a="input"==e.modules.filter.tagType&&"text"==e.modules.filter.attrType||"textarea"==e.modules.filter.tagType?"partial":"match",l="",s="";if("undefined"===typeof e.modules.filter.prevSuccess||e.modules.filter.prevSuccess!==t){if(e.modules.filter.prevSuccess=t,e.modules.filter.emptyFunc(t))delete i.headerFilters[o];else{switch(e.modules.filter.value=t,typeof e.definition.headerFilterFunc){case"string":n.filters[e.definition.headerFilterFunc]?(l=e.definition.headerFilterFunc,r=function(i){var o=e.definition.headerFilterFuncParams||{},r=e.getFieldValue(i);return o="function"===typeof o?o(t,r,i):o,n.filters[e.definition.headerFilterFunc](t,r,i,o)}):console.warn("Header Filter Error - Matching filter function not found: ",e.definition.headerFilterFunc);break;case"function":l=r=function(n){var i=e.definition.headerFilterFuncParams||{},o=e.getFieldValue(n);return i="function"===typeof i?i(t,o,n):i,e.definition.headerFilterFunc(t,o,n,i)}}if(!r)if("partial"===a)r=function(n){var i=e.getFieldValue(n);return"undefined"!==typeof i&&null!==i&&String(i).toLowerCase().indexOf(String(t).toLowerCase())>-1},l="like";else r=function(n){return e.getFieldValue(n)==t},l="=";i.headerFilters[o]={value:t,func:r,type:l,params:{}}}s=JSON.stringify(i.headerFilters),i.prevHeaderFilterChangeCheck!==s&&(i.prevHeaderFilterChangeCheck=s,i.trackChanges(),i.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(e)}},{key:"generateHeaderFilterElement",value:function(e,t,n){var i,o,r,a,l,s,u,c=this,d=this,h=e.modules.filter.success,f=e.getField();if(e.modules.filter.headerElement&&e.modules.filter.headerElement.parentNode&&e.contentElement.removeChild(e.modules.filter.headerElement.parentNode),f){switch(e.modules.filter.emptyFunc=e.definition.headerFilterEmptyCheck||function(e){return!e&&"0"!==e&&0!==e},(i=document.createElement("div")).classList.add("tabulator-header-filter"),typeof e.definition.headerFilter){case"string":d.table.modules.edit.editors[e.definition.headerFilter]?(o=d.table.modules.edit.editors[e.definition.headerFilter],"tick"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",e.definition.editor);break;case"function":o=e.definition.headerFilter;break;case"boolean":e.modules.edit&&e.modules.edit.editor?o=e.modules.edit.editor:e.definition.formatter&&d.table.modules.edit.editors[e.definition.formatter]?(o=d.table.modules.edit.editors[e.definition.formatter],"tick"!==e.definition.formatter&&"tickCross"!==e.definition.formatter||e.definition.headerFilterEmptyCheck||(e.modules.filter.emptyFunc=function(e){return!0!==e&&!1!==e})):o=d.table.modules.edit.editors.input}if(o){if(a={getValue:function(){return"undefined"!==typeof t?t:""},getField:function(){return e.definition.field},getElement:function(){return i},getColumn:function(){return e.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},u="function"===typeof(u=e.definition.headerFilterParams||{})?u.call(d.table):u,!(r=o.call(this.table.modules.edit,a,(function(){}),h,(function(){}),u)))return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor returned a value of false");if(!(r instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+f+" column, editor should return an instance of Node, the editor returned:",r);f?d.langBind("headerFilters|columns|"+e.definition.field,(function(e){r.setAttribute("placeholder","undefined"!==typeof e&&e?e:d.langText("headerFilters|default"))})):d.langBind("headerFilters|default",(function(e){r.setAttribute("placeholder",e)})),r.addEventListener("click",(function(e){e.stopPropagation(),r.focus()})),r.addEventListener("focus",(function(e){var t=c.table.columnManager.element.scrollLeft;t!==c.table.rowManager.element.scrollLeft&&(c.table.rowManager.scrollHorizontal(t),c.table.columnManager.scrollHorizontal(t))})),l=!1,s=function(e){l&&clearTimeout(l),l=setTimeout((function(){h(r.value)}),d.table.options.headerFilterLiveFilterDelay)},e.modules.filter.headerElement=r,e.modules.filter.attrType=r.hasAttribute("type")?r.getAttribute("type").toLowerCase():"",e.modules.filter.tagType=r.tagName.toLowerCase(),!1!==e.definition.headerFilterLiveFilter&&("autocomplete"!==e.definition.headerFilter&&"tickCross"!==e.definition.headerFilter&&("autocomplete"!==e.definition.editor&&"tickCross"!==e.definition.editor||!0!==e.definition.headerFilter)&&(r.addEventListener("keyup",s),r.addEventListener("search",s),"number"==e.modules.filter.attrType&&r.addEventListener("change",(function(e){h(r.value)})),"text"==e.modules.filter.attrType&&"ie"!==this.table.browser&&r.setAttribute("type","search")),"input"!=e.modules.filter.tagType&&"select"!=e.modules.filter.tagType&&"textarea"!=e.modules.filter.tagType||r.addEventListener("mousedown",(function(e){e.stopPropagation()}))),i.appendChild(r),e.contentElement.appendChild(i),n||d.headerFilterColumns.push(e)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",e.definition.title)}},{key:"hideHeaderFilterElements",value:function(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="none")}))}},{key:"showHeaderFilterElements",value:function(){this.headerFilterColumns.forEach((function(e){e.modules.filter&&e.modules.filter.headerElement&&(e.modules.filter.headerElement.style.display="")}))}},{key:"setHeaderFilterFocus",value:function(e){e.modules.filter&&e.modules.filter.headerElement?e.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",e.getField())}},{key:"getHeaderFilterValue",value:function(e){if(e.modules.filter&&e.modules.filter.headerElement)return e.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",e.getField())}},{key:"setHeaderFilterValue",value:function(e,t){e&&(e.modules.filter&&e.modules.filter.headerElement?(this.generateHeaderFilterElement(e,t,!0),e.modules.filter.success(t)):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}},{key:"reloadHeaderFilter",value:function(e){e&&(e.modules.filter&&e.modules.filter.headerElement?this.generateHeaderFilterElement(e,e.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",e.getField()))}},{key:"refreshFilter",value:function(){"remote"===this.table.options.filterMode?this.reloadData():this.refreshData()}},{key:"trackChanges",value:function(){this.changed=!0,this.dispatch("filter-changed")}},{key:"hasChanged",value:function(){var e=this.changed;return this.changed=!1,e}},{key:"setFilter",value:function(e,t,n,i){this.filterList=[],Array.isArray(e)||(e=[{field:e,type:t,value:n,params:i}]),this.addFilter(e)}},{key:"addFilter",value:function(e,t,n,i){var o=this;Array.isArray(e)||(e=[{field:e,type:t,value:n,params:i}]),e.forEach((function(e){(e=o.findFilter(e))&&(o.filterList.push(e),o.changed=!0)}))}},{key:"findFilter",value:function(e){var t;if(Array.isArray(e))return this.findSubFilters(e);var i=!1;return"function"==typeof e.field?i=function(t){return e.field(t,e.type||{})}:n.filters[e.type]?i=(t=this.table.columnManager.getColumnByField(e.field))?function(i){return n.filters[e.type](e.value,t.getFieldValue(i),i,e.params||{})}:function(t){return n.filters[e.type](e.value,t[e.field],t,e.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",e.type),e.func=i,!!e.func&&e}},{key:"findSubFilters",value:function(e){var t=this,n=[];return e.forEach((function(e){(e=t.findFilter(e))&&n.push(e)})),!!n.length&&n}},{key:"getFilters",value:function(e,t){var n=[];return e&&(n=this.getHeaderFilters()),t&&n.forEach((function(e){"function"==typeof e.type&&(e.type="function")})),n=n.concat(this.filtersToArray(this.filterList,t))}},{key:"filtersToArray",value:function(e,t){var n=this,i=[];return e.forEach((function(e){var o;Array.isArray(e)?i.push(n.filtersToArray(e,t)):(o={field:e.field,type:e.type,value:e.value},t&&"function"==typeof o.type&&(o.type="function"),i.push(o))})),i}},{key:"getHeaderFilters",value:function(){var e=[];for(var t in this.headerFilters)e.push({field:t,type:this.headerFilters[t].type,value:this.headerFilters[t].value});return e}},{key:"removeFilter",value:function(e,t,n){var i=this;Array.isArray(e)||(e=[{field:e,type:t,value:n}]),e.forEach((function(e){var t=-1;(t="object"==typeof e.field?i.filterList.findIndex((function(t){return e===t})):i.filterList.findIndex((function(t){return e.field===t.field&&e.type===t.type&&e.value===t.value})))>-1?i.filterList.splice(t,1):console.warn("Filter Error - No matching filter type found, ignoring: ",e.type)})),this.trackChanges()}},{key:"clearFilter",value:function(e){this.filterList=[],e&&this.clearHeaderFilter(),this.trackChanges()}},{key:"clearHeaderFilter",value:function(){var e=this;this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach((function(t){"undefined"!==typeof t.modules.filter.value&&delete t.modules.filter.value,t.modules.filter.prevSuccess=void 0,e.reloadHeaderFilter(t)})),this.trackChanges()}},{key:"search",value:function(e,t,n,i){var o=this,r=[],a=[];return Array.isArray(t)||(t=[{field:t,type:n,value:i}]),t.forEach((function(e){(e=o.findFilter(e))&&a.push(e)})),this.table.rowManager.rows.forEach((function(t){var n=!0;a.forEach((function(e){o.filterRecurse(e,t.getData())||(n=!1)})),n&&r.push("data"===e?t.getData("data"):t.getComponent())})),r}},{key:"filter",value:function(e,t){var n=this,i=[],o=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?e.forEach((function(e){n.filterRow(e)&&i.push(e)})):i=e.slice(0),this.subscribedExternal("dataFiltered")&&(i.forEach((function(e){o.push(e.getComponent())})),this.dispatchExternal("dataFiltered",this.getFilters(),o)),i}},{key:"filterRow",value:function(e,t){var n=this,i=!0,o=e.getData();for(var r in this.filterList.forEach((function(e){n.filterRecurse(e,o)||(i=!1)})),this.headerFilters)this.headerFilters[r].func(o)||(i=!1);return i}},{key:"filterRecurse",value:function(e,t){var n=this,i=!1;return Array.isArray(e)?e.forEach((function(e){n.filterRecurse(e,t)&&(i=!0)})):i=e.func(t),i}}]),n}(y);$.moduleName="filter",$.filters=X;var K={plaintext:function(e,t,n){return this.emptyToSpace(this.sanitizeHTML(e.getValue()))},html:function(e,t,n){return e.getValue()},textarea:function(e,t,n){return e.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(e.getValue()))},money:function(e,t,n){var i,o,r,a,l=parseFloat(e.getValue()),s=t.decimal||".",u=t.thousand||",",c=t.symbol||"",d=!!t.symbolAfter,h="undefined"!==typeof t.precision?t.precision:2;if(isNaN(l))return this.emptyToSpace(this.sanitizeHTML(e.getValue()));for(i=!1!==h?l.toFixed(h):l,o=(i=String(i).split("."))[0],r=i.length>1?s+i[1]:"",a=/(\d+)(\d{3})/;a.test(o);)o=o.replace(a,"$1"+u+"$2");return d?o+r+c:c+o+r},link:function(e,t,n){var i=e.getValue(),o=t.urlPrefix||"",r=t.download,a=i,l=document.createElement("a");if(t.labelField&&(a=e.getData()[t.labelField]),t.label)switch(typeof t.label){case"string":a=t.label;break;case"function":a=t.label(e)}if(a){if(t.urlField&&(i=e.getData()[t.urlField]),t.url)switch(typeof t.url){case"string":i=t.url;break;case"function":i=t.url(e)}return l.setAttribute("href",o+i),t.target&&l.setAttribute("target",t.target),t.download&&(r="function"==typeof r?r(e):!0===r?"":r,l.setAttribute("download",r)),l.innerHTML=this.emptyToSpace(this.sanitizeHTML(a)),l}return"&nbsp;"},image:function(e,t,n){var i=document.createElement("img"),o=e.getValue();switch(t.urlPrefix&&(o=t.urlPrefix+e.getValue()),t.urlSuffix&&(o+=t.urlSuffix),i.setAttribute("src",o),typeof t.height){case"number":i.style.height=t.height+"px";break;case"string":i.style.height=t.height}switch(typeof t.width){case"number":i.style.width=t.width+"px";break;case"string":i.style.width=t.width}return i.addEventListener("load",(function(){e.getRow().normalizeHeight()})),i},tickCross:function(e,t,n){var i=e.getValue(),o=e.getElement(),r=t.allowEmpty,a=t.allowTruthy,l="undefined"!==typeof t.tickElement?t.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',s="undefined"!==typeof t.crossElement?t.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return a&&i||!0===i||"true"===i||"True"===i||1===i||"1"===i?(o.setAttribute("aria-checked",!0),l||""):!r||"null"!==i&&""!==i&&null!==i&&"undefined"!==typeof i?(o.setAttribute("aria-checked",!1),s||""):(o.setAttribute("aria-checked","mixed"),"")},datetime:function(e,t,n){var i=window.DateTime||luxon.DateTime,o=t.inputFormat||"yyyy-MM-dd HH:mm:ss",r=t.outputFormat||"dd/MM/yyyy HH:mm:ss",a="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",l=e.getValue();if("undefined"!=typeof i){var s=(window.DateTime||luxon.DateTime).fromFormat(l,o);return s.isValid?(t.timezone&&(s=s.shiftTimezone(t.timezone)),s.toFormat(r)):!0===a?l:"function"===typeof a?a(l):a}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function(e,t,n){var i=window.DateTime||luxon.DateTime,o=t.inputFormat||"yyyy-MM-dd HH:mm:ss",r="undefined"!==typeof t.invalidPlaceholder?t.invalidPlaceholder:"",a="undefined"!==typeof t.suffix&&t.suffix,l="undefined"!==typeof t.unit?t.unit:"days",s="undefined"!==typeof t.humanize&&t.humanize,u="undefined"!==typeof t.date?t.date:i.now(),c=e.getValue();if("undefined"!=typeof i){var d=i.fromFormat(c,o);if(!d.isValid)return!0===r?c:"function"===typeof r?r(c):r;if(!s)return parseInt(d.diff(u,l)[l])+(a?" "+a:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function(e,t,n){var i=e.getValue();return"undefined"===typeof t[i]?(console.warn("Missing display value for "+i),i):t[i]},star:function(e,t,n){var i=e.getValue(),o=e.getElement(),r=t&&t.stars?t.stars:5,a=document.createElement("span"),l=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.verticalAlign="middle",l.setAttribute("width","14"),l.setAttribute("height","14"),l.setAttribute("viewBox","0 0 512 512"),l.setAttribute("xml:space","preserve"),l.style.padding="0 1px",i=i&&!isNaN(i)?parseInt(i):0,i=Math.max(0,Math.min(i,r));for(var s=1;s<=r;s++){var u=l.cloneNode(!0);u.innerHTML=s<=i?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',a.appendChild(u)}return o.style.whiteSpace="nowrap",o.style.overflow="hidden",o.style.textOverflow="ellipsis",o.setAttribute("aria-label",i),a},traffic:function(e,t,n){var i,o,r=this.sanitizeHTML(e.getValue())||0,a=document.createElement("span"),l=t&&t.max?t.max:100,s=t&&t.min?t.min:0,u=t&&"undefined"!==typeof t.color?t.color:["red","orange","green"],c="#666666";if(!isNaN(r)&&"undefined"!==typeof e.getValue()){switch(a.classList.add("tabulator-traffic-light"),o=parseFloat(r)<=l?parseFloat(r):l,o=parseFloat(o)>=s?parseFloat(o):s,i=(l-s)/100,o=Math.round((o-s)/i),typeof u){case"string":c=u;break;case"function":c=u(r);break;case"object":if(Array.isArray(u)){var d=100/u.length,h=Math.floor(o/d);h=Math.min(h,u.length-1),c=u[h=Math.max(h,0)];break}}return a.style.backgroundColor=c,a}},progress:function(e,t,n){var i,o,r,a,l,s=this.sanitizeHTML(e.getValue())||0,u=e.getElement(),c=t&&t.max?t.max:100,d=t&&t.min?t.min:0,h=t&&t.legendAlign?t.legendAlign:"center";switch(o=parseFloat(s)<=c?parseFloat(s):c,o=parseFloat(o)>=d?parseFloat(o):d,i=(c-d)/100,o=Math.round((o-d)/i),typeof t.color){case"string":r=t.color;break;case"function":r=t.color(s);break;case"object":if(Array.isArray(t.color)){var f=100/t.color.length,p=Math.floor(o/f);p=Math.min(p,t.color.length-1),p=Math.max(p,0),r=t.color[p];break}default:r="#2DC214"}switch(typeof t.legend){case"string":a=t.legend;break;case"function":a=t.legend(s);break;case"boolean":a=s;break;default:a=!1}switch(typeof t.legendColor){case"string":l=t.legendColor;break;case"function":l=t.legendColor(s);break;case"object":if(Array.isArray(t.legendColor)){f=100/t.legendColor.length,p=Math.floor(o/f);p=Math.min(p,t.legendColor.length-1),p=Math.max(p,0),l=t.legendColor[p]}break;default:l="#000"}u.style.minWidth="30px",u.style.position="relative",u.setAttribute("aria-label",o);var m=document.createElement("div");m.style.display="inline-block",m.style.position="absolute",m.style.width=o+"%",m.style.backgroundColor=r,m.style.height="100%",m.setAttribute("data-max",c),m.setAttribute("data-min",d);var g=document.createElement("div");if(g.style.position="relative",g.style.width="100%",g.style.height="100%",a){var v=document.createElement("div");v.style.position="absolute",v.style.top=0,v.style.left=0,v.style.textAlign=h,v.style.width="100%",v.style.color=l,v.innerHTML=a}return n((function(){if(!(e instanceof L)){var t=document.createElement("div");t.style.position="absolute",t.style.top="4px",t.style.bottom="4px",t.style.left="4px",t.style.right="4px",u.appendChild(t),u=t}u.appendChild(g),g.appendChild(m),a&&g.appendChild(v)})),""},color:function(e,t,n){return e.getElement().style.backgroundColor=this.sanitizeHTML(e.getValue()),""},buttonTick:function(e,t,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function(e,t,n){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function(e,t,n){return this.table.rowManager.activeRows.indexOf(e.getRow()._getSelf())+1},handle:function(e,t,n){return e.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function(e,t,n){var i=document.createElement("div"),o=e.getRow()._row.modules.responsiveLayout;function r(e){var t=o.element;o.open=e,t&&(o.open?(i.classList.add("open"),t.style.display=""):(i.classList.remove("open"),t.style.display="none"))}return i.classList.add("tabulator-responsive-collapse-toggle"),i.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",e.getElement().classList.add("tabulator-row-handle"),i.addEventListener("click",(function(e){e.stopImmediatePropagation(),r(!o.open)})),r(o.open),i},rowSelection:function(e,t,n){var i=this,o=document.createElement("input");if(o.type="checkbox",this.table.modExists("selectRow",!0))if(o.addEventListener("click",(function(e){e.stopPropagation()})),"function"==typeof e.getRow){var r=e.getRow();r instanceof _?(o.addEventListener("change",(function(e){r.toggleSelect()})),o.checked=r.isSelected&&r.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(r,o)):o=""}else o.addEventListener("change",(function(e){i.table.modules.selectRow.selectedRows.length?i.table.deselectRow():i.table.selectRow(t.rowRange)})),this.table.modules.selectRow.registerHeaderSelectCheckbox(o);return o}},Q=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).registerColumnOption("formatter"),i.registerColumnOption("formatterParams"),i.registerColumnOption("formatterPrint"),i.registerColumnOption("formatterPrintParams"),i.registerColumnOption("formatterClipboard"),i.registerColumnOption("formatterClipboardParams"),i.registerColumnOption("formatterHtmlOutput"),i.registerColumnOption("formatterHtmlOutputParams"),i.registerColumnOption("titleFormatter"),i.registerColumnOption("titleFormatterParams"),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}},{key:"initializeColumn",value:function(e){e.modules.format=this.lookupFormatter(e,""),"undefined"!==typeof e.definition.formatterPrint&&(e.modules.format.print=this.lookupFormatter(e,"Print")),"undefined"!==typeof e.definition.formatterClipboard&&(e.modules.format.clipboard=this.lookupFormatter(e,"Clipboard")),"undefined"!==typeof e.definition.formatterHtmlOutput&&(e.modules.format.htmlOutput=this.lookupFormatter(e,"HtmlOutput"))}},{key:"lookupFormatter",value:function(e,t){var i={params:e.definition["formatter"+t+"Params"]||{}},o=e.definition["formatter"+t];switch(typeof o){case"string":n.formatters[o]?i.formatter=n.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),i.formatter=n.formatters.plaintext);break;case"function":i.formatter=o;break;default:i.formatter=n.formatters.plaintext}return i}},{key:"cellRendered",value:function(e){e.modules.format&&e.modules.format.renderedCallback&&!e.modules.format.rendered&&(e.modules.format.renderedCallback(),e.modules.format.rendered=!0)}},{key:"formatHeader",value:function(e,t,n){var i,o,r,a;return e.definition.titleFormatter?(i=this.getFormatter(e.definition.titleFormatter),r=function(t){e.titleFormatterRendered=t},a={getValue:function(){return t},getElement:function(){return n}},o="function"===typeof(o=e.definition.titleFormatterParams||{})?o():o,i.call(this,a,o,r)):t}},{key:"formatValue",value:function(e){var t=e.getComponent(),n="function"===typeof e.column.modules.format.params?e.column.modules.format.params(t):e.column.modules.format.params;return e.column.modules.format.formatter.call(this,t,n,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))}},{key:"formatExportValue",value:function(e,t){var n,i=e.column.modules.format[t];if(i){return n="function"===typeof i.params?i.params(component):i.params,i.formatter.call(this,e.getComponent(),n,(function(t){e.modules.format||(e.modules.format={}),e.modules.format.renderedCallback=t,e.modules.format.rendered=!1}))}return this.formatValue(e)}},{key:"sanitizeHTML",value:function(e){if(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))}return e}},{key:"emptyToSpace",value:function(e){return null===e||"undefined"===typeof e||""===e?"&nbsp;":e}},{key:"getFormatter",value:function(e){switch(typeof e){case"string":n.formatters[e]?e=n.formatters[e]:(console.warn("Formatter Error - No such formatter found: ",e),e=n.formatters.plaintext);break;case"function":e=e;break;default:e=n.formatters.plaintext}return e}}]),n}(y);Q.moduleName="format",Q.formatters=K;var Y=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).leftColumns=[],i.rightColumns=[],i.leftMargin=0,i.rightMargin=0,i.rightPadding=0,i.initializationMode="left",i.active=!1,i.scrollEndTimer=!1,i.registerColumnOption("frozen"),i}return v(n,[{key:"reset",value:function(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}},{key:"initialize",value:function(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-before",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this))}},{key:"layoutCell",value:function(e){this.layoutElement(e.element,e.column)}},{key:"initializeColumn",value:function(e){var t={margin:0,edge:!1};e.isGroup||(this.frozenCheck(e)?(t.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(e):this.rightColumns.unshift(e),this.active=!0,e.modules.frozen=t):this.initializationMode="right")}},{key:"frozenCheck",value:function(e){return e.parent.isGroup&&e.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),e.parent.isGroup?this.frozenCheck(e.parent):e.definition.frozen}},{key:"scrollHorizontal",value:function(){var e,t=this;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout((function(){t.layout()}),100),e=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),e.forEach((function(e){"row"===e.type&&t.layoutRow(e)})),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}},{key:"calcMargins",value:function(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}},{key:"layoutCalcRows",value:function(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}},{key:"layoutGroupCalcs",value:function(e){var t=this;e.forEach((function(e){e.calcs.top&&t.layoutRow(e.calcs.top),e.calcs.bottom&&t.layoutRow(e.calcs.bottom),e.groupList&&e.groupList.length&&t.layoutGroupCalcs(e.groupList&&e.groupList)}))}},{key:"layoutColumnPosition",value:function(e){var t=this,n=[];this.leftColumns.forEach((function(i,o){if(i.modules.frozen.margin=t._calcSpace(t.leftColumns,o)+t.table.columnManager.scrollLeft+"px",o==t.leftColumns.length-1?i.modules.frozen.edge=!0:i.modules.frozen.edge=!1,i.parent.isGroup){var r=t.getColGroupParentElement(i);n.includes(r)||(t.layoutElement(r,i),n.push(r)),i.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+i.modules.frozen.position)}else t.layoutElement(i.getElement(),i);e&&i.cells.forEach((function(e){t.layoutElement(e.getElement(!0),i)}))})),this.rightColumns.forEach((function(n,i){n.modules.frozen.margin=t.rightPadding-t._calcSpace(t.rightColumns,i+1)+"px",i==t.rightColumns.length-1?n.modules.frozen.edge=!0:n.modules.frozen.edge=!1,n.parent.isGroup?t.layoutElement(t.getColGroupParentElement(n),n):t.layoutElement(n.getElement(),n),e&&n.cells.forEach((function(e){t.layoutElement(e.getElement(!0),n)}))}))}},{key:"getColGroupParentElement",value:function(e){return e.parent.isGroup?this.getColGroupParentElement(e.parent):e.getElement()}},{key:"layout",value:function(){var e=this;this.active&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach((function(t){"row"===t.type&&e.layoutRow(t)})),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}},{key:"layoutRow",value:function(e){var t=this;e.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach((function(n){var i=e.getCell(n);i&&t.layoutElement(i.getElement(!0),n)})),this.rightColumns.forEach((function(n){var i=e.getCell(n);i&&t.layoutElement(i.getElement(!0),n)}))}},{key:"layoutElement",value:function(e,t){t.modules.frozen&&(e.style.position="absolute",e.style.left=t.modules.frozen.margin,e.classList.add("tabulator-frozen"),t.modules.frozen.edge&&e.classList.add("tabulator-frozen-"+t.modules.frozen.position))}},{key:"_calcSpace",value:function(e,t){for(var n=0,i=0;i<t;i++)e[i].visible&&(n+=e[i].getWidth());return n}}]),n}(y);Y.moduleName="frozenColumns";var J=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).topElement=document.createElement("div"),i.rows=[],i.registerComponentFunction("row","freeze",i.freezeRow.bind(s(i))),i.registerComponentFunction("row","unfreeze",i.unfreezeRow.bind(s(i))),i.registerComponentFunction("row","isFrozen",i.isRowFrozen.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}},{key:"isRowFrozen",value:function(e){return this.rows.indexOf(e)>-1}},{key:"isFrozen",value:function(){return!!this.rows.length}},{key:"getRows",value:function(e){var t=e.slice(0);return this.rows.forEach((function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)})),t}},{key:"freezeRow",value:function(e){e.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(e.modules.frozen=!0,this.topElement.appendChild(e.getElement()),e.initialize(),e.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(e),this.refreshData(!1,"display"),this.styleRows())}},{key:"unfreezeRow",value:function(e){this.rows.indexOf(e);e.modules.frozen?(e.modules.frozen=!1,this.detachRow(e),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}},{key:"detachRow",value:function(e){var t=this.rows.indexOf(e);if(t>-1){var n=e.getElement();n.parentNode.removeChild(n),this.rows.splice(t,1)}}},{key:"styleRows",value:function(e){var t=this;this.rows.forEach((function(e,n){t.table.rowManager.styleRow(e,n)}))}}]),n}(y);J.moduleName="frozenRows";var Z=function(){function e(t){return m(this,e),this._group=t,this.type="GroupComponent",new Proxy(this,{get:function(e,t,n){return"undefined"!==typeof e[t]?e[t]:e._group.table.componentFunctionBinder.handle("row",e._group,t)}})}return v(e,[{key:"getKey",value:function(){return this._group.key}},{key:"getField",value:function(){return this._group.field}},{key:"getElement",value:function(){return this._group.element}},{key:"getRows",value:function(){return this._group.getRows(!0)}},{key:"getSubGroups",value:function(){return this._group.getSubGroups(!0)}},{key:"getParentGroup",value:function(){return!!this._group.parent&&this._group.parent.getComponent()}},{key:"isVisible",value:function(){return this._group.visible}},{key:"show",value:function(){this._group.show()}},{key:"hide",value:function(){this._group.hide()}},{key:"toggle",value:function(){this._group.toggleVisibility()}},{key:"_getSelf",value:function(){return this._group}},{key:"getTable",value:function(){return this._group.groupManager.table}}]),e}(),ee=function(){function e(t,n,i,o,r,a,l){m(this,e),this.groupManager=t,this.parent=n,this.key=o,this.level=i,this.field=r,this.hasSubGroups=i<t.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=l,this.rows=[],this.groups=[],this.groupList=[],this.generator=a,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=l?l.visible:"undefined"!==typeof t.startOpen[i]?t.startOpen[i]:t.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}return v(e,[{key:"wipe",value:function(){this.groupList.length?this.groupList.forEach((function(e){e.wipe()})):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)}},{key:"createElements",value:function(){var e=document.createElement("div");e.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(e),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}},{key:"createValueGroups",value:function(){var e=this,t=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]&&this.groupManager.allowedValues[t].forEach((function(n){e._createGroup(n,t)}))}},{key:"addBindings",value:function(){var e,t,n,i=this;(this.groupManager.table.options.groupContextMenu||this.groupManager.table.options.groupClickMenu)&&this.groupManager.table.modExists("menu")&&this.groupManager.table.modules.menu.initializeGroup.call(this.groupManager.table.modules.menu,this),this.groupManager.table.options.groupTap&&(n=!1,this.element.addEventListener("touchstart",(function(e){n=!0}),{passive:!0}),this.element.addEventListener("touchend",(function(e){n&&i.groupManager.table.options.groupTap(e,i.getComponent()),n=!1}))),this.groupManager.table.options.groupDblTap&&(e=null,this.element.addEventListener("touchend",(function(t){e?(clearTimeout(e),e=null,i.groupManager.table.options.groupDblTap(t,i.getComponent())):e=setTimeout((function(){clearTimeout(e),e=null}),300)}))),this.groupManager.table.options.groupTapHold&&(t=null,this.element.addEventListener("touchstart",(function(e){clearTimeout(t),t=setTimeout((function(){clearTimeout(t),t=null,n=!1,i.groupManager.table.options.groupTapHold(e,i.getComponent())}),1e3)}),{passive:!0}),this.element.addEventListener("touchend",(function(e){clearTimeout(t),t=null}))),this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",(function(e){e.stopPropagation(),e.stopImmediatePropagation(),i.toggleVisibility()}))}},{key:"_createGroup",value:function(t,n){var i=n+"_"+t,o=new e(this.groupManager,this,n,t,this.groupManager.groupIDLookups[n].field,this.groupManager.headerGenerator[n]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[i]);this.groups[i]=o,this.groupList.push(o)}},{key:"_addRowToGroup",value:function(e){var t=this.level+1;if(this.hasSubGroups){var n=this.groupManager.groupIDLookups[t].func(e.getData()),i=t+"_"+n;this.groupManager.allowedValues&&this.groupManager.allowedValues[t]?this.groups[i]&&this.groups[i].addRow(e):(this.groups[i]||this._createGroup(n,t),this.groups[i].addRow(e))}}},{key:"_addRow",value:function(e){this.rows.push(e),e.modules.group=this}},{key:"insertRow",value:function(e,t,n){var i=this.conformRowData({});e.updateData(i);var o=this.rows.indexOf(t);o>-1?n?this.rows.splice(o+1,0,e):this.rows.splice(o,0,e):n?this.rows.push(e):this.rows.unshift(e),e.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}},{key:"scrollHeader",value:function(e){this.arrowElement.style.marginLeft=e,this.groupList.forEach((function(t){t.scrollHeader(e)}))}},{key:"getRowIndex",value:function(e){}},{key:"conformRowData",value:function(e){return this.field?e[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(e=this.parent.conformRowData(e)),e}},{key:"removeRow",value:function(e){var t=this.rows.indexOf(e),n=e.getElement();t>-1&&this.rows.splice(t,1),this.groupManager.table.options.groupValues||this.rows.length?(n.parentNode&&n.parentNode.removeChild(n),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}},{key:"removeGroup",value:function(e){var t,n=e.level+"_"+e.key;this.groups[n]&&(delete this.groups[n],(t=this.groupList.indexOf(e))>-1&&this.groupList.splice(t,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}},{key:"getHeadersAndRows",value:function(e){var t=[];return t.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach((function(n){t=t.concat(n.getHeadersAndRows(e))})):(!e&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top)),t=t.concat(this.rows),!e&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom))):this.groupList.length||"table"==this.groupManager.table.options.columnCalcs||this.groupManager.table.modExists("columnCalcs")&&(!e&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),t.push(this.calcs.top))),!e&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),t.push(this.calcs.bottom)))),t}},{key:"getData",value:function(e,t){var n=[];return this._visSet(),(!e||e&&this.visible)&&this.rows.forEach((function(e){n.push(e.getData(t||"data"))})),n}},{key:"getRowCount",value:function(){var e=0;return this.groupList.length?this.groupList.forEach((function(t){e+=t.getRowCount()})):e=this.rows.length,e}},{key:"toggleVisibility",value:function(){this.visible?this.hide():this.show()}},{key:"hide",value:function(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach((function(e){e.getHeadersAndRows().forEach((function(e){e.detachElement()}))})):this.rows.forEach((function(e){var t=e.getElement();t.parentNode.removeChild(t)})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}},{key:"show",value:function(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var e=this.getElement();this.groupList.length?this.groupList.forEach((function(t){t.getHeadersAndRows().forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n}))})):this.rows.forEach((function(t){var n=t.getElement();e.parentNode.insertBefore(n,e.nextSibling),t.initialize(),e=n})),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}},{key:"_visSet",value:function(){var e=[];"function"==typeof this.visible&&(this.rows.forEach((function(t){e.push(t.getData())})),this.visible=this.visible(this.key,this.getRowCount(),e,this.getComponent()))}},{key:"getRowGroup",value:function(e){var t=!1;return this.groupList.length?this.groupList.forEach((function(n){var i=n.getRowGroup(e);i&&(t=i)})):this.rows.find((function(t){return t===e}))&&(t=this),t}},{key:"getSubGroups",value:function(e){var t=[];return this.groupList.forEach((function(n){t.push(e?n.getComponent():n)})),t}},{key:"getRows",value:function(e){var t=[];return this.rows.forEach((function(n){t.push(e?n.getComponent():n)})),t}},{key:"generateGroupHeaderContents",value:function(){var e=[];for(this.rows.forEach((function(t){e.push(t.getData())})),this.elementContents=this.generator(this.key,this.getRowCount(),e,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"===typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}},{key:"getPath",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.unshift(this.key),this.parent&&this.parent.getPath(e),e}},{key:"getElement",value:function(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var e=0;e<this.element.childNodes.length;++e)this.element.childNodes[e].parentNode.removeChild(this.element.childNodes[e]);return this.generateGroupHeaderContents(),this.element}},{key:"detachElement",value:function(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}},{key:"normalizeHeight",value:function(){this.setHeight(this.element.clientHeight)}},{key:"initialize",value:function(e){this.initialized&&!e||(this.normalizeHeight(),this.initialized=!0)}},{key:"reinitialize",value:function(){this.initialized=!1,this.height=0,w.elVisible(this.element)&&this.initialize(!0)}},{key:"setHeight",value:function(e){this.height!=e&&(this.height=e,this.outerHeight=this.element.offsetHeight)}},{key:"getHeight",value:function(){return this.outerHeight}},{key:"getGroup",value:function(){return this}},{key:"reinitializeHeight",value:function(){}},{key:"calcHeight",value:function(){}},{key:"setCellHeight",value:function(){}},{key:"clearCellHeight",value:function(){}},{key:"deinitializeHeight",value:function(){}},{key:"getComponent",value:function(){return this.component||(this.component=new Z(this)),this.component}}]),e}(),te=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).groupIDLookups=!1,i.startOpen=[function(){return!1}],i.headerGenerator=[function(){return""}],i.groupList=[],i.allowedValues=!1,i.groups={},i.displayIndex=0,i.displayHandler=i.getRows.bind(s(i)),i.registerTableOption("groupBy",!1),i.registerTableOption("groupStartOpen",!0),i.registerTableOption("groupValues",!1),i.registerTableOption("groupUpdateOnCellEdit",!1),i.registerTableOption("groupHeader",!1),i.registerTableOption("groupHeaderPrint",null),i.registerTableOption("groupHeaderClipboard",null),i.registerTableOption("groupHeaderHtmlOutput",null),i.registerTableOption("groupHeaderDownload",null),i.registerTableOption("groupToggleElement","arrow"),i.registerTableOption("groupClosedShowCalcs",!1),i.registerTableFunction("setGroupBy",i.setGroupBy.bind(s(i))),i.registerTableFunction("setGroupValues",i.setGroupValues.bind(s(i))),i.registerTableFunction("setGroupStartOpen",i.setGroupStartOpen.bind(s(i))),i.registerTableFunction("setGroupHeader",i.setGroupHeader.bind(s(i))),i.registerTableFunction("getGroups",i.userGetGroups.bind(s(i))),i.registerTableFunction("getGroupedData",i.userGetGroupedData.bind(s(i))),i.registerComponentFunction("row","getGroup",i.rowGetGroup.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){var e=this;if(this.table.options.groupBy){var t=this.table.options.groupBy,n=this.table.options.groupStartOpen,i=this.table.options.groupHeader;if(this.allowedValues=this.table.options.groupValues,Array.isArray(t)&&Array.isArray(i)&&t.length>i.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(function(t,n){e.headerGenerator[0]=function(e,i,o){return("undefined"===typeof e?"":e)+"<span>("+i+" "+(1===i?t:n.groups.items)+")</span>"}})),this.groupIDLookups=[],Array.isArray(t)||t)this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs();else if(this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs)this.table.columnManager.getRealColumns().forEach((function(t){t.definition.topCalc&&e.table.modules.columnCalcs.initializeTopRow(),t.definition.bottomCalc&&e.table.modules.columnCalcs.initializeBottomRow()}));Array.isArray(t)||(t=[t]),t.forEach((function(t,n){var i,o;i="function"==typeof t?t:(o=e.table.columnManager.getColumnByField(t))?function(e){return o.getFieldValue(e)}:function(e){return e[t]},e.groupIDLookups.push({field:"function"!==typeof t&&t,func:i,values:!!e.allowedValues&&e.allowedValues[n]})})),n&&(Array.isArray(n)||(n=[n]),n.forEach((function(e){})),this.startOpen=n),i&&(this.headerGenerator=Array.isArray(i)?i:[i]),this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0}}},{key:"rowSample",value:function(e,t){var n=this.getGroups(!1)[0];return t.push(n.getRows(!1)[0]),t}},{key:"virtualRenderFill",value:function(){var e=this.table.rowManager.tableElement,t=this.table.rowManager.getVisibleRows();t=t.filter((function(e){return"group"!==e.type})),e.style.minWidth=t.length?"":this.table.columnManager.getWidth()+"px"}},{key:"rowAddingIndex",value:function(e,t,n){this.assignRowToGroup(e);var i=e.modules.group.rows;return i.length>1&&(!t||t&&-1==i.indexOf(t)?n?i[0]!==e&&(t=i[0],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)):i[i.length-1]!==e&&(t=i[i.length-1],this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)):this.table.rowManager.moveRowInArray(e.modules.group.rows,e,t,!n)),t}},{key:"trackChanges",value:function(){this.dispatch("group-changed")}},{key:"setGroupBy",value:function(e){this.table.options.groupBy=e,this.initialize(),this.refreshData(!1,"display"),this.trackChanges()}},{key:"setGroupValues",value:function(e){this.table.options.groupValues=e,this.initialize(),this.refreshData(!1,"display"),this.trackChanges()}},{key:"setGroupStartOpen",value:function(e){this.table.options.groupStartOpen=e,this.initialize(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}},{key:"setGroupHeader",value:function(e){this.table.options.groupHeader=e,this.initialize(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}},{key:"userGetGroups",value:function(e){return this.getGroups(!0)}},{key:"userGetGroupedData",value:function(){return this.table.options.groupBy?this.getGroupedData():this.getData()}},{key:"rowGetGroup",value:function(e){return!!e.modules.group&&e.modules.group.getComponent()}},{key:"rowMoving",value:function(e,t,n){!n&&t instanceof ee&&(t=this.table.rowManager.prevDisplayRow(e)||t);var i=t instanceof ee?t:t.modules.group,o=e instanceof ee?e:e.modules.group;i===o?this.table.rowManager.moveRowInArray(i.rows,e,t,n):(o&&o.removeRow(e),i.insertRow(e,t,n))}},{key:"rowDeleting",value:function(e){e.modules.group&&e.modules.group.removeRow(e)}},{key:"rowsUpdated",value:function(e){this.updateGroupRows(!0)}},{key:"cellUpdated",value:function(e){this.reassignRowToGroup(e.row)}},{key:"setDisplayIndex",value:function(e){this.displayIndex=e}},{key:"getDisplayIndex",value:function(){return this.displayIndex}},{key:"getRows",value:function(e){return this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(e),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):e.slice(0)}},{key:"getGroups",value:function(e){var t=[];return this.groupList.forEach((function(n){t.push(e?n.getComponent():n)})),t}},{key:"getChildGroups",value:function(e){var t=this,n=[];return e||(e=this),e.groupList.forEach((function(e){e.groupList.length?n=n.concat(t.getChildGroups(e)):n.push(e)})),n}},{key:"wipe",value:function(){this.groupList.forEach((function(e){e.wipe()}))}},{key:"pullGroupListData",value:function(e){var t=this,n=[];return e.forEach((function(e){var i={level:0,rowCount:0,headerContent:""},o=[];e.hasSubGroups?(o=t.pullGroupListData(e.groupList),i.level=e.level,i.rowCount=o.length-e.groupList.length,i.headerContent=e.generator(e.key,i.rowCount,e.rows,e),n.push(i),n=n.concat(o)):(i.level=e.level,i.headerContent=e.generator(e.key,e.rows.length,e.rows,e),i.rowCount=e.getRows().length,n.push(i),e.getRows().forEach((function(e){n.push(e.getData("data"))})))})),n}},{key:"getGroupedData",value:function(){return this.pullGroupListData(this.groupList)}},{key:"getRowGroup",value:function(e){var t=!1;return this.groupList.forEach((function(n){var i=n.getRowGroup(e);i&&(t=i)})),t}},{key:"countGroups",value:function(){return this.groupList.length}},{key:"generateGroups",value:function(e){var t=this,n=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach((function(e){t.createGroup(e,0,n)})),e.forEach((function(e){t.assignRowToExistingGroup(e,n)}))):e.forEach((function(e){t.assignRowToGroup(e,n)}))}},{key:"createGroup",value:function(e,t,n){var i,o=t+"_"+e;n=n||[],i=new ee(this,!1,t,e,this.groupIDLookups[0].field,this.headerGenerator[0],n[o]),this.groups[o]=i,this.groupList.push(i)}},{key:"assignRowToExistingGroup",value:function(e,t){var n="0_"+this.groupIDLookups[0].func(e.getData());this.groups[n]&&this.groups[n].addRow(e)}},{key:"assignRowToGroup",value:function(e,t){var n=this.groupIDLookups[0].func(e.getData()),i=!this.groups["0_"+n];return i&&this.createGroup(n,0,t),this.groups["0_"+n].addRow(e),!i}},{key:"reassignRowToGroup",value:function(e){if("row"===e.type){var t=e.modules.group,n=t.getPath(),i=this.getExpectedPath(e);n.length==i.length&&n.every((function(e,t){return e===i[t]}))||(t.removeRow(e),this.assignRowToGroup(e,this.groups),this.refreshData(!0))}}},{key:"getExpectedPath",value:function(e){var t=[],n=e.getData();return this.groupIDLookups.forEach((function(e){t.push(e.func(n))})),t}},{key:"updateGroupRows",value:function(e){var t=[];return this.groupList.forEach((function(e){t=t.concat(e.getHeadersAndRows())})),e&&this.refreshData(!0,this.displayHandler),t}},{key:"scrollHeaders",value:function(e){"virtual"===this.table.options.renderHorizontal&&(e-=this.table.columnManager.renderer.vDomPadLeft),e+="px",this.groupList.forEach((function(t){t.scrollHeader(e)}))}},{key:"removeGroup",value:function(e){var t,n=e.level+"_"+e.key;this.groups[n]&&(delete this.groups[n],(t=this.groupList.indexOf(e))>-1&&this.groupList.splice(t,1))}}]),n}(y);te.moduleName="groupRows";var ne=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).history=[],i.index=-1,i.registerTableOption("history",!1),i}return v(n,[{key:"initialize",value:function(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}},{key:"rowMoved",value:function(e,t,n){this.action("rowMove",e,{posFrom:this.table.rowManager.getRowPosition(e),posTo:this.table.rowManager.getRowPosition(t),to:t,after:n})}},{key:"rowAdded",value:function(e,t,n,i){this.action("rowAdd",e,{data:t,pos:n,index:i})}},{key:"rowDeleted",value:function(e){var t,n;this.table.options.groupBy?(t=(n=e.getComponent().getGroup().rows).indexOf(e))&&(t=n[t-1]):(t=e.table.rowManager.getRowIndex(e))&&(t=e.table.rowManager.rows[t-1]),this.history.action("rowDelete",e,{data:e.getData(),pos:!t,index:t})}},{key:"cellUpdated",value:function(e){this.action("cellEdit",e,{oldValue:e.oldValue,newValue:e.value})}},{key:"clear",value:function(){this.history=[],this.index=-1}},{key:"action",value:function(e,t,n){this.history=this.history.slice(0,this.index+1),this.history.push({type:e,component:t,data:n}),this.index++}},{key:"getHistoryUndoSize",value:function(){return this.index+1}},{key:"getHistoryRedoSize",value:function(){return this.history.length-(this.index+1)}},{key:"clearComponentHistory",value:function(e){var t=this.history.findIndex((function(t){return t.component===e}));t>-1&&(this.history.splice(t,1),t<=this.index&&this.index--,this.clearComponentHistory(e))}},{key:"undo",value:function(){if(this.index>-1){var e=this.history[this.index];return n.undoers[e.type].call(this,e),this.index--,this.dispatchExternal("historyUndo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}},{key:"redo",value:function(){if(this.history.length-1>this.index){this.index++;var e=this.history[this.index];return n.redoers[e.type].call(this,e),this.dispatchExternal("historyRedo",e.type,e.component.getComponent(),e.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}},{key:"_rebindRow",value:function(e,t){this.history.forEach((function(n){if(n.component instanceof Row)n.component===e&&(n.component=t);else if(n.component instanceof Cell&&n.component.row===e){var i=n.component.column.getField();i&&(n.component=t.getCell(i))}}))}}]),n}(y);ne.moduleName="history",ne.undoers={cellEdit:function(e){e.component.setValueProcessData(e.data.oldValue),e.component.cellRendered()},rowAdd:function(e){e.component.deleteActual()},rowDelete:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posFrom],!e.data.after),this.table.rowManager.redraw()}},ne.redoers={cellEdit:function(e){e.component.setValueProcessData(e.data.newValue),e.component.cellRendered()},rowAdd:function(e){var t=this.table.rowManager.addRowActual(e.data.data,e.data.pos,e.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(e.component,t)},rowDelete:function(e){e.component.deleteActual()},rowMove:function(e){this.table.rowManager.moveRowActual(e.component,this.table.rowManager.rows[e.data.posTo],e.data.after),this.table.rowManager.redraw()}};var ie=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).fieldIndex=[],i.hasIndex=!1,i}return v(n,[{key:"initialize",value:function(){this.tableElementCheck()}},{key:"tableElementCheck",value:function(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}},{key:"parseTable",value:function(){var e=this.table.originalElement,t=this.table.options,n=(t.columns,e.getElementsByTagName("th")),i=e.getElementsByTagName("tbody")[0],o=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),i=i?i.getElementsByTagName("tr"):[],this._extractOptions(e,t),n.length?this._extractHeaders(n,i):this._generateBlankHeaders(n,i);for(var r=0;r<i.length;r++){var a=i[r].getElementsByTagName("td"),l={};this.hasIndex||(l[t.index]=r);for(var s=0;s<a.length;s++){var u=a[s];"undefined"!==typeof this.fieldIndex[s]&&(l[this.fieldIndex[s]]=u.innerHTML)}o.push(l)}t.data=o,this.dispatchExternal("htmlImported")}},{key:"_extractOptions",value:function(e,t,n){var i=e.attributes,o=n?Object.assign([],n):Object.keys(t),r={};for(var a in o.forEach((function(e){r[e.toLowerCase()]=e})),i){var l,s=i[a];s&&"object"==typeof s&&s.name&&0===s.name.indexOf("tabulator-")&&(l=s.name.replace("tabulator-",""),"undefined"!==typeof r[l]&&(t[r[l]]=this._attribValue(s.value)))}}},{key:"_attribValue",value:function(e){return"true"===e||"false"!==e&&e}},{key:"_findCol",value:function(e){return this.table.options.columns.find((function(t){return t.title===e}))||!1}},{key:"_extractHeaders",value:function(e,t){for(var n=0;n<e.length;n++){var i,o=e[n],r=!1,a=this._findCol(o.textContent);a?r=!0:a={title:o.textContent.trim()},a.field||(a.field=o.textContent.trim().toLowerCase().replace(" ","_")),(i=o.getAttribute("width"))&&!a.width&&(a.width=i),o.attributes,this._extractOptions(o,a,Column.prototype.defaultOptionList),this.fieldIndex[n]=a.field,a.field==this.table.options.index&&(this.hasIndex=!0),r||this.table.options.columns.push(a)}}},{key:"_generateBlankHeaders",value:function(e,t){for(var n=0;n<e.length;n++){var i=e[n],o={title:"",field:"col"+n};this.fieldIndex[n]=o.field;var r=i.getAttribute("width");r&&(o.width=r),this.table.options.columns.push(o)}}}]),n}(y);ie.moduleName="htmlTableImport";var oe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},i.subscribers={},i.touchSubscribers={},i.columnSubscribers={},i.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null}},i.registerColumnOption("headerClick"),i.registerColumnOption("headerDblClick"),i.registerColumnOption("headerContext"),i.registerColumnOption("headerMouseEnter"),i.registerColumnOption("headerMouseLeave"),i.registerColumnOption("headerMouseOver"),i.registerColumnOption("headerMouseOut"),i.registerColumnOption("headerMouseMove"),i.registerColumnOption("headerTap"),i.registerColumnOption("headerDblTap"),i.registerColumnOption("headerTapHold"),i.registerColumnOption("cellClick"),i.registerColumnOption("cellDblClick"),i.registerColumnOption("cellContext"),i.registerColumnOption("cellMouseEnter"),i.registerColumnOption("cellMouseLeave"),i.registerColumnOption("cellMouseOver"),i.registerColumnOption("cellMouseOut"),i.registerColumnOption("cellMouseMove"),i.registerColumnOption("cellTap"),i.registerColumnOption("cellDblTap"),i.registerColumnOption("cellTapHold"),i}return v(n,[{key:"initialize",value:function(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}},{key:"cellContentsSelectionFixer",value:function(e,t){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){e.preventDefault();try{if(document.selection)(n=document.body.createTextRange()).moveToElementText(this.element),n.select();else if(window.getSelection){var n;(n=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(n)}}catch(e){}}}},{key:"initializeExternalEvents",value:function(){for(var e in this.eventMap)this.subscriptionChangeExternal(e,this.subscriptionChanged.bind(this,e))}},{key:"subscriptionChanged",value:function(e,t){t?this.subscribers[e]||(this.eventMap[e].includes("-")?(this.subscribers[e]=this.handle.bind(this,e),this.subscribe(this.eventMap[e],this.subscribers[e])):this.subscribeTouchEvents(e)):this.eventMap[e].includes("-")?!this.subscribers[e]||this.columnSubscribers[e]||this.subscribedExternal(e)||(this.unsubscribe(this.eventMap[e],this.subscribers[e]),delete this.subscribers[e]):this.unsubscribeTouchEvents(e)}},{key:"subscribeTouchEvents",value:function(e){var t=this.eventMap[e];this.touchSubscribers[t+"-touchstart"]||(this.touchSubscribers[t+"-touchstart"]=this.handleTouch.bind(this,t,"start"),this.touchSubscribers[t+"-touchend"]=this.handleTouch.bind(this,t,"end"),this.subscribe(t+"-touchstart",this.touchSubscribers[t+"-touchstart"]),this.subscribe(t+"-touchend",this.touchSubscribers[t+"-touchend"])),this.subscribers[e]=!0}},{key:"unsubscribeTouchEvents",value:function(e){var t=!0,n=this.eventMap[e];if(this.subscribers[e]&&!this.subscribedExternal(e)){for(var i in delete this.subscribers[e],this.eventMap)this.eventMap[i]===n&&this.subscribers[i]&&(t=!1);t&&(this.unsubscribe(n+"-touchstart",this.touchSubscribers[n+"-touchstart"]),this.unsubscribe(n+"-touchend",this.touchSubscribers[n+"-touchend"]),delete this.touchSubscribers[n+"-touchstart"],delete this.touchSubscribers[n+"-touchend"])}}},{key:"initializeColumn",value:function(e){var t=e.definition;for(var n in this.eventMap)t[n]&&(this.subscriptionChanged(n,!0),this.columnSubscribers[n]||(this.columnSubscribers[n]=[]),this.columnSubscribers[n].push(e))}},{key:"handle",value:function(e,t,n){this.dispatchEvent(e,t,n)}},{key:"handleTouch",value:function(e,t,n,i){var o=this,r=this.touchWatchers[e];switch("column"===e&&(e="header"),t){case"start":r.tap=!0,clearTimeout(r.tapHold),r.tapHold=setTimeout((function(){clearTimeout(r.tapHold),r.tapHold=null,r.tap=null,clearTimeout(r.tapDbl),r.tapDbl=null,o.dispatchEvent(e+"TapHold",n,i)}),1e3);break;case"end":r.tap&&(r.tap=null,this.dispatchEvent(e+"Tap",n,i)),r.tapDbl?(clearTimeout(r.tapDbl),r.tapDbl=null,this.dispatchEvent(e+"DblTap",n,i)):r.tapDbl=setTimeout((function(){clearTimeout(r.tapDbl),r.tapDbl=null}),300),clearTimeout(r.tapHold),r.tapHold=null}}},{key:"dispatchEvent",value:function(e,t,n){var i,o=n.getComponent();this.columnSubscribers[e]&&(n instanceof D?i=n.column.definition[e]:n instanceof F&&(i=n.definition[e]),i&&i(t,o)),this.dispatchExternal(e,t,o)}}]),n}(y);oe.moduleName="interaction";var re=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).watchKeys=null,i.pressedKeys=null,i.keyupBinding=!1,i.keydownBinding=!1,i.registerTableOption("keybindings",[]),i.registerTableOption("tabEndNewRow",!1),i}return v(n,[{key:"initialize",value:function(){var e=this.table.options.keybindings,t={};if(this.watchKeys={},this.pressedKeys=[],!1!==e){for(var i in n.bindings)t[i]=n.bindings[i];if(Object.keys(e).length)for(var o in e)t[o]=e[o];this.mapBindings(t),this.bindEvents()}this.subscribe("table-destroy",this.clearBindings.bind(this))}},{key:"mapBindings",value:function(e){var t=this,i=function(i){n.actions[i]?e[i]&&("object"!==typeof e[i]&&(e[i]=[e[i]]),e[i].forEach((function(e){t.mapBinding(i,e)}))):console.warn("Key Binding Error - no such action:",i)};for(var o in e)i(o)}},{key:"mapBinding",value:function(e,t){var i=this,o={action:n.actions[e],keys:[],ctrl:!1,shift:!1,meta:!1};t.toString().toLowerCase().split(" ").join("").split("+").forEach((function(e){switch(e){case"ctrl":o.ctrl=!0;break;case"shift":o.shift=!0;break;case"meta":o.meta=!0;break;default:e=parseInt(e),o.keys.push(e),i.watchKeys[e]||(i.watchKeys[e]=[]),i.watchKeys[e].push(o)}}))}},{key:"bindEvents",value:function(){var e=this;this.keyupBinding=function(t){var n=t.keyCode,i=e.watchKeys[n];i&&(e.pressedKeys.push(n),i.forEach((function(n){e.checkBinding(t,n)})))},this.keydownBinding=function(t){var n=t.keyCode;if(e.watchKeys[n]){var i=e.pressedKeys.indexOf(n);i>-1&&e.pressedKeys.splice(i,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}},{key:"clearBindings",value:function(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}},{key:"checkBinding",value:function(e,t){var n=this,i=!0;return e.ctrlKey==t.ctrl&&e.shiftKey==t.shift&&e.metaKey==t.meta&&(t.keys.forEach((function(e){-1==n.pressedKeys.indexOf(e)&&(i=!1)})),i&&t.action.call(this,e),!0)}}]),n}(y);re.moduleName="keybindings",re.bindings={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},re.actions={keyBlock:function(e){e.stopPropagation(),e.preventDefault()},scrollPageUp:function(e){var t=this.table.rowManager,n=t.scrollTop-t.element.clientHeight;t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(n>=0?t.element.scrollTop=n:t.scrollToRow(t.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(e){var t=this.table.rowManager,n=t.scrollTop+t.element.clientHeight,i=t.element.scrollHeight;e.preventDefault(),t.displayRowsCount&&(n<=i?t.element.scrollTop=n:t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(e){var t=this.table.rowManager;e.preventDefault(),t.displayRowsCount&&t.scrollToRow(t.getDisplayRows()[t.displayRowsCount-1]),this.table.element.focus()},navPrev:function(e){this.dispatch("keybinding-nav-prev",e)},navNext:function(e){this.dispatch("keybinding-nav-next",e)},navLeft:function(e){this.dispatch("keybinding-nav-left",e)},navRight:function(e){this.dispatch("keybinding-nav-right",e)},navUp:function(e){this.dispatch("keybinding-nav-up",e)},navDown:function(e){this.dispatch("keybinding-nav-down",e)},undo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.undo()))},redo:function(e){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(e.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(e){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};var ae=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).menuElements=[],i.blurEvent=i.hideMenu.bind(s(i)),i.escEvent=i.escMenu.bind(s(i)),i.nestedMenuBlock=!1,i.positionReversedX=!1,i.registerTableOption("rowContextMenu",!1),i.registerTableOption("rowClickMenu",!1),i.registerTableOption("groupContextMenu",!1),i.registerTableOption("groupClickMenu",!1),i.registerColumnOption("headerContextMenu"),i.registerColumnOption("headerMenu"),i.registerColumnOption("contextMenu"),i.registerColumnOption("clickMenu"),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this))}},{key:"layoutCell",value:function(e){(e.column.definition.contextMenu||e.column.definition.clickMenu)&&this.initializeCell(e)}},{key:"initializeColumn",value:function(e){var t=e.definition;(t.headerContextMenu||t.headerClickMenu||t.headerMenu)&&this.initializeColumnHeader(e)}},{key:"initializeColumnHeader",value:function(e){var t,n=this;e.definition.headerContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,e.definition.headerContextMenu)),this.tapHold(e,e.definition.headerContextMenu)),e.definition.headerMenu&&((t=document.createElement("span")).classList.add("tabulator-header-menu-button"),t.innerHTML="&vellip;",t.addEventListener("click",(function(t){t.stopPropagation(),t.preventDefault(),n.LoadMenuEvent(e,e.definition.headerMenu,t)})),e.titleElement.insertBefore(t,e.titleElement.firstChild))}},{key:"LoadMenuEvent",value:function(e,t,n){t="function"==typeof t?t.call(this.table,e.getComponent(),n):t,this.loadMenu(n,e,t)}},{key:"tapHold",value:function(e,t){var n=this,i=e.getElement(),o=null,r=!1;i.addEventListener("touchstart",(function(i){clearTimeout(o),r=!1,o=setTimeout((function(){clearTimeout(o),o=null,r=!0,n.LoadMenuEvent(e,t,i)}),1e3)}),{passive:!0}),i.addEventListener("touchend",(function(e){clearTimeout(o),o=null,r&&e.preventDefault()}))}},{key:"initializeCell",value:function(e){e.column.definition.contextMenu&&(e.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,e.column.definition.contextMenu)),this.tapHold(e,e.column.definition.contextMenu)),e.column.definition.clickMenu&&e.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,e,e.column.definition.clickMenu))}},{key:"initializeRow",value:function(e){this.table.options.rowContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.rowContextMenu)),this.tapHold(e,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.rowClickMenu))}},{key:"initializeGroup",value:function(e){this.table.options.groupContextMenu&&(e.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,e,this.table.options.groupContextMenu)),this.tapHold(e,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&e.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,e,this.table.options.groupClickMenu))}},{key:"loadMenu",value:function(e,t,n,i){var o=this,r=!(e instanceof MouseEvent),a=document.createElement("div");if(a.classList.add("tabulator-menu"),r||e.preventDefault(),n&&n.length){if(!i){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout((function(){o.nestedMenuBlock=!1}),100);this.hideMenu(),this.menuElements=[]}n.forEach((function(e){var n=document.createElement("div"),i=e.label,r=e.disabled;e.separator?n.classList.add("tabulator-menu-separator"):(n.classList.add("tabulator-menu-item"),"function"==typeof i&&(i=i.call(o.table,t.getComponent())),i instanceof Node?n.appendChild(i):n.innerHTML=i,"function"==typeof r&&(r=r.call(o.table,t.getComponent())),r?(n.classList.add("tabulator-menu-item-disabled"),n.addEventListener("click",(function(e){e.stopPropagation()}))):e.menu&&e.menu.length?n.addEventListener("click",(function(i){i.stopPropagation(),o.hideOldSubMenus(a),o.loadMenu(i,t,e.menu,n)})):e.action&&n.addEventListener("click",(function(n){e.action(n,t.getComponent())})),e.menu&&e.menu.length&&n.classList.add("tabulator-menu-item-submenu")),a.appendChild(n)})),a.addEventListener("click",(function(e){o.hideMenu()})),this.menuElements.push(a),this.positionMenu(a,i,r,e)}}},{key:"hideOldSubMenus",value:function(e){var t=this.menuElements.indexOf(e);if(t>-1)for(var n=this.menuElements.length-1;n>t;n--){var i=this.menuElements[n];i.parentNode&&i.parentNode.removeChild(i),this.menuElements.pop()}}},{key:"positionMenu",value:function(e,t,n,i){var o,r,a,l=this,s=Math.max(document.body.offsetHeight,window.innerHeight);t?(o=(a=w.elOffset(t)).left+t.offsetWidth,r=a.top-1):(o=n?i.touches[0].pageX:i.pageX,r=n?i.touches[0].pageY:i.pageY,this.positionReversedX=!1),e.style.top=r+"px",e.style.left=o+"px",setTimeout((function(){l.table.rowManager.element.addEventListener("scroll",l.blurEvent),document.body.addEventListener("click",l.blurEvent),document.body.addEventListener("contextmenu",l.blurEvent),window.addEventListener("resize",l.blurEvent),document.body.addEventListener("keydown",l.escEvent)}),100),document.body.appendChild(e),r+e.offsetHeight>=s&&(e.style.top="",e.style.bottom=t?s-a.top-t.offsetHeight-1+"px":s-r+"px"),(o+e.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(e.style.left="",e.style.right=t?document.documentElement.offsetWidth-a.left+"px":document.documentElement.offsetWidth-o+"px",this.positionReversedX=!0)}},{key:"isOpen",value:function(){return!!this.menuElements.length}},{key:"escMenu",value:function(e){27==e.keyCode&&this.hideMenu()}},{key:"hideMenu",value:function(){this.menuElements.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)}}]),n}(y);ae.moduleName="menu";var le=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).placeholderElement=i.createPlaceholderElement(),i.hoverElement=!1,i.checkTimeout=!1,i.checkPeriod=250,i.moving=!1,i.toCol=!1,i.toColAfter=!1,i.startX=0,i.autoScrollMargin=40,i.autoScrollStep=5,i.autoScrollTimeout=!1,i.touchMove=!1,i.moveHover=i.moveHover.bind(s(i)),i.endMove=i.endMove.bind(s(i)),i.registerTableOption("movableColumns",!1),i}return v(n,[{key:"createPlaceholderElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-col"),e.classList.add("tabulator-col-placeholder"),e}},{key:"initialize",value:function(){this.subscribe("column-init",this.initializeColumn.bind(this))}},{key:"initializeColumn",value:function(e){var t,n=this,i={};e.modules.frozen||(t=e.getElement(),i.mousemove=function(i){e.parent===n.moving.parent&&((n.touchMove?i.touches[0].pageX:i.pageX)-w.elOffset(t).left+n.table.columnManager.element.scrollLeft>e.getWidth()/2?n.toCol===e&&n.toColAfter||(t.parentNode.insertBefore(n.placeholderElement,t.nextSibling),n.moveColumn(e,!0)):(n.toCol!==e||n.toColAfter)&&(t.parentNode.insertBefore(n.placeholderElement,t),n.moveColumn(e,!1)))}.bind(n),t.addEventListener("mousedown",(function(t){n.touchMove=!1,1===t.which&&(n.checkTimeout=setTimeout((function(){n.startMove(t,e)}),n.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),n.bindTouchEvents(e)),e.modules.moveColumn=i}},{key:"bindTouchEvents",value:function(e){var t,n,i,o,r,a,l=this,s=e.getElement(),u=!1;s.addEventListener("touchstart",(function(s){l.checkTimeout=setTimeout((function(){l.touchMove=!0,t=e.nextColumn(),i=t?t.getWidth()/2:0,n=e.prevColumn(),o=n?n.getWidth()/2:0,r=0,a=0,u=!1,l.startMove(s,e)}),l.checkPeriod)}),{passive:!0}),s.addEventListener("touchmove",(function(s){var c,d;l.moving&&(l.moveHover(s),u||(u=s.touches[0].pageX),(c=s.touches[0].pageX-u)>0?t&&c-r>i&&(d=t)!==e&&(u=s.touches[0].pageX,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement().nextSibling),l.moveColumn(d,!0)):n&&-c-a>o&&(d=n)!==e&&(u=s.touches[0].pageX,d.getElement().parentNode.insertBefore(l.placeholderElement,d.getElement()),l.moveColumn(d,!1)),d&&(t=d.nextColumn(),r=i,i=t?t.getWidth()/2:0,n=d.prevColumn(),a=o,o=n?n.getWidth()/2:0))}),{passive:!0}),s.addEventListener("touchend",(function(e){l.checkTimeout&&clearTimeout(l.checkTimeout),l.moving&&l.endMove(e)}))}},{key:"startMove",value:function(e,t){var n=t.getElement();this.moving=t,this.startX=(this.touchMove?e.touches[0].pageX:e.pageX)-w.elOffset(n).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom="0",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(e)}},{key:"_bindMouseMove",value:function(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveColumn.mousemove)}))}},{key:"_unbindMouseMove",value:function(){this.table.columnManager.columnsByIndex.forEach((function(e){e.modules.moveColumn.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveColumn.mousemove)}))}},{key:"moveColumn",value:function(e,t){var n=this.moving.getCells();this.toCol=e,this.toColAfter=t,t?e.getCells().forEach((function(e,t){var i=e.getElement(!0);i.parentNode&&i.parentNode.insertBefore(n[t].getElement(),i.nextSibling)})):e.getCells().forEach((function(e,t){var i=e.getElement(!0);i.parentNode&&i.parentNode.insertBefore(n[t].getElement(),i)}))}},{key:"endMove",value:function(e){(1===e.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}},{key:"moveHover",value:function(e){var t,n=this,i=this.table.columnManager.getElement(),o=i.scrollLeft,r=(this.touchMove?e.touches[0].pageX:e.pageX)-w.elOffset(i).left+o;this.hoverElement.style.left=r-this.startX+"px",r-o<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((function(){t=Math.max(0,o-5),n.table.rowManager.getElement().scrollLeft=t,n.autoScrollTimeout=!1}),1))),o+i.clientWidth-r<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout((function(){t=Math.min(i.clientWidth,o+5),n.table.rowManager.getElement().scrollLeft=t,n.autoScrollTimeout=!1}),1)))}}]),n}(y);le.moduleName="moveColumn";var se=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).placeholderElement=i.createPlaceholderElement(),i.hoverElement=!1,i.checkTimeout=!1,i.checkPeriod=150,i.moving=!1,i.toRow=!1,i.toRowAfter=!1,i.hasHandle=!1,i.startY=0,i.startX=0,i.moveHover=i.moveHover.bind(s(i)),i.endMove=i.endMove.bind(s(i)),i.tableRowDropEvent=!1,i.touchMove=!1,i.connection=!1,i.connectionSelectorsTables=!1,i.connectionSelectorsElements=!1,i.connectionElements=[],i.connections=[],i.connectedTable=!1,i.connectedRow=!1,i.registerTableOption("movableRows",!1),i.registerTableOption("movableRowsConnectedTables",!1),i.registerTableOption("movableRowsConnectedElements",!1),i.registerTableOption("movableRowsSender",!1),i.registerTableOption("movableRowsReceiver","insert"),i.registerColumnOption("rowHandle"),i}return v(n,[{key:"createPlaceholderElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-row"),e.classList.add("tabulator-row-placeholder"),e}},{key:"initialize",value:function(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}},{key:"initializeGroupHeader",value:function(e){var t=this,n={};n.mouseup=function(e){t.tableRowDrop(e,row)}.bind(t),n.mousemove=function(n){var i;n.pageY-w.elOffset(e.element).top+t.table.rowManager.element.scrollTop>e.getHeight()/2?t.toRow===e&&t.toRowAfter||((i=e.getElement()).parentNode.insertBefore(t.placeholderElement,i.nextSibling),t.moveRow(e,!0)):(t.toRow!==e||t.toRowAfter)&&(i=e.getElement()).previousSibling&&(i.parentNode.insertBefore(t.placeholderElement,i),t.moveRow(e,!1))}.bind(t),e.modules.moveRow=n}},{key:"initializeRow",value:function(e){var t,n=this,i={};i.mouseup=function(t){n.tableRowDrop(t,e)}.bind(n),i.mousemove=function(t){var i=e.getElement();t.pageY-w.elOffset(i).top+n.table.rowManager.element.scrollTop>e.getHeight()/2?n.toRow===e&&n.toRowAfter||(i.parentNode.insertBefore(n.placeholderElement,i.nextSibling),n.moveRow(e,!0)):(n.toRow!==e||n.toRowAfter)&&(i.parentNode.insertBefore(n.placeholderElement,i),n.moveRow(e,!1))}.bind(n),this.hasHandle||((t=e.getElement()).addEventListener("mousedown",(function(t){1===t.which&&(n.checkTimeout=setTimeout((function(){n.startMove(t,e)}),n.checkPeriod))})),t.addEventListener("mouseup",(function(e){1===e.which&&n.checkTimeout&&clearTimeout(n.checkTimeout)})),this.bindTouchEvents(e,e.getElement())),e.modules.moveRow=i}},{key:"initializeColumn",value:function(e){e.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}},{key:"initializeCell",value:function(e){if(e.column.definition.rowHandle&&!1!==this.table.options.movableRows){var t=this,n=e.getElement(!0);n.addEventListener("mousedown",(function(n){1===n.which&&(t.checkTimeout=setTimeout((function(){t.startMove(n,e.row)}),t.checkPeriod))})),n.addEventListener("mouseup",(function(e){1===e.which&&t.checkTimeout&&clearTimeout(t.checkTimeout)})),this.bindTouchEvents(e.row,n)}}},{key:"bindTouchEvents",value:function(e,t){var n,i,o,r,a,l,s=this,u=!1;t.addEventListener("touchstart",(function(t){s.checkTimeout=setTimeout((function(){s.touchMove=!0,n=e.nextRow(),o=n?n.getHeight()/2:0,i=e.prevRow(),r=i?i.getHeight()/2:0,a=0,l=0,u=!1,s.startMove(t,e)}),s.checkPeriod)}),{passive:!0}),this.moving,this.toRow,this.toRowAfter,t.addEventListener("touchmove",(function(t){var c,d;s.moving&&(t.preventDefault(),s.moveHover(t),u||(u=t.touches[0].pageY),(c=t.touches[0].pageY-u)>0?n&&c-a>o&&(d=n)!==e&&(u=t.touches[0].pageY,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement().nextSibling),s.moveRow(d,!0)):i&&-c-l>r&&(d=i)!==e&&(u=t.touches[0].pageY,d.getElement().parentNode.insertBefore(s.placeholderElement,d.getElement()),s.moveRow(d,!1)),d&&(n=d.nextRow(),a=o,o=n?n.getHeight()/2:0,i=d.prevRow(),l=r,r=i?i.getHeight()/2:0))})),t.addEventListener("touchend",(function(e){s.checkTimeout&&clearTimeout(s.checkTimeout),s.moving&&(s.endMove(e),s.touchMove=!1)}))}},{key:"_bindMouseMove",value:function(){this.table.rowManager.getDisplayRows().forEach((function(e){("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().addEventListener("mousemove",e.modules.moveRow.mousemove)}))}},{key:"_unbindMouseMove",value:function(){this.table.rowManager.getDisplayRows().forEach((function(e){("row"===e.type||"group"===e.type)&&e.modules.moveRow&&e.modules.moveRow.mousemove&&e.getElement().removeEventListener("mousemove",e.modules.moveRow.mousemove)}))}},{key:"startMove",value:function(e,t){var n=t.getElement();this.setStartPosition(e,t),this.moving=t,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=t.getWidth()+"px",this.placeholderElement.style.height=t.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(t)):(n.parentNode.insertBefore(this.placeholderElement,n),n.parentNode.removeChild(n)),this.hoverElement=n.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(e)}},{key:"setStartPosition",value:function(e,t){var n,i,o=this.touchMove?e.touches[0].pageX:e.pageX,r=this.touchMove?e.touches[0].pageY:e.pageY;n=t.getElement(),this.connection?(i=n.getBoundingClientRect(),this.startX=i.left-o+window.pageXOffset,this.startY=i.top-r+window.pageYOffset):this.startY=r-n.getBoundingClientRect().top}},{key:"endMove",value:function(e){e&&1!==e.which&&!this.touchMove||(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}},{key:"moveRow",value:function(e,t){this.toRow=e,this.toRowAfter=t}},{key:"moveHover",value:function(e){this.connection?this.moveHoverConnections.call(this,e):this.moveHoverTable.call(this,e)}},{key:"moveHoverTable",value:function(e){var t=this.table.rowManager.getElement(),n=t.scrollTop,i=(this.touchMove?e.touches[0].pageY:e.pageY)-t.getBoundingClientRect().top+n;this.hoverElement.style.top=i-this.startY+"px"}},{key:"moveHoverConnections",value:function(e){this.hoverElement.style.left=this.startX+(this.touchMove?e.touches[0].pageX:e.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?e.touches[0].pageY:e.pageY)+"px"}},{key:"elementRowDrop",value:function(e,t,n){this.dispatchExternal("movableRowsElementDrop",e,t,!!n&&n.getComponent())}},{key:"connectToTables",value:function(e){var t,n=this;this.connectionSelectorsTables&&(t=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",t),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:e})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach((function(e){"string"===typeof e?n.connectionElements=n.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(e))):n.connectionElements.push(e)})),this.connectionElements.forEach((function(e){var t=function(t){n.elementRowDrop(t,e,n.moving)};e.addEventListener("mouseup",t),e.tabulatorElementDropEvent=t,e.classList.add("tabulator-movingrow-receiving")})))}},{key:"disconnectFromTables",value:function(){var e;this.connectionSelectorsTables&&(e=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",e),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach((function(e){e.classList.remove("tabulator-movingrow-receiving"),e.removeEventListener("mouseup",e.tabulatorElementDropEvent),delete e.tabulatorElementDropEvent}))}},{key:"connect",value:function(e,t){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=e,this.connectedRow=t,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().addEventListener("mouseup",e.modules.moveRow.mouseup)})),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",t,e),!0)}},{key:"disconnect",value:function(e){e===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach((function(e){"row"===e.type&&e.modules.moveRow&&e.modules.moveRow.mouseup&&e.getElement().removeEventListener("mouseup",e.modules.moveRow.mouseup)})),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",e)):console.warn("Move Row Error - trying to disconnect from non connected table")}},{key:"dropComplete",value:function(e,t,n){var i=!1;if(n){switch(typeof this.table.options.movableRowsSender){case"string":i=this.senders[this.table.options.movableRowsSender];break;case"function":i=this.table.options.movableRowsSender}i?i.call(this,this.moving.getComponent(),t?t.getComponent():void 0,e):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),t?t.getComponent():void 0,e)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),t?t.getComponent():void 0,e);this.endMove()}},{key:"tableRowDrop",value:function(e,t){var n=!1,i=!1;switch(e.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":n=this.receivers[this.table.options.movableRowsReceiver];break;case"function":n=this.table.options.movableRowsReceiver}n?i=n.call(this,this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),i?this.dispatchExternal("movableRowsReceived",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable):this.dispatchExternal("movableRowsReceivedFailed",this.connectedRow.getComponent(),t?t.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:t,success:i})}},{key:"commsReceived",value:function(e,t,n){switch(t){case"connect":return this.connect(e,n.row);case"disconnect":return this.disconnect(e);case"dropcomplete":return this.dropComplete(e,n.row,n.success)}}}]),n}(y);se.prototype.receivers={insert:function(e,t,n){return this.table.addRow(e.getData(),void 0,t),!0},add:function(e,t,n){return this.table.addRow(e.getData()),!0},update:function(e,t,n){return!!t&&(t.update(e.getData()),!0)},replace:function(e,t,n){return!!t&&(this.table.addRow(e.getData(),void 0,t),t.delete(),!0)}},se.prototype.senders={delete:function(e,t,n){e.delete()}},se.moduleName="moveRow";var ue=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).allowedTypes=["","data","edit","clipboard"],i.enabled=!0,i.registerColumnOption("mutator"),i.registerColumnOption("mutatorParams"),i.registerColumnOption("mutatorData"),i.registerColumnOption("mutatorDataParams"),i.registerColumnOption("mutatorEdit"),i.registerColumnOption("mutatorEditParams"),i.registerColumnOption("mutatorClipboard"),i.registerColumnOption("mutatorClipboardParams"),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}},{key:"rowDataChanged",value:function(e,t,n){return this.transformRow(t,"data",n)}},{key:"initializeColumn",value:function(e){var t=this,n=!1,i={};this.allowedTypes.forEach((function(o){var r,a="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));e.definition[a]&&(r=t.lookupMutator(e.definition[a]))&&(n=!0,i[a]={mutator:r,params:e.definition[a+"Params"]||{}})})),n&&(e.modules.mutate=i)}},{key:"lookupMutator",value:function(e){var t=!1;switch(typeof e){case"string":n.mutators[e]?t=n.mutators[e]:console.warn("Mutator Error - No such mutator found, ignoring: ",e);break;case"function":t=e}return t}},{key:"transformRow",value:function(e,t,n){var i,o="mutator"+(t.charAt(0).toUpperCase()+t.slice(1));return this.enabled&&this.table.columnManager.traverse((function(r){var a,l,s;r.modules.mutate&&(a=r.modules.mutate[o]||r.modules.mutate.mutator||!1)&&(i=r.getFieldValue("undefined"!==typeof n?n:e),"data"!=t&&"undefined"===typeof i||(s=r.getComponent(),l="function"===typeof a.params?a.params(i,e,t,s):a.params,r.setFieldValue(e,a.mutator(i,e,t,l,s))))})),e}},{key:"transformCell",value:function(e,t){if(e.column.modules.mutate){var n=e.column.modules.mutate.mutatorEdit||e.column.modules.mutate.mutator||!1,i={};if(n)return i=Object.assign(i,e.row.getData()),e.column.setFieldValue(i,t),n.mutator(t,i,"edit",n.params,e.getComponent())}return t}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}}]),n}(y);ue.moduleName="mutator",ue.mutators={};var ce=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).mode="local",i.progressiveLoad=!1,i.size=0,i.page=1,i.count=5,i.max=1,i.displayIndex=0,i.initialLoad=!0,i.dataChanging=!1,i.pageSizes=[],i.dataReceivedNames={},i.dataSentNames={},i.registerTableOption("pagination",!1),i.registerTableOption("paginationMode","local"),i.registerTableOption("paginationSize",!1),i.registerTableOption("paginationInitialPage",1),i.registerTableOption("paginationButtonCount",5),i.registerTableOption("paginationSizeSelector",!1),i.registerTableOption("paginationElement",!1),i.registerTableOption("paginationAddRow","page"),i.registerTableOption("progressiveLoad",!1),i.registerTableOption("progressiveLoadDelay",0),i.registerTableOption("progressiveLoadScrollMargin",0),i.registerTableFunction("setMaxPage",i.setMaxPage.bind(s(i))),i.registerTableFunction("setPage",i.setPage.bind(s(i))),i.registerTableFunction("setPageToRow",i.userSetPageToRow.bind(s(i))),i.registerTableFunction("setPageSize",i.userSetPageSize.bind(s(i))),i.registerTableFunction("getPageSize",i.getPageSize.bind(s(i))),i.registerTableFunction("previousPage",i.previousPage.bind(s(i))),i.registerTableFunction("nextPage",i.nextPage.bind(s(i))),i.registerTableFunction("getPage",i.getPage.bind(s(i))),i.registerTableFunction("getPageMax",i.getPageMax.bind(s(i))),i.registerComponentFunction("row","pageTo",i.setPageToRow.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}},{key:"rowAddingPosition",value:function(e,t){var n,i=this.table.rowManager,o=i.getDisplayRows();return t?o.length?n=o[0]:i.activeRows.length&&(n=i.activeRows[i.activeRows.length-1],t=!1):o.length&&(n=o[o.length-1],t=!(o.length<this.size)),{index:n,top:t}}},{key:"calculatePageSizes",value:function(){var e,t;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((e=document.createElement("div")).classList.add("tabulator-row"),e.style.visibility="hidden",(t=document.createElement("div")).classList.add("tabulator-cell"),t.innerHTML="Page Row Test",e.appendChild(t),this.table.rowManager.getTableElement().appendChild(e),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/e.offsetHeight),this.table.rowManager.getTableElement().removeChild(e)),this.generatePageSizeSelectList()}},{key:"initialLoadComplete",value:function(){this.initialLoad=!1}},{key:"remotePageParams",value:function(e,t,n,i){return this.initialLoad||(this.progressiveLoad&&!n||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),i.page=this.page,this.size&&(i.size=this.size),i}},{key:"userSetPageToRow",value:function(e){return this.table.options.pagination&&(e=this.rowManager.findRow(e))?this.setPageToRow(e):Promise.reject()}},{key:"userSetPageSize",value:function(e){return!!this.table.options.pagination&&(this.setPageSize(e),this.setPage(1))}},{key:"scrollVertical",value:function(e,t){var n;t||this.table.dataLoader.loading||(n=this.table.rowManager.getElement()).scrollHeight-n.clientHeight-e<(this.table.options.progressiveLoadScrollMargin||2*n.clientHeight)&&this.nextPage()}},{key:"restOnRenderBefore",value:function(e,t){return t||"local"===this.mode&&this.reset(),e}},{key:"rowsUpdated",value:function(){this.refreshData(!0,"all")}},{key:"createElements",value:function(){var e;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(e=document.createElement("button")).classList.add("tabulator-page"),e.setAttribute("type","button"),e.setAttribute("role","button"),e.setAttribute("aria-label",""),e.setAttribute("title",""),this.firstBut=e.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=e.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=e.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=e.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}},{key:"generatePageSizeSelectList",value:function(){var e=this,t=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))t=this.table.options.paginationSizeSelector,this.pageSizes=t,-1==this.pageSizes.indexOf(this.size)&&t.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){t=[];for(var n=1;n<5;n++)t.push(this.size*n);this.pageSizes=t}else t=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);t.forEach((function(t){var n=document.createElement("option");n.value=t,!0===t?e.langBind("pagination|all",(function(e){n.innerHTML=e})):n.innerHTML=t,e.pageSizeSelect.appendChild(n)})),this.pageSizeSelect.value=this.size}}},{key:"initializePaginator",value:function(e){var t,n=this;e||(this.langBind("pagination|first",(function(e){n.firstBut.innerHTML=e})),this.langBind("pagination|first_title",(function(e){n.firstBut.setAttribute("aria-label",e),n.firstBut.setAttribute("title",e)})),this.langBind("pagination|prev",(function(e){n.prevBut.innerHTML=e})),this.langBind("pagination|prev_title",(function(e){n.prevBut.setAttribute("aria-label",e),n.prevBut.setAttribute("title",e)})),this.langBind("pagination|next",(function(e){n.nextBut.innerHTML=e})),this.langBind("pagination|next_title",(function(e){n.nextBut.setAttribute("aria-label",e),n.nextBut.setAttribute("title",e)})),this.langBind("pagination|last",(function(e){n.lastBut.innerHTML=e})),this.langBind("pagination|last_title",(function(e){n.lastBut.setAttribute("aria-label",e),n.lastBut.setAttribute("title",e)})),this.firstBut.addEventListener("click",(function(){n.setPage(1)})),this.prevBut.addEventListener("click",(function(){n.previousPage()})),this.nextBut.addEventListener("click",(function(){n.nextPage()})),this.lastBut.addEventListener("click",(function(){n.setPage(n.max)})),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(t=document.createElement("label"),this.langBind("pagination|page_size",(function(e){n.pageSizeSelect.setAttribute("aria-label",e),n.pageSizeSelect.setAttribute("title",e),t.innerHTML=e})),this.element.appendChild(t),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",(function(e){n.setPageSize("true"==n.pageSizeSelect.value||n.pageSizeSelect.value),n.setPage(1)}))),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),this.table.options.paginationElement||e||this.table.footerManager.append(this.element,this),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}},{key:"initializeProgressive",value:function(e){this.initializePaginator(!0),this.mode="progressive_"+e,this.progressiveLoad=!0}},{key:"trackChanges",value:function(){this.dispatch("page-changed")}},{key:"setDisplayIndex",value:function(e){this.displayIndex=e}},{key:"getDisplayIndex",value:function(){return this.displayIndex}},{key:"setMaxRows",value:function(e){this.max=e?!0===this.size?1:Math.ceil(e/this.size):1,this.page>this.max&&(this.page=this.max)}},{key:"reset",value:function(e){this.initialLoad||("local"==this.mode||e)&&(this.page=1)}},{key:"setMaxPage",value:function(e){e=parseInt(e),this.max=e||1,this.page>this.max&&(this.page=this.max,this.trigger())}},{key:"setPage",value:function(e){switch(e){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(e=parseInt(e))>0&&e<=this.max||"local"!==this.mode?(this.page=e,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",e),Promise.reject())}},{key:"setPageToRow",value:function(e){var t=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(e);if(t>-1){var n=!0===this.size?1:Math.ceil((t+1)/this.size);return this.setPage(n)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}},{key:"setPageSize",value:function(e){!0!==e&&(e=parseInt(e)),e>0&&(this.size=e),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}},{key:"_setPageButtons",value:function(){for(var e=Math.floor((this.count-1)/2),t=Math.ceil((this.count-1)/2),n=this.max-this.page+e+1<this.count?this.max-this.count+1:Math.max(this.page-e,1),i=this.page<=t?Math.min(this.count,this.max):Math.min(this.page+t,this.max);this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(var o=n;o<=i;o++)o>0&&o<=this.max&&this.pagesElement.appendChild(this._generatePageButton(o));this.footerRedraw()}},{key:"_generatePageButton",value:function(e){var t=this,n=document.createElement("button");return n.classList.add("tabulator-page"),e==this.page&&n.classList.add("active"),n.setAttribute("type","button"),n.setAttribute("role","button"),this.langBind("pagination|page_title",(function(t){n.setAttribute("aria-label",t+" "+e),n.setAttribute("title",t+" "+e)})),n.setAttribute("data-page",e),n.textContent=e,n.addEventListener("click",(function(n){t.setPage(e)})),n}},{key:"previousPage",value:function(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}},{key:"nextPage",value:function(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}},{key:"getPage",value:function(){return this.page}},{key:"getPageMax",value:function(){return this.max}},{key:"getPageSize",value:function(e){return this.size}},{key:"getMode",value:function(){return this.mode}},{key:"getRows",value:function(e){var t,n,i;if("local"==this.mode){t=[],this.setMaxRows(e.length),!0===this.size?(n=0,i=e.length):i=(n=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(var o=n;o<i;o++)e[o]&&t.push(e[o]);return t}return this._setPageButtons(),e.slice(0)}},{key:"trigger",value:function(){var e,t=this;switch(this.mode){case"local":return e=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(e),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally((function(){t.dataChanging=!1}));case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}},{key:"_parseRemoteData",value:function(e){var t,n=this;if("undefined"===typeof e.last_page&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),e.data){if(this.max=parseInt(e.last_page)||1,this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(e.data,!1,1==this.page):this.table.rowManager.addRows(e.data),this.page<this.max&&setTimeout((function(){n.nextPage()}),this.table.options.progressiveLoadDelay);break;case"progressive_scroll":e=this.table.rowManager.getData().concat(e.data),this.table.rowManager.setData(e,1!==this.page,1==this.page),t=this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight,this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+t&&setTimeout((function(){n.nextPage()}))}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property");return e.data}},{key:"footerRedraw",value:function(){var e=this.table.footerManager.element;Math.ceil(e.clientWidth)-e.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(e.clientWidth)-e.scrollWidth<0&&(this.pagesElement.style.display="none"))}}]),n}(y);ce.moduleName="page";var de={local:function(e,t){var n=localStorage.getItem(e+"-"+t);return!!n&&JSON.parse(n)},cookie:function(e,t){var n,i,o=document.cookie,r=e+"-"+t,a=o.indexOf(r+"=");return a>-1&&(o=o.substr(a),(n=o.indexOf(";"))>-1&&(o=o.substr(0,n)),i=o.replace(r+"=","")),!!i&&JSON.parse(i)}},he={local:function(e,t,n){localStorage.setItem(e+"-"+t,JSON.stringify(n))},cookie:function(e,t,n){var i=new Date;i.setDate(i.getDate()+1e4),document.cookie=e+"-"+t+"="+JSON.stringify(n)+"; expires="+i.toUTCString()}},fe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).mode="",i.id="",i.defWatcherBlock=!1,i.config={},i.readFunc=!1,i.writeFunc=!1,i.registerTableOption("persistence",!1),i.registerTableOption("persistenceID",""),i.registerTableOption("persistenceMode",!0),i.registerTableOption("persistenceReaderFunc",!1),i.registerTableOption("persistenceWriterFunc",!1),i}return v(n,[{key:"localStorageTest",value:function(){var e="_tabulator_test";try{return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}},{key:"initialize",value:function(){if(this.table.options.persistence){var e,t=this.table.options.persistenceMode,i=this.table.options.persistenceID;this.mode=!0!==t?t:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"===typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:n.readers[this.table.options.persistenceReaderFunc]?this.readFunc=n.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):n.readers[this.mode]?this.readFunc=n.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"===typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:n.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=n.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):n.writers[this.mode]?this.writeFunc=n.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(i||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(e=this.retreiveData("page"))&&("undefined"===typeof e.paginationSize||!0!==this.config.page&&!this.config.page.size||(this.table.options.paginationSize=e.paginationSize),"undefined"===typeof e.paginationInitialPage||!0!==this.config.page&&!this.config.page.page||(this.table.options.paginationInitialPage=e.paginationInitialPage)),this.config.group&&(e=this.retreiveData("group"))&&("undefined"===typeof e.groupBy||!0!==this.config.group&&!this.config.group.groupBy||(this.table.options.groupBy=e.groupBy),"undefined"===typeof e.groupStartOpen||!0!==this.config.group&&!this.config.group.groupStartOpen||(this.table.options.groupStartOpen=e.groupStartOpen),"undefined"===typeof e.groupHeader||!0!==this.config.group&&!this.config.group.groupHeader||(this.table.options.groupHeader=e.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns")),this.subscribe("table-built",this.tableBuilt.bind(this),0)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}},{key:"eventSave",value:function(e){this.config[e]&&this.save(e)}},{key:"tableBuilt",value:function(){var e,t;this.table.options;this.config.sort&&!1===!(e=this.load("sort"))&&(this.table.initialSort=e),this.config.filter&&!1===!(t=this.load("filter"))&&(this.table.initialFilter=t)}},{key:"tableRedraw",value:function(e){e&&this.config.columns&&this.save("columns")}},{key:"getColumnLayout",value:function(){return this.parseColumns(this.table.columnManager.getColumns())}},{key:"setColumnLayout",value:function(e){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,e)),!0}},{key:"initializeColumn",value:function(e){var t;this.config.columns&&(this.defWatcherBlock=!0,t=e.getDefinition(),(!0===this.config.columns?Object.keys(t):this.config.columns).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e),i=t[e];n&&Object.defineProperty(t,e,{set:function(e){i=e,this.defWatcherBlock||this.save("columns"),n.set&&n.set(e)},get:function(){return n.get&&n.get(),i}})})),this.defWatcherBlock=!1)}},{key:"load",value:function(e,t){var n=this.retreiveData(e);return t&&(n=n?this.mergeDefinition(t,n):t),n}},{key:"retreiveData",value:function(e){return!!this.readFunc&&this.readFunc(this.id,e)}},{key:"mergeDefinition",value:function(e,t){var n=this,i=[];return(t=t||[]).forEach((function(t,o){var r,a=n._findColumn(e,t);a&&(!0===n.config.columns||void 0==n.config.columns?(r=Object.keys(a)).push("width"):r=n.config.columns,r.forEach((function(e){"columns"!==e&&"undefined"!==typeof t[e]&&(a[e]=t[e])})),a.columns&&(a.columns=n.mergeDefinition(a.columns,t.columns)),i.push(a))})),e.forEach((function(e,o){n._findColumn(t,e)||(i.length>o?i.splice(o,0,e):i.push(e))})),i}},{key:"_findColumn",value:function(e,t){var n=t.columns?"group":t.field?"field":"object";return e.find((function(e){switch(n){case"group":return e.title===t.title&&e.columns.length===t.columns.length;case"field":return e.field===t.field;case"object":return e===t}}))}},{key:"save",value:function(e){var t={};switch(e){case"columns":t=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":t=this.table.modules.filter.getFilters();break;case"sort":t=this.validateSorters(this.table.modules.sort.getSort());break;case"group":t=this.getGroupConfig();break;case"page":t=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,e,t)}},{key:"validateSorters",value:function(e){return e.forEach((function(e){e.column=e.field,delete e.field})),e}},{key:"getGroupConfig",value:function(){var e={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(e.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(e.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(e.groupHeader=this.table.options.groupHeader)),e}},{key:"getPageConfig",value:function(){var e={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(e.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(e.paginationInitialPage=this.table.modules.page.getPage())),e}},{key:"parseColumns",value:function(e){var t=this,n=[],i=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return e.forEach((function(e){var o,r={},a=e.getDefinition();e.isGroup?(r.title=a.title,r.columns=t.parseColumns(e.getColumns())):(r.field=e.getField(),!0===t.config.columns||void 0==t.config.columns?(o=Object.keys(a)).push("width"):o=t.config.columns,o.forEach((function(t){switch(t){case"width":r.width=e.getWidth();break;case"visible":r.visible=e.visible;break;default:"function"!==typeof a[t]&&-1===i.indexOf(t)&&(r[t]=a[t])}}))),n.push(r)})),n}}]),n}(y);fe.moduleName="persistence",fe.readers=de,fe.writers=he;var pe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).element=!1,i.manualBlock=!1,i.registerTableOption("printAsHtml",!1),i.registerTableOption("printFormatter",!1),i.registerTableOption("printHeader",!1),i.registerTableOption("printFooter",!1),i.registerTableOption("printStyled",!0),i.registerTableOption("printRowRange","visible"),i.registerTableOption("printConfig",{}),i.registerColumnOption("print"),i.registerColumnOption("titlePrint"),i}return v(n,[{key:"initialize",value:function(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}},{key:"replaceTable",value:function(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}},{key:"cleanup",value:function(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}},{key:"printFullscreen",value:function(e,t,n){var i,o,r=window.scrollX,a=window.scrollY,l=document.createElement("div"),s=document.createElement("div"),u=this.table.modules.export.genereateTable("undefined"!=typeof n?n:this.table.options.printConfig,"undefined"!=typeof t?t:this.table.options.printStyled,e||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(l.classList.add("tabulator-print-header"),"string"==typeof(i="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?l.innerHTML=i:l.appendChild(i),this.element.appendChild(l)),this.element.appendChild(u),this.table.options.printFooter&&(s.classList.add("tabulator-print-footer"),"string"==typeof(o="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?s.innerHTML=o:s.appendChild(o),this.element.appendChild(s)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,u),window.print(),this.cleanup(),window.scrollTo(r,a),this.manualBlock=!1}}]),n}(y);pe.moduleName="print";var me=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).data=!1,i.blocked=!1,i.origFuncs={},i.currentVersion=0,i.registerTableOption("reactiveData",!1),i}return v(n,[{key:"initialize",value:function(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}},{key:"watchData",value:function(e){var t,n=this;this.currentVersion++,t=this.currentVersion,this.unwatchData(),this.data=e,this.origFuncs.push=e.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var i=Array.from(arguments);return n.blocked||t!==n.currentVersion||i.forEach((function(e){n.table.rowManager.addRowActual(e,!1)})),n.origFuncs.push.apply(e,arguments)}}),this.origFuncs.unshift=e.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var i=Array.from(arguments);return n.blocked||t!==n.currentVersion||i.forEach((function(e){n.table.rowManager.addRowActual(e,!0)})),n.origFuncs.unshift.apply(e,arguments)}}),this.origFuncs.shift=e.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var i;return n.blocked||t!==n.currentVersion||n.data.length&&(i=n.table.rowManager.getRowFromDataObject(n.data[0]))&&i.deleteActual(),n.origFuncs.shift.call(e)}}),this.origFuncs.pop=e.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var i;return n.blocked||t!==n.currentVersion||n.data.length&&(i=n.table.rowManager.getRowFromDataObject(n.data[n.data.length-1]))&&i.deleteActual(),n.origFuncs.pop.call(e)}}),this.origFuncs.splice=e.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var i,o=Array.from(arguments),r=o[0]<0?e.length+o[0]:o[0],a=o[1],l=!!o[2]&&o.slice(2);if(!n.blocked&&t===n.currentVersion){if(l&&((i=!!e[r]&&n.table.rowManager.getRowFromDataObject(e[r]))?l.forEach((function(e){n.table.rowManager.addRowActual(e,!0,i,!0)})):(l=l.slice().reverse()).forEach((function(e){n.table.rowManager.addRowActual(e,!0,!1,!0)}))),0!==a){var s=e.slice(r,"undefined"===typeof o[1]?o[1]:r+a);s.forEach((function(e,t){var i=n.table.rowManager.getRowFromDataObject(e);i&&i.deleteActual(t!==s.length-1)}))}(l||0!==a)&&n.table.rowManager.reRenderInPosition()}return n.origFuncs.splice.apply(e,arguments)}})}},{key:"unwatchData",value:function(){if(!1!==this.data)for(var e in this.origFuncs)Object.defineProperty(this.data,e,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}},{key:"watchRow",value:function(e){var t=e.getData();for(var n in this.blocked=!0,t)this.watchKey(e,t,n);this.table.options.dataTree&&this.watchTreeChildren(e),this.blocked=!1}},{key:"watchTreeChildren",value:function(e){var t=arguments,n=e.getData()[this.table.options.dataTreeChildField],i={};function o(){this.table.modules.dataTree.initializeRow(e),this.table.modules.dataTree.layoutRow(e),this.table.rowManager.refreshActiveData("tree",!1,!0)}n&&(i.push=n.push,Object.defineProperty(n,"push",{enumerable:!1,configurable:!0,value:function(){var e=i.push.apply(n,t);return o(),e}}),i.unshift=n.unshift,Object.defineProperty(n,"unshift",{enumerable:!1,configurable:!0,value:function(){var e=i.unshift.apply(n,t);return o(),e}}),i.shift=n.shift,Object.defineProperty(n,"shift",{enumerable:!1,configurable:!0,value:function(){var e=i.shift.call(n);return o(),e}}),i.pop=n.pop,Object.defineProperty(n,"pop",{enumerable:!1,configurable:!0,value:function(){var e=i.pop.call(n);return o(),e}}),i.splice=n.splice,Object.defineProperty(n,"splice",{enumerable:!1,configurable:!0,value:function(){var e=i.splice.apply(n,t);return o(),e}}))}},{key:"watchKey",value:function(e,t,n){var i=this,o=Object.getOwnPropertyDescriptor(t,n),r=t[n],a=this.currentVersion;Object.defineProperty(t,n,{set:function(t){if(r=t,!i.blocked&&a===i.currentVersion){var l={};l[n]=t,e.updateData(l)}o.set&&o.set(t)},get:function(){return o.get&&o.get(),r}})}},{key:"unwatchRow",value:function(e){var t=e.getData();for(var n in t)Object.defineProperty(t,n,{value:t[n]})}},{key:"block",value:function(){this.blocked=!0}},{key:"unblock",value:function(){this.blocked=!1}}]),n}(y);me.moduleName="reactiveData";var ge=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).startColumn=!1,i.startX=!1,i.startWidth=!1,i.handle=null,i.prevHandle=null,i.registerColumnOption("resizable",!0),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}},{key:"layoutCellHandles",value:function(e){"row"===e.row.type&&this.initializeColumn("cell",e.column,e.element)}},{key:"layoutColumnHeader",value:function(e){this.initializeColumn("header",e,e.element)}},{key:"initializeColumn",value:function(e,t,n){var i=this,o=!1,r=t.definition.resizable;if("header"===e&&(o="textarea"==t.definition.formatter||t.definition.variableHeight,t.modules.resize={variableHeight:o}),!0===r||r==e){var a=document.createElement("div");a.className="tabulator-col-resize-handle";var l=document.createElement("div");l.className="tabulator-col-resize-handle prev",a.addEventListener("click",(function(e){e.stopPropagation()}));var s=function(e){var n=t.getLastColumn();n&&i._checkResizability(n)&&(i.startColumn=t,i._mouseDown(e,n,a))};a.addEventListener("mousedown",s),a.addEventListener("touchstart",s,{passive:!0}),a.addEventListener("dblclick",(function(e){var n=t.getLastColumn();n&&i._checkResizability(n)&&(e.stopPropagation(),n.reinitializeWidth(!0))})),l.addEventListener("click",(function(e){e.stopPropagation()}));var u=function(e){var n,o,r;(n=t.getFirstColumn())&&(r=(o=i.table.columnManager.findColumnIndex(n))>0&&i.table.columnManager.getColumnByIndex(o-1))&&i._checkResizability(r)&&(i.startColumn=t,i._mouseDown(e,r,l))};l.addEventListener("mousedown",u),l.addEventListener("touchstart",u,{passive:!0}),l.addEventListener("dblclick",(function(e){var n,o,r;(n=t.getFirstColumn())&&(r=(o=i.table.columnManager.findColumnIndex(n))>0&&i.table.columnManager.getColumnByIndex(o-1))&&i._checkResizability(r)&&(e.stopPropagation(),r.reinitializeWidth(!0))})),n.appendChild(a),n.appendChild(l)}}},{key:"_checkResizability",value:function(e){return e.definition.resizable}},{key:"_mouseDown",value:function(e,t,n){var i=this;function o(e){i.table.rtl?t.setWidth(i.startWidth-(("undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX)-i.startX)):t.setWidth(i.startWidth+(("undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX)-i.startX)),i.table.columnManager.renderer.rerenderColumns(!0),!i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights()}function r(e){i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!1),i.table.browserSlow&&t.modules.resize&&t.modules.resize.variableHeight&&t.checkCellHeights(),document.body.removeEventListener("mouseup",r),document.body.removeEventListener("mousemove",o),n.removeEventListener("touchmove",o),n.removeEventListener("touchend",r),i.table.element.classList.remove("tabulator-block-select"),i.dispatch("column-resized",t),i.table.externalEvents.dispatch("columnResized",t.getComponent())}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startColumn.modules.edit&&(i.startColumn.modules.edit.blocked=!0),i.startX="undefined"===typeof e.screenX?e.touches[0].screenX:e.screenX,i.startWidth=t.getWidth(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",o,{passive:!0}),n.addEventListener("touchend",r)}}]),n}(y);ge.moduleName="resizeColumns";var ve=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).startColumn=!1,i.startY=!1,i.startHeight=!1,i.handle=null,i.prevHandle=null,i.registerTableOption("resizableRows",!1),i}return v(n,[{key:"initialize",value:function(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}},{key:"initializeRow",value:function(e){var t=this,n=e.getElement(),i=document.createElement("div");i.className="tabulator-row-resize-handle";var o=document.createElement("div");o.className="tabulator-row-resize-handle prev",i.addEventListener("click",(function(e){e.stopPropagation()}));var r=function(n){t.startRow=e,t._mouseDown(n,e,i)};i.addEventListener("mousedown",r),i.addEventListener("touchstart",r,{passive:!0}),o.addEventListener("click",(function(e){e.stopPropagation()}));var a=function(n){var i=t.table.rowManager.prevDisplayRow(e);i&&(t.startRow=i,t._mouseDown(n,i,o))};o.addEventListener("mousedown",a),o.addEventListener("touchstart",a,{passive:!0}),n.appendChild(i),n.appendChild(o)}},{key:"_mouseDown",value:function(e,t,n){var i=this;function o(e){t.setHeight(i.startHeight+(("undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY)-i.startY))}function r(e){document.body.removeEventListener("mouseup",o),document.body.removeEventListener("mousemove",o),n.removeEventListener("touchmove",o),n.removeEventListener("touchend",r),i.table.element.classList.remove("tabulator-block-select"),this.dispatchExternal("rowResized",t.getComponent())}i.table.element.classList.add("tabulator-block-select"),e.stopPropagation(),i.startY="undefined"===typeof e.screenY?e.touches[0].screenY:e.screenY,i.startHeight=t.getHeight(),document.body.addEventListener("mousemove",o),document.body.addEventListener("mouseup",r),n.addEventListener("touchmove",o,{passive:!0}),n.addEventListener("touchend",r)}}]),n}(y);ve.moduleName="resizeRows";var be=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).binding=!1,i.observer=!1,i.containerObserver=!1,i.tableHeight=0,i.tableWidth=0,i.containerHeight=0,i.containerWidth=0,i.autoResize=!1,i.registerTableOption("autoResize",!0),i}return v(n,[{key:"initialize",value:function(){var e=this;if(this.table.options.autoResize){var t,n=this.table;this.tableHeight=n.element.clientHeight,this.tableWidth=n.element.clientWidth,n.element.parentNode&&(this.containerHeight=n.element.parentNode.clientHeight,this.containerWidth=n.element.parentNode.clientWidth),"undefined"!==typeof ResizeObserver&&"virtual"===n.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var i=Math.floor(t[0].contentRect.height),o=Math.floor(t[0].contentRect.width);e.tableHeight==i&&e.tableWidth==o||(e.tableHeight=i,e.tableWidth=o,n.element.parentNode&&(e.containerHeight=n.element.parentNode.clientHeight,e.containerWidth=n.element.parentNode.clientWidth),e.table.columnManager.renderer.rerenderColumns(!0),n.redraw())}})),this.observer.observe(n.element),t=window.getComputedStyle(n.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(t.getPropertyValue("max-height")||t.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver((function(t){if(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell){var i=Math.floor(t[0].contentRect.height),o=Math.floor(t[0].contentRect.width);e.containerHeight==i&&e.containerWidth==o||(e.containerHeight=i,e.containerWidth=o,e.tableHeight=n.element.clientHeight,e.tableWidth=n.element.clientWidth),n.columnManager.renderer.rerenderColumns(!0),n.redraw()}})),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!n.browserMobile||n.browserMobile&&!n.modules.edit.currentCell)&&(n.columnManager.renderer.rerenderColumns(!0),n.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}},{key:"tableResized",value:function(){this.table.rowManager.redraw()}},{key:"clearBindings",value:function(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}]),n}(y);be.moduleName="resizeTable";var ye=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).columns=[],i.hiddenColumns=[],i.mode="",i.index=0,i.collapseFormatter=[],i.collapseStartOpen=!0,i.collapseHandleColumn=!1,i.registerTableOption("responsiveLayout",!1),i.registerTableOption("responsiveLayoutCollapseStartOpen",!0),i.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),i.registerTableOption("responsiveLayoutCollapseFormatter",!1),i.registerColumnOption("responsive"),i}return v(n,[{key:"initialize",value:function(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}},{key:"tableRedraw",value:function(e){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(e||this.update())}},{key:"initializeResponsivity",value:function(){var e=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach((function(t,n){t.modules.responsive&&t.modules.responsive.order&&t.modules.responsive.visible&&(t.modules.responsive.index=n,e.push(t),t.visible||"collapse"!==self.mode||self.hiddenColumns.push(t))})),e=(e=e.reverse()).sort((function(e,t){return t.modules.responsive.order-e.modules.responsive.order||t.modules.responsive.index-e.modules.responsive.index})),this.columns=e,"collapse"===this.mode&&this.generateCollapsedContent();var t,n=l(this.table.columnManager.columnsByIndex);try{for(n.s();!(t=n.n()).done;){var i=t.value;if("responsiveCollapse"==i.definition.formatter){this.collapseHandleColumn=i;break}}}catch(o){n.e(o)}finally{n.f()}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}},{key:"initializeColumn",value:function(e){var t=e.getDefinition();e.modules.responsive={order:"undefined"===typeof t.responsive?1:t.responsive,visible:!1!==t.visible}}},{key:"initializeRow",value:function(e){var t;"calc"!==e.type&&((t=document.createElement("div")).classList.add("tabulator-responsive-collapse"),e.modules.responsiveLayout={element:t,open:this.collapseStartOpen},this.collapseStartOpen||(t.style.display="none"))}},{key:"layoutRow",value:function(e){var t=e.getElement();e.modules.responsiveLayout&&(t.appendChild(e.modules.responsiveLayout.element),this.generateCollapsedRowContent(e))}},{key:"updateColumnVisibility",value:function(e,t){!t&&e.modules.responsive&&(e.modules.responsive.visible=e.visible,this.initialize())}},{key:"hideColumn",value:function(e){var t=this.hiddenColumns.length;e.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(e),this.generateCollapsedContent(),this.collapseHandleColumn&&!t&&this.collapseHandleColumn.show())}},{key:"showColumn",value:function(e){var t;e.show(!1,!0),e.setWidth(e.getWidth()),"collapse"===this.mode&&((t=this.hiddenColumns.indexOf(e))>-1&&this.hiddenColumns.splice(t,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}},{key:"update",value:function(){for(var e=this,t=!0;t;){var n="fitColumns"==e.table.modules.layout.getMode()?e.table.columnManager.getFlexBaseWidth():e.table.columnManager.getWidth(),i=(e.table.options.headerVisible?e.table.columnManager.element.clientWidth:e.table.element.clientWidth)-n;if(i<0){var o=e.columns[e.index];o?(e.hideColumn(o),e.index++):t=!1}else{var r=e.columns[e.index-1];r&&i>0&&i>=r.getWidth()?(e.showColumn(r),e.index--):t=!1}e.table.rowManager.activeRowsCount||e.table.rowManager.renderEmptyScroll()}}},{key:"generateCollapsedContent",value:function(){var e=this;this.table.rowManager.getDisplayRows().forEach((function(t){e.generateCollapsedRowContent(t)}))}},{key:"generateCollapsedRowContent",value:function(e){var t,n;if(e.modules.responsiveLayout){for(t=e.modules.responsiveLayout.element;t.firstChild;)t.removeChild(t.firstChild);(n=this.collapseFormatter(this.generateCollapsedRowData(e)))&&t.appendChild(n)}}},{key:"generateCollapsedRowData",value:function(e){var t,n=this,i=e.getData(),o=[];return this.hiddenColumns.forEach((function(r){var a=r.getFieldValue(i);if(r.definition.title&&r.field)if(r.modules.format&&n.table.options.responsiveLayoutCollapseUseFormatters){t={value:!1,data:{},getValue:function(){return a},getData:function(){return i},getElement:function(){return document.createElement("div")},getRow:function(){return e.getComponent()},getColumn:function(){return r.getComponent()}},o.push({field:r.field,title:r.definition.title,value:r.modules.format.formatter.call(n.table.modules.format,t,r.modules.format.params,(function(e){e()}))})}else o.push({field:r.field,title:r.definition.title,value:a})})),o}},{key:"formatCollapsedData",value:function(e){var t=document.createElement("table");return e.forEach((function(e){var n,i=document.createElement("tr"),o=document.createElement("td"),r=document.createElement("td"),a=document.createElement("strong");o.appendChild(a),this.langBind("columns|"+e.field,(function(t){a.innerText=t||e.title})),e.value instanceof Node?((n=document.createElement("div")).appendChild(e.value),r.appendChild(n)):r.innerHTML=e.value,i.appendChild(o),i.appendChild(r),t.appendChild(i)}),this),Object.keys(e).length?t:""}}]),n}(y);ye.moduleName="responsiveLayout";var we=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).selecting=!1,i.lastClickedRow=!1,i.selectPrev=[],i.selectedRows=[],i.headerCheckboxElement=null,i.registerTableOption("selectable","highlight"),i.registerTableOption("selectableRangeMode","drag"),i.registerTableOption("selectableRollingSelection",!0),i.registerTableOption("selectablePersistence",!0),i.registerTableOption("selectableCheck",(function(e,t){return!0})),i.registerTableFunction("selectRow",i.selectRows.bind(s(i))),i.registerTableFunction("deselectRow",i.deselectRows.bind(s(i))),i.registerTableFunction("toggleSelectRow",i.toggleRow.bind(s(i))),i.registerTableFunction("getSelectedRows",i.getSelectedRows.bind(s(i))),i.registerTableFunction("getSelectedData",i.getSelectedData.bind(s(i))),i.registerComponentFunction("row","select",i.selectRows.bind(s(i))),i.registerComponentFunction("row","deselect",i.deselectRows.bind(s(i))),i.registerComponentFunction("row","toggleSelect",i.toggleRow.bind(s(i))),i.registerComponentFunction("row","isSelected",i.isRowSelected.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.clearSelectionData.bind(this)),this.table.options.selectable&&this.table.options.selectablePersistence&&this.subscribe("data-refeshing",this.deselectRows.bind(this)))}},{key:"rowRetrieve",value:function(e,t){return"selected"===e?this.selectedRows:t}},{key:"rowDeleted",value:function(e){this._deselectRow(e,!0)}},{key:"clearSelectionData",value:function(e){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==e&&this._rowSelectionChanged()}},{key:"initializeRow",value:function(e){var t=this,n=e.getElement(),i=function e(){setTimeout((function(){t.selecting=!1}),50),document.body.removeEventListener("mouseup",e)};e.modules.select={selected:!1},t.table.options.selectableCheck.call(this.table,e.getComponent())?(n.classList.add("tabulator-selectable"),n.classList.remove("tabulator-unselectable"),t.table.options.selectable&&"highlight"!=t.table.options.selectable&&("click"===t.table.options.selectableRangeMode?n.addEventListener("click",(function(n){if(n.shiftKey){t.table._clearSelection(),t.lastClickedRow=t.lastClickedRow||e;var i=t.table.rowManager.getDisplayRowIndex(t.lastClickedRow),o=t.table.rowManager.getDisplayRowIndex(e),r=i<=o?i:o,a=i>=o?i:o,l=t.table.rowManager.getDisplayRows().slice(0).splice(r,a-r+1);n.ctrlKey||n.metaKey?(l.forEach((function(n){n!==t.lastClickedRow&&(!0===t.table.options.selectable||t.isRowSelected(e)||t.selectedRows.length<t.table.options.selectable)&&t.toggleRow(n)})),t.lastClickedRow=e):(t.deselectRows(void 0,!0),!0!==t.table.options.selectable&&l.length>t.table.options.selectable&&(l=l.slice(0,t.table.options.selectable)),t.selectRows(l)),t.table._clearSelection()}else n.ctrlKey||n.metaKey?(t.toggleRow(e),t.lastClickedRow=e):(t.deselectRows(void 0,!0),t.selectRows(e),t.lastClickedRow=e)})):(n.addEventListener("click",(function(n){t.table.modExists("edit")&&t.table.modules.edit.getCurrentCell()||t.table._clearSelection(),t.selecting||t.toggleRow(e)})),n.addEventListener("mousedown",(function(n){if(n.shiftKey)return t.table._clearSelection(),t.selecting=!0,t.selectPrev=[],document.body.addEventListener("mouseup",i),document.body.addEventListener("keyup",i),t.toggleRow(e),!1})),n.addEventListener("mouseenter",(function(n){t.selecting&&(t.table._clearSelection(),t.toggleRow(e),t.selectPrev[1]==e&&t.toggleRow(t.selectPrev[0]))})),n.addEventListener("mouseout",(function(n){t.selecting&&(t.table._clearSelection(),t.selectPrev.unshift(e))}))))):(n.classList.add("tabulator-unselectable"),n.classList.remove("tabulator-selectable"))}},{key:"toggleRow",value:function(e){this.table.options.selectableCheck.call(this.table,e.getComponent())&&(e.modules.select&&e.modules.select.selected?this._deselectRow(e):this._selectRow(e))}},{key:"selectRows",value:function(e){var t,n=this;switch(typeof e){case"undefined":this.table.rowManager.rows.forEach((function(e){n._selectRow(e,!0,!0)})),this._rowSelectionChanged();break;case"string":(t=this.table.rowManager.findRow(e))?this._selectRow(t,!0,!0):this.table.rowManager.getRows(e).forEach((function(e){n._selectRow(e,!0,!0)})),this._rowSelectionChanged();break;default:Array.isArray(e)?(e.forEach((function(e){n._selectRow(e,!0,!0)})),this._rowSelectionChanged()):this._selectRow(e,!1,!0)}}},{key:"_selectRow",value:function(e,t,n){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!n&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var i=this.table.rowManager.findRow(e);i?-1==this.selectedRows.indexOf(i)&&(i.getElement().classList.add("tabulator-selected"),i.modules.select||(i.modules.select={}),i.modules.select.selected=!0,i.modules.select.checkboxEl&&(i.modules.select.checkboxEl.checked=!0),this.selectedRows.push(i),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(i,!0),t||this.dispatchExternal("rowSelected",i.getComponent()),this._rowSelectionChanged(t)):t||console.warn("Selection Error - No such row found, ignoring selection:"+e)}},{key:"isRowSelected",value:function(e){return-1!==this.selectedRows.indexOf(e)}},{key:"deselectRows",value:function(e,t){var n,i=this;if("undefined"==typeof e){n=i.selectedRows.length;for(var o=0;o<n;o++)i._deselectRow(i.selectedRows[0],!0);i._rowSelectionChanged(t)}else Array.isArray(e)?(e.forEach((function(e){i._deselectRow(e,!0)})),i._rowSelectionChanged(t)):i._deselectRow(e,t)}},{key:"_deselectRow",value:function(e,t){var n,i=this,o=i.table.rowManager.findRow(e);o?(n=i.selectedRows.findIndex((function(e){return e==o})))>-1&&(o.getElement().classList.remove("tabulator-selected"),o.modules.select||(o.modules.select={}),o.modules.select.selected=!1,o.modules.select.checkboxEl&&(o.modules.select.checkboxEl.checked=!1),i.selectedRows.splice(n,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(o,!1),t||this.dispatchExternal("rowDeselected",o.getComponent()),i._rowSelectionChanged(t)):t||console.warn("Deselection Error - No such row found, ignoring selection:"+e)}},{key:"getSelectedData",value:function(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getData())})),e}},{key:"getSelectedRows",value:function(){var e=[];return this.selectedRows.forEach((function(t){e.push(t.getComponent())})),e}},{key:"_rowSelectionChanged",value:function(e){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),e||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}},{key:"registerRowSelectCheckbox",value:function(e,t){e._row.modules.select||(e._row.modules.select={}),e._row.modules.select.checkboxEl=t}},{key:"registerHeaderSelectCheckbox",value:function(e){this.headerCheckboxElement=e}},{key:"childRowSelection",value:function(e,t){var n=this.table.modules.dataTree.getChildren(e,!0);if(t){var i,o=l(n);try{for(o.s();!(i=o.n()).done;){var r=i.value;this._selectRow(r,!0)}}catch(c){o.e(c)}finally{o.f()}}else{var a,s=l(n);try{for(s.s();!(a=s.n()).done;){var u=a.value;this._deselectRow(u,!0)}}catch(c){s.e(c)}finally{s.f()}}}}]),n}(y);function ke(e,t,n,i,o,r,a){var l=window.DateTime||luxon.DateTime,s=a.format||"dd/MM/yyyy HH:mm:ss",u=a.alignEmptyValues,c=0;if("undefined"!=typeof l){if(e=l.fromFormat(e,s),t=l.fromFormat(t,s),e.isValid){if(t.isValid)return e-t;c=1}else c=t.isValid?-1:0;return("top"===u&&"desc"===r||"bottom"===u&&"asc"===r)&&(c*=-1),c}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}we.moduleName="selectRow";var Ce={number:function(e,t,n,i,o,r,a){var l=a.alignEmptyValues,s=a.decimalSeparator,u=a.thousandSeparator,c=0;if(e=String(e),t=String(t),u&&(e=e.split(u).join(""),t=t.split(u).join("")),s&&(e=e.split(s).join("."),t=t.split(s).join(".")),e=parseFloat(e),t=parseFloat(t),isNaN(e))c=isNaN(t)?0:-1;else{if(!isNaN(t))return e-t;c=1}return("top"===l&&"desc"===r||"bottom"===l&&"asc"===r)&&(c*=-1),c},string:function(e,t,n,i,o,r,a){var l,s=a.alignEmptyValues,u=0;if(e){if(t){switch(typeof a.locale){case"boolean":a.locale&&(l=this.langLocale());break;case"string":l=a.locale}return String(e).toLowerCase().localeCompare(String(t).toLowerCase(),l)}u=1}else u=t?-1:0;return("top"===s&&"desc"===r||"bottom"===s&&"asc"===r)&&(u*=-1),u},date:function(e,t,n,i,o,r,a){return a.format||(a.format="dd/MM/yyyy"),ke.call(this,e,t,n,i,o,r,a)},time:function(e,t,n,i,o,r,a){return a.format||(a.format="HH:mm"),ke.call(this,e,t,n,i,o,r,a)},datetime:ke,boolean:function(e,t,n,i,o,r,a){return(!0===e||"true"===e||"True"===e||1===e?1:0)-(!0===t||"true"===t||"True"===t||1===t?1:0)},array:function(e,t,n,i,o,r,a){var l=a.type||"length",s=a.alignEmptyValues,u=0;function c(e){switch(l){case"length":return e.length;case"sum":return e.reduce((function(e,t){return e+t}));case"max":return Math.max.apply(null,e);case"min":return Math.min.apply(null,e);case"avg":return e.reduce((function(e,t){return e+t}))/e.length}}if(Array.isArray(e)){if(Array.isArray(t))return(e?c(e):0)-(t?c(t):0);s=1}else s=Array.isArray(t)?-1:0;return("top"===s&&"desc"===r||"bottom"===s&&"asc"===r)&&(u*=-1),u},exists:function(e,t,n,i,o,r,a){return("undefined"==typeof e?0:1)-("undefined"==typeof t?0:1)},alphanum:function(e,t,n,i,o,r,a){var l,s,u,c,d,h=0,f=/(\d+)|(\D+)/g,p=/\d/,m=a.alignEmptyValues,g=0;if(e||0===e){if(t||0===t){if(isFinite(e)&&isFinite(t))return e-t;if((l=String(e).toLowerCase())===(s=String(t).toLowerCase()))return 0;if(!p.test(l)||!p.test(s))return l>s?1:-1;for(l=l.match(f),s=s.match(f),d=l.length>s.length?s.length:l.length;h<d;)if((u=l[h])!==(c=s[h++]))return isFinite(u)&&isFinite(c)?("0"===u.charAt(0)&&(u="."+u),"0"===c.charAt(0)&&(c="."+c),u-c):u>c?1:-1;return l.length>s.length}g=1}else g=t||0===t?-1:0;return("top"===m&&"desc"===r||"bottom"===m&&"asc"===r)&&(g*=-1),g}},Ee=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).sortList=[],i.changed=!1,i.registerTableOption("sortMode","local"),i.registerTableOption("initialSort",!1),i.registerTableOption("columnHeaderSortMulti",!0),i.registerTableOption("sortOrderReverse",!1),i.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),i.registerColumnOption("sorter"),i.registerColumnOption("sorterParams"),i.registerColumnOption("headerSort",!0),i.registerColumnOption("headerSortStartingDir"),i.registerColumnOption("headerSortTristate"),i}return v(n,[{key:"initialize",value:function(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}},{key:"tableBuilt",value:function(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}},{key:"remoteSortParams",value:function(e,t,n,i){var o=this.getSort();return o.forEach((function(e){delete e.column})),i.sort=o,i}},{key:"userSetSort",value:function(e,t){this.setSort(e,t),this.refreshSort()}},{key:"clearSort",value:function(){this.clear(),this.refreshSort()}},{key:"initializeColumn",value:function(e){var t,i,o=this,r=!1;switch(typeof e.definition.sorter){case"string":n.sorters[e.definition.sorter]?r=n.sorters[e.definition.sorter]:console.warn("Sort Error - No such sorter found: ",e.definition.sorter);break;case"function":r=e.definition.sorter}e.modules.sort={sorter:r,dir:"none",params:e.definition.sorterParams||{},startingDir:e.definition.headerSortStartingDir||"asc",tristate:e.definition.headerSortTristate},!1!==e.definition.headerSort&&((t=e.getElement()).classList.add("tabulator-sortable"),(i=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?i.appendChild(this.table.options.headerSortElement):i.innerHTML=this.table.options.headerSortElement,e.titleHolderElement.appendChild(i),e.modules.sort.element=i,t.addEventListener("click",(function(t){var n="",i=[],r=!1;if(e.modules.sort){if(e.modules.sort.tristate)n="none"==e.modules.sort.dir?e.modules.sort.startingDir:e.modules.sort.dir==e.modules.sort.startingDir?"asc"==e.modules.sort.dir?"desc":"asc":"none";else switch(e.modules.sort.dir){case"asc":n="desc";break;case"desc":n="asc";break;default:n=e.modules.sort.startingDir}o.table.options.columnHeaderSortMulti&&(t.shiftKey||t.ctrlKey)?(r=(i=o.getSort()).findIndex((function(t){return t.field===e.getField()})),r>-1?(i[r].dir=n,r!=i.length-1&&(r=i.splice(r,1)[0],"none"!=n&&i.push(r))):"none"!=n&&i.push({column:e,dir:n}),o.setSort(i)):"none"==n?o.clear():o.setSort(e,n),o.refreshSort()}})))}},{key:"refreshSort",value:function(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData()}},{key:"hasChanged",value:function(){var e=this.changed;return this.changed=!1,e}},{key:"getSort",value:function(){var e=[];return this.sortList.forEach((function(t){t.column&&e.push({column:t.column.getComponent(),field:t.column.getField(),dir:t.dir})})),e}},{key:"setSort",value:function(e,t){var n=this,i=[];Array.isArray(e)||(e=[{column:e,dir:t}]),e.forEach((function(e){var t;(t=n.table.columnManager.findColumn(e.column))?(e.column=t,i.push(e),n.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",e.column)})),n.sortList=i,this.dispatch("sort-changed")}},{key:"clear",value:function(){this.setSort([])}},{key:"findSorter",value:function(e){var t,i=this.table.rowManager.activeRows[0],o="string";if(i&&(i=i.getData(),e.getField()))switch(typeof(t=e.getFieldValue(i))){case"undefined":o="string";break;case"boolean":o="boolean";break;default:isNaN(t)||""===t?t.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(o="alphanum"):o="number"}return n.sorters[o]}},{key:"sort",value:function(e){var t=this,n=this.table.options.sortOrderReverse?t.sortList.slice().reverse():t.sortList,i=[],o=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",t.getSort()),t.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(n.forEach((function(e,n){var o=e.column.modules.sort;e.column&&o&&(o.sorter||(o.sorter=t.findSorter(e.column)),e.params="function"===typeof o.params?o.params(e.column.getComponent(),e.dir):o.params,i.push(e)),t.setColumnHeader(e.column,e.dir)})),i.length&&t._sortItems(e,i)):n.forEach((function(e,n){t.setColumnHeader(e.column,e.dir)})),this.subscribedExternal("dataSorted")&&(e.forEach((function(e){o.push(e.getComponent())})),this.dispatchExternal("dataSorted",t.getSort(),o)),e}},{key:"clearColumnHeaders",value:function(){this.table.columnManager.getRealColumns().forEach((function(e){e.modules.sort&&(e.modules.sort.dir="none",e.getElement().setAttribute("aria-sort","none"))}))}},{key:"setColumnHeader",value:function(e,t){e.modules.sort.dir=t,e.getElement().setAttribute("aria-sort",t)}},{key:"_sortItems",value:function(e,t){var n=this,i=t.length-1;e.sort((function(e,o){for(var r,a=i;a>=0;a--){var l=t[a];if(0!==(r=n._sortRow(e,o,l.column,l.dir,l.params)))break}return r}))}},{key:"_sortRow",value:function(e,t,n,i,o){var r,a,l="asc"==i?e:t,s="asc"==i?t:e;return e="undefined"!==typeof(e=n.getFieldValue(l.getData()))?e:"",t="undefined"!==typeof(t=n.getFieldValue(s.getData()))?t:"",r=l.getComponent(),a=s.getComponent(),n.modules.sort.sorter.call(this,e,t,r,a,n.getComponent(),i,o)}}]),n}(y);Ee.moduleName="sort",Ee.sorters=Ce;var xe={integer:function(e,t,n){return""===t||null===t||"undefined"===typeof t||"number"===typeof(t=Number(t))&&isFinite(t)&&Math.floor(t)===t},float:function(e,t,n){return""===t||null===t||"undefined"===typeof t||"number"===typeof(t=Number(t))&&isFinite(t)&&t%1!==0},numeric:function(e,t,n){return""===t||null===t||"undefined"===typeof t||!isNaN(t)},string:function(e,t,n){return""===t||null===t||"undefined"===typeof t||isNaN(t)},max:function(e,t,n){return""===t||null===t||"undefined"===typeof t||parseFloat(t)<=n},min:function(e,t,n){return""===t||null===t||"undefined"===typeof t||parseFloat(t)>=n},starts:function(e,t,n){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().startsWith(String(n).toLowerCase())},ends:function(e,t,n){return""===t||null===t||"undefined"===typeof t||String(t).toLowerCase().endsWith(String(n).toLowerCase())},minLength:function(e,t,n){return""===t||null===t||"undefined"===typeof t||String(t).length>=n},maxLength:function(e,t,n){return""===t||null===t||"undefined"===typeof t||String(t).length<=n},in:function(e,t,n){return""===t||null===t||"undefined"===typeof t||("string"==typeof n&&(n=n.split("|")),""===t||n.indexOf(t)>-1)},regex:function(e,t,n){return""===t||null===t||"undefined"===typeof t||new RegExp(n).test(t)},unique:function(e,t,n){if(""===t||null===t||"undefined"===typeof t)return!0;var i=!0,o=e.getData(),r=e.getColumn()._getSelf();return this.table.rowManager.rows.forEach((function(e){var n=e.getData();n!==o&&t==r.getFieldValue(n)&&(i=!1)})),i},required:function(e,t,n){return""!==t&&null!==t&&"undefined"!==typeof t}},Re=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).invalidCells=[],i.registerTableOption("validationMode","blocking"),i.registerColumnOption("validator"),i.registerTableFunction("getInvalidCells",i.getInvalidCells.bind(s(i))),i.registerTableFunction("clearCellValidation",i.userClearCellValidation.bind(s(i))),i.registerTableFunction("validate",i.userValidate.bind(s(i))),i.registerComponentFunction("cell","isValid",i.cellIsValid.bind(s(i))),i.registerComponentFunction("cell","clearValidation",i.clearValidation.bind(s(i))),i.registerComponentFunction("cell","validate",i.cellValidate.bind(s(i))),i.registerComponentFunction("column","validate",i.columnValidate.bind(s(i))),i.registerComponentFunction("row","validate",i.rowValidate.bind(s(i))),i}return v(n,[{key:"initialize",value:function(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}},{key:"cellIsValid",value:function(e){return!e.modules.validate||!e.modules.validate.invalid}},{key:"cellValidate",value:function(e){return this.validate(e.column.modules.validate,e,e.getValue())}},{key:"columnValidate",value:function(e){var t=[];return e.cells.forEach((function(e){this.cellValidate(e)||t.push(e.getComponent())})),!t.length||t}},{key:"rowValidate",value:function(e){var t=[];return e.cells.forEach((function(e){this.cellValidate(e)||t.push(e.getComponent())})),!t.length||t}},{key:"userClearCellValidation",value:function(e){var t=this;e||(e=this.getInvalidCells()),Array.isArray(e)||(e=[e]),e.forEach((function(e){t.clearValidation(e._getSelf())}))}},{key:"userValidate",value:function(e){var t=[];return this.table.rowManager.rows.forEach((function(e){var n=e.validate();!0!==n&&(t=t.concat(n))})),!t.length||t}},{key:"initializeColumnCheck",value:function(e){"undefined"!==typeof e.definition.validator&&this.initializeColumn(e)}},{key:"initializeColumn",value:function(e){var t,n=this,i=[];e.definition.validator&&(Array.isArray(e.definition.validator)?e.definition.validator.forEach((function(e){(t=n._extractValidator(e))&&i.push(t)})):(t=this._extractValidator(e.definition.validator))&&i.push(t),e.modules.validate=!!i.length&&i)}},{key:"_extractValidator",value:function(e){var t,n,i;switch(typeof e){case"string":return(i=e.indexOf(":"))>-1?(t=e.substring(0,i),n=e.substring(i+1)):t=e,this._buildValidator(t,n);case"function":return this._buildValidator(e);case"object":return this._buildValidator(e.type,e.parameters)}}},{key:"_buildValidator",value:function(e,t){var i="function"==typeof e?e:n.validators[e];return i?{type:"function"==typeof e?"function":e,func:i,params:t}:(console.warn("Validator Setup Error - No matching validator found:",e),!1)}},{key:"validate",value:function(e,t,n){var i=this,o=[],r=this.invalidCells.indexOf(t);return e&&e.forEach((function(e){e.func.call(i,t.getComponent(),n,e.params)||o.push({type:e.type,parameters:e.params})})),o=!o.length||o,t.modules.validate||(t.modules.validate={}),!0===o?(t.modules.validate.invalid=!1,t.getElement().classList.remove("tabulator-validation-fail"),r>-1&&this.invalidCells.splice(r,1)):(t.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&t.getElement().classList.add("tabulator-validation-fail"),-1==r&&this.invalidCells.push(t)),o}},{key:"getInvalidCells",value:function(){var e=[];return this.invalidCells.forEach((function(t){e.push(t.getComponent())})),e}},{key:"clearValidation",value:function(e){var t;e.modules.validate&&e.modules.validate.invalid&&(e.getElement().classList.remove("tabulator-validation-fail"),e.modules.validate.invalid=!1,(t=this.invalidCells.indexOf(e))>-1&&this.invalidCells.splice(t,1))}}]),n}(y);Re.moduleName="validate",Re.validators=xe;var Te=Object.freeze({__proto__:null,AccessorModule:k,AjaxModule:T,ClipboardModule:M,ColumnCalcsModule:A,DataTreeModule:N,DownloadModule:I,EditModule:j,ExportModule:q,FilterModule:$,FormatModule:Q,FrozenColumnsModule:Y,FrozenRowsModule:J,GroupRowsModule:te,HistoryModule:ne,HtmlTableImportModule:ie,InteractionModule:oe,KeybindingsModule:re,MenuModule:ae,MoveColumnsModule:le,MoveRowsModule:se,MutatorModule:ue,PageModule:ce,PersistenceModule:fe,PrintModule:pe,ReactiveDataModule:me,ResizeColumnsModule:ge,ResizeRowsModule:ve,ResizeTableModule:be,ResponsiveLayoutModule:ye,SelectRowModule:we,SortModule:Ee,ValidateModule:Re}),Me=function(){function e(t,n){m(this,e),this.table=t,this.msgType=n,this.registeredDefaults={}}return v(e,[{key:"register",value:function(e,t){this.registeredDefaults[e]=t}},{key:"generate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},this.registeredDefaults);if(Object.assign(n,e),!1!==t.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var i in t)n.hasOwnProperty(i)||console.warn("Invalid "+this.msgType+" option:",i);for(var i in n)i in t?n[i]=t[i]:Array.isArray(n[i])?n[i]=Object.assign([],n[i]):"object"===typeof n[i]&&null!==n[i]?n[i]=Object.assign({},n[i]):"undefined"===typeof n[i]&&delete n[i];return n}}]),e}(),Se=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).elementVertical=e.rowManager.element,i.elementHorizontal=e.columnManager.element,i.tableElement=e.rowManager.tableElement,i.verticalFillMode="fit",i}return v(n,[{key:"initialize",value:function(){}},{key:"clearRows",value:function(){}},{key:"clearColumns",value:function(){}},{key:"reinitializeColumnWidths",value:function(e){}},{key:"renderRows",value:function(){}},{key:"renderColumns",value:function(){}},{key:"rerenderRows",value:function(e){e&&e()}},{key:"rerenderColumns",value:function(e,t){}},{key:"renderRowCells",value:function(e){}},{key:"rerenderRowCells",value:function(e,t){}},{key:"scrollColumns",value:function(e,t){}},{key:"scrollRows",value:function(e,t){}},{key:"resize",value:function(){}},{key:"scrollToRow",value:function(e){}},{key:"scrollToRowNearestTop",value:function(e){}},{key:"visibleRows",value:function(e){return[]}},{key:"rows",value:function(){return this.table.rowManager.getDisplayRows()}},{key:"styleRow",value:function(e,t){var n=e.getElement();t%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}},{key:"clear",value:function(){this.clearRows(),this.clearColumns()}},{key:"render",value:function(){this.renderRows(),this.renderColumns()}},{key:"rerender",value:function(e){this.rerenderRows(),this.rerenderColumns()}},{key:"scrollToRowPosition",value:function(e,t,n){var i=this,o=this.rows().indexOf(e),r=e.getElement(),a=0;return new Promise((function(l,s){if(o>-1){if("undefined"===typeof n&&(n=i.table.options.scrollToRowIfVisible),!n&&w.elVisible(r)&&(a=w.elOffset(r).top-w.elOffset(i.elementVertical).top)>0&&a<i.elementVertical.clientHeight-r.offsetHeight)return!1;switch("undefined"===typeof t&&(t=i.table.options.scrollToRowPosition),"nearest"===t&&(t=i.scrollToRowNearestTop(e)?"top":"bottom"),i.scrollToRow(e),t){case"middle":case"center":i.elementVertical.scrollHeight-i.elementVertical.scrollTop==i.elementVertical.clientHeight?i.elementVertical.scrollTop=i.elementVertical.scrollTop+(r.offsetTop-i.elementVertical.scrollTop)-(i.elementVertical.scrollHeight-r.offsetTop)/2:i.elementVertical.scrollTop=i.elementVertical.scrollTop-i.elementVertical.clientHeight/2;break;case"bottom":i.elementVertical.scrollHeight-i.elementVertical.scrollTop==i.elementVertical.clientHeight?i.elementVertical.scrollTop=i.elementVertical.scrollTop-(i.elementVertical.scrollHeight-r.offsetTop)+r.offsetHeight:i.elementVertical.scrollTop=i.elementVertical.scrollTop-i.elementVertical.clientHeight+r.offsetHeight}l()}else console.warn("Scroll Error - Row not visible"),s("Scroll Error - Row not visible")}))}}]),n}(b),Le=function(e){c(n,e);var t=p(n);function n(e){return m(this,n),t.call(this,e)}return v(n,[{key:"renderRowCells",value:function(e){e.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()}))}},{key:"reinitializeColumnWidths",value:function(e){e.forEach((function(e){e.reinitializeWidth()}))}}]),n}(Se),De=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).leftCol=0,i.rightCol=0,i.scrollLeft=0,i.vDomScrollPosLeft=0,i.vDomScrollPosRight=0,i.vDomPadLeft=0,i.vDomPadRight=0,i.fitDataColAvg=0,i.window=200,i.initialized=!1,i.columns=[],i}return v(n,[{key:"initialize",value:function(){this.compatabilityCheck()}},{key:"compatabilityCheck",value:function(){var e=this.options("columns"),t=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),t=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),t=!1),this.options("rtl")&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),t=!1),e&&e.find((function(e){return e.frozen}))&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),t=!1),t}},{key:"renderColumns",value:function(e,t){this.dataChange()}},{key:"scrollColumns",value:function(e,t){this.scrollLeft!=e&&(this.scrollLeft=e,this.scroll(e-(this.vDomScrollPosLeft+this.window)))}},{key:"rerenderColumns",value:function(e,t){var n=this,i={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!e||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var o=0;this.table.columnManager.columnsByIndex.forEach((function(e){var t={};if(e.visible){var i=e.getWidth();t.leftPos=o,t.rightPos=o+i,t.width=i,"fitData"===n.options("layout")&&(t.fitDataCheck=!0),o+i>n.vDomScrollPosLeft&&o<n.vDomScrollPosRight?(-1==n.leftCol&&(n.leftCol=n.columns.length,n.vDomPadLeft=o),n.rightCol=n.columns.length):-1!==n.leftCol&&(n.vDomPadRight+=i),n.columns.push(e),e.modules.vdomHoz=t,o+=i}})),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,t||e&&!this.reinitChanged(i)||this.renitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}},{key:"renderRowCells",value:function(e){this.initialized?this.initializeRow(e):e.cells.forEach((function(t){e.element.appendChild(t.getElement()),t.cellRendered()}))}},{key:"rerenderRowCells",value:function(e,t){this.reinitializeRow(e,t)}},{key:"reinitializeColumnWidths",value:function(e){for(var t=this.leftCol;t<=this.rightCol;t++)this.columns[t].reinitializeWidth()}},{key:"deinitialize",value:function(){this.initialized=!1}},{key:"clear",value:function(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}},{key:"dataChange",value:function(){var e,t,n=this,i=!1,o=0,r=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach((function(e){!e.definition.width&&e.visible&&(i=!0)})),i&&i&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,t=this.chain("rows-sample",[1],[],(function(){return n.table.rowManager.getDisplayRows()[0]}))[0])){e=t.getElement(),t.generateCells(),this.tableElement.appendChild(e);for(r=0;r<t.cells.length;r++){var a=t.cells[r];if(e.appendChild(a.getElement()),a.column.reinitializeWidth(),(o+=a.column.getWidth())>this.vDomScrollPosRight)break}for(e.parentNode.removeChild(e),this.fitDataColAvg=Math.floor(o/(r+1));r<this.table.columnManager.columnsByIndex.length;r++)this.table.columnManager.columnsByIndex[r].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}},{key:"reinitChanged",value:function(e){var t=this,n=!0;return e.cols.length!==this.columns.length||e.leftCol!==this.leftCol||e.rightCol!==this.rightCol||(e.cols.forEach((function(e,i){e!==t.columns[i]&&(n=!1)})),!n)}},{key:"renitializeRows",value:function(){var e=this;this.table.rowManager.getVisibleRows().forEach((function(t){e.reinitializeRow(t,!0)}))}},{key:"scroll",value:function(e){this.vDomScrollPosLeft+=e,this.vDomScrollPosRight+=e,e>.8*this.elementVertical.clientWidth?this.rerenderColumns():e>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}},{key:"colPositionAdjust",value:function(e,t,n){for(var i=e;i<t;i++){var o=this.columns[i];o.modules.vdomHoz.leftPos+=n,o.modules.vdomHoz.rightPos+=n}}},{key:"addColRight",value:function(){var e=this.columns[this.rightCol+1];e&&e.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var n=t.getCell(e);t.getElement().appendChild(n.getElement()),n.cellRendered()}})),this.fitDataColActualWidthCheck(e),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=e.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}},{key:"addColLeft",value:function(){var e=this.columns[this.leftCol-1];e&&e.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var n=t.getCell(e);t.getElement().prepend(n.getElement()),n.cellRendered()}})),this.fitDataColActualWidthCheck(e),this.leftCol?this.vDomPadLeft-=e.getWidth():this.vDomPadLeft=0,this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())}},{key:"removeColRight",value:function(e){var t;(e=this.columns[this.rightCol])&&e.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(t=this.table.rowManager.getVisibleRows(),e.modules.vdomHoz.visible=!1,t.forEach((function(t){if("group"!==t.type){var n=t.getCell(e);t.getElement().removeChild(n.getElement())}})),this.vDomPadRight+=e.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}},{key:"removeColLeft",value:function(){var e=this.columns[this.leftCol];e&&e.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach((function(t){if("group"!==t.type){var n=t.getCell(e);n.parentNode&&t.getElement().removeChild(n.getElement())}})),this.vDomPadLeft+=e.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}},{key:"fitDataColActualWidthCheck",value:function(e){var t,n;e.modules.vdomHoz.fitDataCheck&&(e.reinitializeWidth(),(n=(t=e.getWidth())-e.modules.vdomHoz.width)&&(e.modules.vdomHoz.rightPos+=n,e.modules.vdomHoz.width=t,this.colPositionAdjust(this.rightCol+2,this.columns.length,n)),e.modules.vdomHoz.fitDataCheck=!1)}},{key:"initializeRow",value:function(e){if("group"!==e.type){e.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(var t=this.leftCol;t<=this.rightCol;t++){var n=this.columns[t];if(n&&n.visible){var i=e.getCell(n);e.getElement().appendChild(i.getElement()),i.cellRendered()}}}}},{key:"reinitializeRow",value:function(e,t){if("group"!==e.type&&(t||!e.modules.vdomHoz||e.modules.vdomHoz.leftCol!==this.leftCol||e.modules.vdomHoz.rightCol!==this.rightCol)){for(var n=e.getElement();n.firstChild;)n.removeChild(n.firstChild);this.initializeRow(e)}}}]),n}(Se),Pe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).blockHozScrollEvent=!1,i.headersElement=null,i.element=null,i.columns=[],i.columnsByIndex=[],i.columnsByField={},i.scrollLeft=0,i.optionsList=new Me(i.table,"column definition"),i.renderer=null,i}return v(n,[{key:"initialize",value:function(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}},{key:"initializeRenderer",value:function(){var e,t={virtual:De,basic:Le};(e="string"===typeof this.table.options.renderHorizontal?t[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}},{key:"createHeadersElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-headers"),e.setAttribute("role","row"),e}},{key:"createHeaderElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-header"),e.setAttribute("role","rowgroup"),this.table.options.headerVisible||e.classList.add("tabulator-header-hidden"),e}},{key:"getElement",value:function(){return this.element}},{key:"getHeadersElement",value:function(){return this.headersElement}},{key:"scrollHorizontal",value:function(e){var t=0,n=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=e,e>n?(t=e-n,this.element.style.marginLeft=-t+"px"):this.element.style.marginLeft=0,this.scrollLeft=e,this.renderer.scrollColumns(e)}},{key:"generateColumnsFromRowData",value:function(e){var t,n,i=[],o=this.table.options.autoColumnsDefinitions;if(e&&e.length){for(var r in t=e[0]){var a={field:r,title:r},l=t[r];switch(typeof l){case"undefined":n="string";break;case"boolean":n="boolean";break;case"object":n=Array.isArray(l)?"array":"string";break;default:n=isNaN(l)||""===l?l.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}a.sorter=n,i.push(a)}if(o)switch(typeof o){case"function":this.table.options.columns=o.call(this.table,i);break;case"object":Array.isArray(o)?i.forEach((function(e){var t=o.find((function(t){return t.field===e.field}));t&&Object.assign(e,t)})):i.forEach((function(e){o[e.field]&&Object.assign(e,o[e.field])})),this.table.options.columns=i}else this.table.options.columns=i;this.setColumns(this.table.options.columns)}}},{key:"setColumns",value:function(e,t){for(var n=this;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),e.forEach((function(e,t){n._addColumn(e)})),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}},{key:"_addColumn",value:function(e,t,n){var i=new F(e,this),o=i.getElement(),r=n?this.findColumnIndex(n):n;if(n&&r>-1){var a=this.columns.indexOf(n.getTopColumn()),l=n.getElement();t?(this.columns.splice(a,0,i),l.parentNode.insertBefore(o,l)):(this.columns.splice(a+1,0,i),l.parentNode.insertBefore(o,l.nextSibling))}else t?(this.columns.unshift(i),this.headersElement.insertBefore(i.getElement(),this.headersElement.firstChild)):(this.columns.push(i),this.headersElement.appendChild(i.getElement()));return i.columnRendered(),i}},{key:"registerColumnField",value:function(e){e.definition.field&&(this.columnsByField[e.definition.field]=e)}},{key:"registerColumnPosition",value:function(e){this.columnsByIndex.push(e)}},{key:"_reIndexColumns",value:function(){this.columnsByIndex=[],this.columns.forEach((function(e){e.reRegisterPosition()}))}},{key:"verticalAlignHeaders",value:function(){var e=this,t=0;this.columns.forEach((function(e){var n;e.clearVerticalAlign(),(n=e.getHeight())>t&&(t=n)})),this.columns.forEach((function(n){n.verticalAlign(e.table.options.columnHeaderVertAlign,t)})),this.table.rowManager.adjustTableSize()}},{key:"findColumn",value:function(e){return"object"!=typeof e?this.columnsByField[e]||!1:e instanceof F?e:e instanceof P?e._getSelf()||!1:"undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&this.columns.find((function(t){return t.element===e}))||!1}},{key:"getColumnByField",value:function(e){return this.columnsByField[e]}},{key:"getColumnsByFieldRoot",value:function(e){var t=this,n=[];return Object.keys(this.columnsByField).forEach((function(i){i.split(".")[0]===e&&n.push(t.columnsByField[i])})),n}},{key:"getColumnByIndex",value:function(e){return this.columnsByIndex[e]}},{key:"getFirstVisibileColumn",value:function(e){return(e=this.columnsByIndex.findIndex((function(e){return e.visible})))>-1&&this.columnsByIndex[e]}},{key:"getColumns",value:function(){return this.columns}},{key:"findColumnIndex",value:function(e){return this.columnsByIndex.findIndex((function(t){return e===t}))}},{key:"getRealColumns",value:function(){return this.columnsByIndex}},{key:"traverse",value:function(e){this.columnsByIndex.forEach((function(t,n){e(t,n)}))}},{key:"getDefinitions",value:function(e){var t=[];return this.columnsByIndex.forEach((function(n){(!e||e&&n.visible)&&t.push(n.getDefinition())})),t}},{key:"getDefinitionTree",value:function(){var e=[];return this.columns.forEach((function(t){e.push(t.getDefinition(!0))})),e}},{key:"getComponents",value:function(e){var t=[];return(e?this.columns:this.columnsByIndex).forEach((function(e){t.push(e.getComponent())})),t}},{key:"getWidth",value:function(){var e=0;return this.columnsByIndex.forEach((function(t){t.visible&&(e+=t.getWidth())})),e}},{key:"moveColumn",value:function(e,t,n){this.moveColumnActual(e,t,n),t.element.parentNode.insertBefore(e.element,t.element),n&&t.element.parentNode.insertBefore(t.element,e.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}},{key:"moveColumnActual",value:function(e,t,n){e.parent.isGroup?this._moveColumnInArray(e.parent.columns,e,t,n):this._moveColumnInArray(this.columns,e,t,n),this._moveColumnInArray(this.columnsByIndex,e,t,n,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",e,t,n),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",e.getComponent(),this.table.columnManager.getComponents())}},{key:"_moveColumnInArray",value:function(e,t,n,i,o){var r,a=e.indexOf(t);a>-1&&(e.splice(a,1),(r=e.indexOf(n))>-1?i&&(r+=1):r=a,e.splice(r,0,t),o&&(this.chain("column-moving-rows",[t,n,i],null,[])||[]).concat(this.table.rowManager.rows).forEach((function(e){if(e.cells.length){var t=e.cells.splice(a,1)[0];e.cells.splice(r,0,t)}})))}},{key:"scrollToColumn",value:function(e,t,n){var i=this,o=0,r=0,a=0,l=e.getElement();return new Promise((function(s,u){if("undefined"===typeof t&&(t=i.table.options.scrollToColumnPosition),"undefined"===typeof n&&(n=i.table.options.scrollToColumnIfVisible),e.visible){switch(t){case"middle":case"center":a=-i.element.clientWidth/2;break;case"right":a=l.clientWidth-i.headersElement.clientWidth}if(!n&&(r=l.offsetLeft)>0&&r+l.offsetWidth<i.element.clientWidth)return!1;o=l.offsetLeft+a,o=Math.max(Math.min(o,i.table.rowManager.element.scrollWidth-i.table.rowManager.element.clientWidth),0),i.table.rowManager.scrollHorizontal(o),i.scrollHorizontal(o),s()}else console.warn("Scroll Error - Column not visible"),u("Scroll Error - Column not visible")}))}},{key:"generateCells",value:function(e){var t=[];return this.columnsByIndex.forEach((function(n){t.push(n.generateCell(e))})),t}},{key:"getFlexBaseWidth",value:function(){var e=this.table.element.clientWidth,t=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(e-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach((function(n){var i,o,r;n.visible&&(i=n.definition.width||0,o=parseInt(n.minWidth),r="string"==typeof i?i.indexOf("%")>-1?e/100*parseInt(i):parseInt(i):i,t+=r>o?r:o)})),t}},{key:"addColumn",value:function(e,t,n){var i=this;return new Promise((function(o,r){var a=i._addColumn(e,t,n);i._reIndexColumns(),i.dispatch("column-add",e,t,n),i.redraw(!0),"fitColumns"!=i.layoutMode()&&a.reinitializeWidth(),i.verticalAlignHeaders(),i.table.rowManager.reinitialize(),i.renderer.rerenderColumns(),o(a)}))}},{key:"deregisterColumn",value:function(e){var t,n=e.getField();n&&delete this.columnsByField[n],(t=this.columnsByIndex.indexOf(e))>-1&&this.columnsByIndex.splice(t,1),(t=this.columns.indexOf(e))>-1&&this.columns.splice(t,1),this.verticalAlignHeaders(),this.redraw()}},{key:"redraw",value:function(e){w.elVisible(this.element)&&this.verticalAlignHeaders(),e&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",e)||this.layoutRefresh(),this.dispatch("table-redraw",e),this.table.footerManager.redraw()}}]),n}(b),ze=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).verticalFillMode="fill",i.scrollTop=0,i.scrollLeft=0,i.scrollTop=0,i.scrollLeft=0,i}return v(n,[{key:"clearRows",value:function(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.scrollTop=0,e.scrollLeft=0,e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility=""}},{key:"renderRows",value:function(){var e=this,t=this.tableElement,n=!0;this.rows().forEach((function(i,o){e.styleRow(i,o),t.appendChild(i.getElement()),i.initialize(!0),"group"!==i.type&&(n=!1)})),t.style.minWidth=n?this.table.columnManager.getWidth()+"px":""}},{key:"rerenderRows",value:function(e){this.render(),e&&e()}},{key:"scrollToRowNearestTop",value:function(e){var t=w.elOffset(e.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-t)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-t))}},{key:"scrollToRow",value:function(e){var t=e.getElement();this.elementVertical.scrollTop=w.elOffset(t).top-w.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}},{key:"visibleRows",value:function(e){return this.rows()}}]),n}(Se),Fe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).verticalFillMode="fill",i.scrollTop=0,i.scrollLeft=0,i.vDomRowHeight=20,i.vDomTop=0,i.vDomBottom=0,i.vDomScrollPosTop=0,i.vDomScrollPosBottom=0,i.vDomTopPad=0,i.vDomBottomPad=0,i.vDomMaxRenderChain=90,i.vDomWindowBuffer=0,i.vDomWindowMinTotalRows=20,i.vDomWindowMinMarginRows=5,i.vDomTopNewRows=[],i.vDomBottomNewRows=[],i}return v(n,[{key:"clearRows",value:function(){for(var e=this.tableElement;e.firstChild;)e.removeChild(e.firstChild);e.style.paddingTop="",e.style.paddingBottom="",e.style.minWidth="",e.style.minHeight="",e.style.display="",e.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}},{key:"renderRows",value:function(){this._virtualRenderFill()}},{key:"rerenderRows",value:function(e){for(var t=this.elementVertical.scrollTop,n=!1,i=!1,o=this.table.rowManager.scrollLeft,r=this.rows(),a=this.vDomTop;a<=this.vDomBottom;a++)if(r[a]){var l=t-r[a].getElement().offsetTop;if(!(!1===i||Math.abs(l)<i))break;i=l,n=a}r.forEach((function(e){e.deinitializeHeight()})),e&&e(),this._virtualRenderFill(!1===n?this.rows.length-1:n,!0,i||0),this.scrollColumns(o)}},{key:"scrollColumns",value:function(e){this.table.rowManager.scrollHorizontal(e)}},{key:"scrollRows",value:function(e,t){var n=e-this.vDomScrollPosTop,i=e-this.vDomScrollPosBottom,o=2*this.vDomWindowBuffer,r=this.rows();if(this.scrollTop=e,-n>o||i>o){var a=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*r.length)),this.scrollColumns(a)}else t?(n<0&&this._addTopRow(r,-n),i<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(r,-i):this.vDomScrollPosBottom=this.scrollTop)):(i>=0&&this._addBottomRow(r,i),n>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(r,n):this.vDomScrollPosTop=this.scrollTop))}},{key:"resize",value:function(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}},{key:"scrollToRowNearestTop",value:function(e){var t=this.rows().indexOf(e);return!(Math.abs(this.vDomTop-t)>Math.abs(this.vDomBottom-t))}},{key:"scrollToRow",value:function(e){var t=this.rows().indexOf(e);t>-1&&this._virtualRenderFill(t,!0)}},{key:"visibleRows",value:function(e){var t=this.elementVertical.scrollTop,n=this.elementVertical.clientHeight+t,i=!1,o=0,r=0,a=this.rows();if(e)o=this.vDomTop,r=this.vDomBottom;else for(var l=this.vDomTop;l<=this.vDomBottom;l++)if(a[l])if(i){if(!(n-a[l].getElement().offsetTop>=0))break;r=l}else if(t-a[l].getElement().offsetTop>=0)o=l;else{if(i=!0,!(n-a[l].getElement().offsetTop>=0))break;r=l}return a.slice(o,r+1)}},{key:"_virtualRenderFill",value:function(e,t,n){var i=this.tableElement,o=this.elementVertical,r=0,a=0,l=0,s=0,u=0,c=this.rows(),d=c.length,h=this.elementVertical.clientHeight;if(n=n||0,e=e||0){for(;i.firstChild;)i.removeChild(i.firstChild);(l=(d-e+1)*this.vDomRowHeight)<h&&(e-=Math.ceil((h-l)/this.vDomRowHeight))<0&&(e=0),e-=r=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),e)}else this.clear();if(d&&w.elVisible(this.elementVertical)){for(this.vDomTop=e,this.vDomBottom=e-1;(a<=h+this.vDomWindowBuffer||u<this.vDomWindowMinTotalRows)&&this.vDomBottom<d-1;){var f,p=this.vDomBottom+1,m=c[p];this.styleRow(m,p),i.appendChild(m.getElement()),m.initialize(),m.heightInitialized||m.normalizeHeight(!0),f=m.getHeight(),u<r?s+=f:a+=f,f>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*f),this.vDomBottom++,u++}e?(this.vDomTopPad=t?this.vDomRowHeight*this.vDomTop+n:this.scrollTop-s,this.vDomBottomPad=this.vDomBottom==d-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-a-s,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((a+s)/u),this.vDomBottomPad=this.vDomRowHeight*(d-this.vDomBottom-1),this.vDomScrollHeight=s+a+this.vDomBottomPad-h),i.style.paddingTop=this.vDomTopPad+"px",i.style.paddingBottom=this.vDomBottomPad+"px",t&&(this.scrollTop=this.vDomTopPad+s+n-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-h:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-h),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&t&&(this.scrollTop+=this.elementVertical.offsetHeight-h),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,o.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}},{key:"_addTopRow",value:function(e,t){for(var n=this.tableElement,i=[],o=0,r=this.vDomTop-1,a=0;this.vDomTop;){var l=e[r],s=void 0,u=void 0;if(!(l&&a<this.vDomMaxRenderChain))break;if(s=l.getHeight()||this.vDomRowHeight,u=l.initialized,!(t>=s))break;this.styleRow(l,r),n.insertBefore(l.getElement(),n.firstChild),l.initialized&&l.heightInitialized||i.push(l),l.initialize(),u||(s=l.getElement().offsetHeight)>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*s),t-=s,o+=s,this.vDomTop--,r--,a++}for(var c=0,d=i;c<d.length;c++){d[c].clearCellHeight()}this._quickNormalizeRowHeight(i),o&&(this.vDomTopPad-=o,this.vDomTopPad<0&&(this.vDomTopPad=r*this.vDomRowHeight),r<1&&(this.vDomTopPad=0),n.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=o)}},{key:"_removeTopRow",value:function(e,t){for(var n=[],i=0,o=0;;){var r=e[this.vDomTop],a=void 0;if(!(r&&o<this.vDomMaxRenderChain))break;if(!(t>=(a=r.getHeight()||this.vDomRowHeight)))break;this.vDomTop++,t-=a,i+=a,n.push(r),o++}for(var l=0,s=n;l<s.length;l++){var u=s[l].getElement();u.parentNode&&u.parentNode.removeChild(u)}i&&(this.vDomTopPad+=i,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?i:i+this.vDomWindowBuffer)}},{key:"_addBottomRow",value:function(e,t){for(var n=this.tableElement,i=[],o=0,r=this.vDomBottom+1,a=0;;){var l=e[r],s=void 0,u=void 0;if(!(l&&a<this.vDomMaxRenderChain))break;if(s=l.getHeight()||this.vDomRowHeight,u=l.initialized,!(t>=s))break;this.styleRow(l,r),n.appendChild(l.getElement()),l.initialized&&l.heightInitialized||i.push(l),l.initialize(),u||(s=l.getElement().offsetHeight)>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*s),t-=s,o+=s,this.vDomBottom++,r++,a++}for(var c=0,d=i;c<d.length;c++){d[c].clearCellHeight()}this._quickNormalizeRowHeight(i),o&&(this.vDomBottomPad-=o,(this.vDomBottomPad<0||r==e.length-1)&&(this.vDomBottomPad=0),n.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=o)}},{key:"_removeBottomRow",value:function(e,t){for(var n=[],i=0,o=0;;){var r=e[this.vDomBottom],a=void 0;if(!(r&&o<this.vDomMaxRenderChain))break;if(!(t>=(a=r.getHeight()||this.vDomRowHeight)))break;this.vDomBottom--,t-=a,i+=a,n.push(r),o++}for(var l=0,s=n;l<s.length;l++){var u=s[l].getElement();u.parentNode&&u.parentNode.removeChild(u)}i&&(this.vDomBottomPad+=i,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=i)}},{key:"_quickNormalizeRowHeight",value:function(e){var t,n=l(e);try{for(n.s();!(t=n.n()).done;){t.value.calcHeight()}}catch(r){n.e(r)}finally{n.f()}var i,o=l(e);try{for(o.s();!(i=o.n()).done;){i.value.setCellHeight()}}catch(r){o.e(r)}finally{o.f()}}}]),n}(Se),_e=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).element=i.createHolderElement(),i.tableElement=i.createTableElement(),i.heightFixer=i.createTableElement(),i.firstRender=!1,i.renderMode="virtual",i.fixedHeight=!1,i.rows=[],i.activeRowsPipeline=[],i.activeRows=[],i.activeRowsCount=0,i.displayRows=[],i.displayRowsCount=0,i.scrollTop=0,i.scrollLeft=0,i.rowNumColumn=!1,i.redrawBlock=!1,i.redrawBlockRestoreConfig=!1,i.redrawBlockRederInPosition=!1,i.dataPipeline=[],i.displayPipeline=[],i.renderer=null,i}return v(n,[{key:"createHolderElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-tableholder"),e.setAttribute("tabindex",0),e.setAttribute("role","rowgroup"),e}},{key:"createTableElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-table"),e.setAttribute("role","rowgroup"),e}},{key:"getElement",value:function(){return this.element}},{key:"getTableElement",value:function(){return this.tableElement}},{key:"getRowPosition",value:function(e,t){return t?this.activeRows.indexOf(e):this.rows.indexOf(e)}},{key:"initialize",value:function(){var e=this;this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",(function(){var t=e.element.scrollLeft,n=e.scrollLeft>t,i=e.element.scrollTop,o=e.scrollTop>i;e.scrollLeft!=t&&(e.scrollLeft=t,e.dispatch("scroll-horizontal",t,n),e.dispatchExternal("scrollHorizontal",t,n)),e.scrollTop!=i&&(e.scrollTop=i,e.renderer.scrollRows(i,o),e.dispatch("scroll-vertical",i,o),e.dispatchExternal("scrollVertical",i,o))}))}},{key:"findRow",value:function(e){var t=this;return"object"!=typeof e?"undefined"!=typeof e&&null!==e&&(this.rows.find((function(n){return n.data[t.table.options.index]==e}))||!1):e instanceof O?e:e instanceof _?e._getSelf()||!1:"undefined"!==typeof HTMLElement&&e instanceof HTMLElement&&this.rows.find((function(t){return t.getElement()===e}))||!1}},{key:"getRowFromDataObject",value:function(e){return this.rows.find((function(t){return t.data===e}))||!1}},{key:"getRowFromPosition",value:function(e,t){return t?this.activeRows[e]:this.rows[e]}},{key:"scrollToRow",value:function(e,t,n){return this.renderer.scrollToRowPosition(e,t,n)}},{key:"setData",value:function(e,t,n){var i=this;return new Promise((function(o,r){t&&i.getDisplayRows().length?i.table.options.pagination?i._setDataActual(e,!0):i.reRenderInPosition((function(){i._setDataActual(e)})):(i.table.options.autoColumns&&n&&i.table.initialized&&i.table.columnManager.generateColumnsFromRowData(e),i.resetScroll(),i._setDataActual(e)),o()}))}},{key:"_setDataActual",value:function(e,t){var n=this;this.dispatchExternal("dataProcessing",e),this._wipeElements(),Array.isArray(e)?(this.dispatch("data-processing",e),e.forEach((function(e,t){if(e&&"object"===typeof e){var i=new O(e,n);n.rows.push(i)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",e)})),this.refreshActiveData(!1,!1,t),this.dispatch("data-processed",e),this.dispatchExternal("dataProcessed",e)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof e,"\nData:     ",e)}},{key:"_wipeElements",value:function(){this.dispatch("rows-wipe"),this.rows.forEach((function(e){e.wipe()})),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}},{key:"deleteRow",value:function(e,t){var n=this.rows.indexOf(e),i=this.activeRows.indexOf(e);i>-1&&this.activeRows.splice(i,1),n>-1&&this.rows.splice(n,1),this.setActiveRows(this.activeRows),this.displayRowIterator((function(t){var n=t.indexOf(e);n>-1&&t.splice(n,1)})),t||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",e.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}},{key:"addRow",value:function(e,t,n,i){var o=this.addRowActual(e,t,n,i);return this.dispatch("row-added",o,e,t,n),o}},{key:"addRows",value:function(e,t,n){var i=this,o=[];return new Promise((function(r,a){t=i.findAddRowPos(t),Array.isArray(e)||(e=[e]),e.length,("undefined"==typeof n&&t||"undefined"!==typeof n&&!t)&&e.reverse(),e.forEach((function(r,a){var l=i.addRow(r,t,n,!0);o.push(l),i.dispatch("row-added",l,e,t,n)})),i.refreshActiveData(!1,!1,!0),i.regenerateRowNumbers(),o.length&&i._clearPlaceholder(),r(o)}))}},{key:"findAddRowPos",value:function(e){return"undefined"===typeof e&&(e=this.table.options.addRowPos),"pos"===e&&(e=!0),"bottom"===e&&(e=!1),e}},{key:"addRowActual",value:function(e,t,n,i){var o,r,a=e instanceof O?e:new O(e||{},this),l=this.findAddRowPos(t),s=-1;return n||(r=this.chain("row-adding-position",[a,l],null,{index:n,top:l}),n=r.index,l=r.top),"undefined"!==typeof n&&(n=this.findRow(n)),(n=this.chain("row-adding-index",[a,n,l],null,n))&&(s=this.rows.indexOf(n)),n&&s>-1?(o=this.activeRows.indexOf(n),this.displayRowIterator((function(e){var t=e.indexOf(n);t>-1&&e.splice(l?t:t+1,0,a)})),o>-1&&this.activeRows.splice(l?o:o+1,0,a),this.rows.splice(l?s:s+1,0,a)):l?(this.displayRowIterator((function(e){e.unshift(a)})),this.activeRows.unshift(a),this.rows.unshift(a)):(this.displayRowIterator((function(e){e.push(a)})),this.activeRows.push(a),this.rows.push(a)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",a.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),i||this.reRenderInPosition(),a}},{key:"moveRow",value:function(e,t,n){this.dispatch("row-move",e,t,n),this.moveRowActual(e,t,n),this.regenerateRowNumbers(),this.dispatch("row-moved",e,t,n),this.dispatchExternal("rowMoved",e.getComponent())}},{key:"moveRowActual",value:function(e,t,n){var i=this;this.moveRowInArray(this.rows,e,t,n),this.moveRowInArray(this.activeRows,e,t,n),this.displayRowIterator((function(o){i.moveRowInArray(o,e,t,n)})),this.dispatch("row-moving",e,t,n)}},{key:"moveRowInArray",value:function(e,t,n,i){var o,r,a;if(t!==n&&((o=e.indexOf(t))>-1&&(e.splice(o,1),(r=e.indexOf(n))>-1?i?e.splice(r+1,0,t):e.splice(r,0,t):e.splice(o,0,t)),e===this.getDisplayRows())){a=r>o?r:o+1;for(var l=o<r?o:r;l<=a;l++)e[l]&&this.styleRow(e[l],l)}}},{key:"clearData",value:function(){this.setData([])}},{key:"getRowIndex",value:function(e){return this.findRowIndex(e,this.rows)}},{key:"getDisplayRowIndex",value:function(e){var t=this.getDisplayRows().indexOf(e);return t>-1&&t}},{key:"nextDisplayRow",value:function(e,t){var n=this.getDisplayRowIndex(e),i=!1;return!1!==n&&n<this.displayRowsCount-1&&(i=this.getDisplayRows()[n+1]),!i||i instanceof O&&"row"==i.type?i:this.nextDisplayRow(i,t)}},{key:"prevDisplayRow",value:function(e,t){var n=this.getDisplayRowIndex(e),i=!1;return n&&(i=this.getDisplayRows()[n-1]),!t||!i||i instanceof O&&"row"==i.type?i:this.prevDisplayRow(i,t)}},{key:"findRowIndex",value:function(e,t){var n;return!!((e=this.findRow(e))&&(n=t.indexOf(e))>-1)&&n}},{key:"getData",value:function(e,t){var n=[];return this.getRows(e).forEach((function(e){"row"==e.type&&n.push(e.getData(t||"data"))})),n}},{key:"getComponents",value:function(e){var t=[];return this.getRows(e).forEach((function(e){t.push(e.getComponent())})),t}},{key:"getDataCount",value:function(e){return this.getRows(e).length}},{key:"scrollHorizontal",value:function(e){this.scrollLeft=e,this.element.scrollLeft=e,this.dispatch("scroll-horizontal",e)}},{key:"registerDataPipelineHandler",value:function(e,t){"undefined"!==typeof t?(this.dataPipeline.push({handler:e,priority:t}),this.dataPipeline.sort((function(e,t){return e.priority-t.priority}))):console.error("Data pipeline handlers must have a priority in order to be registered")}},{key:"registerDisplayPipelineHandler",value:function(e,t){"undefined"!==typeof t?(this.displayPipeline.push({handler:e,priority:t}),this.displayPipeline.sort((function(e,t){return e.priority-t.priority}))):console.error("Display pipeline handlers must have a priority in order to be registered")}},{key:"refreshActiveData",value:function(e,t,n){var i=this.table,o="",r=0,a=["all","dataPipeline","display","displayPipeline","end"];if("function"===typeof e)if((r=this.dataPipeline.findIndex((function(t){return t.handler===e})))>-1)o="dataPipeline",t&&(r==this.dataPipeline.length-1?o="display":r++);else{if(!((r=this.displayPipeline.findIndex((function(t){return t.handler===e})))>-1))return void console.error("Unable to refresh data, invalid handler provided",e);o="displayPipeline",t&&(r==this.displayPipeline.length-1?o="end":r++)}else o=e||"all",r=0;if(this.redrawBlock)(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===o&&r<this.redrawBlockRestoreConfig.index||a.indexOf(o)<a.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:e,skipStage:t,renderInPosition:n,stage:o,index:r});else{switch(this.dispatch("data-refeshing"),e||(this.activeRowsPipeline[0]=this.rows.slice(0)),o){case"all":case"dataPipeline":for(var l=r;l<this.dataPipeline.length;l++){var s=this.dataPipeline[l].handler(this.activeRowsPipeline[l].slice(0));this.activeRowsPipeline[l+1]=s||this.activeRowsPipeline[l].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":r=0,this.resetDisplayRows();case"displayPipeline":for(var u=r;u<this.displayPipeline.length;u++){var c=this.displayPipeline[u].handler((u?this.getDisplayRows(u-1):this.activeRows).slice(0),n);this.setDisplayRows(c||this.getDisplayRows(u-1).slice(0),u)}}w.elVisible(this.element)&&(n?this.reRenderInPosition():(e||this.table.columnManager.renderer.renderColumns(),this.renderTable(),i.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),this.dispatch("data-refeshed")}}},{key:"regenerateRowNumbers",value:function(){var e=this;this.rowNumColumn&&this.activeRows.forEach((function(t){var n=t.getCell(e.rowNumColumn);n&&n._generateContents()}))}},{key:"setActiveRows",value:function(e){this.activeRows=e,this.activeRowsCount=this.activeRows.length}},{key:"resetDisplayRows",value:function(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}},{key:"getNextDisplayIndex",value:function(){return this.displayRows.length}},{key:"setDisplayRows",value:function(e,t){var n=!0;return t&&"undefined"!=typeof this.displayRows[t]?(this.displayRows[t]=e,n=!0):(this.displayRows.push(e),n=t=this.displayRows.length-1),t==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),n}},{key:"getDisplayRows",value:function(e){return"undefined"==typeof e?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[e]||[]}},{key:"getVisibleRows",value:function(e){return this.renderer.visibleRows(!e)}},{key:"displayRowIterator",value:function(e){this.activeRowsPipeline.forEach(e),this.displayRows.forEach(e),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}},{key:"getRows",value:function(e){var t;switch(e){case"active":t=this.activeRows;break;case"display":t=this.table.rowManager.getDisplayRows();break;case"visible":t=this.getVisibleRows(!0);break;default:t=this.chain("rows-retrieve",e,null,this.rows)||this.rows}return t}},{key:"reRenderInPosition",value:function(e){this.redrawBlock?e?e():this.redrawBlockRederInPosition=!0:this.renderer.rerenderRows(e)}},{key:"initializeRenderer",value:function(){var e,t={virtual:Fe,basic:ze};(e="string"===typeof this.table.options.renderVertical?t[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new e(this.table,this.element,this.tableElement),this.renderer.initialize(),this.table.element.clientHeight||this.table.options.height?this.fixedHeight=!0:this.fixedHeight=!1):console.error("Unable to find matching renderer:",table.options.renderVertical)}},{key:"getRenderMode",value:function(){return this.renderMode}},{key:"renderTable",value:function(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}},{key:"renderEmptyScroll",value:function(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}},{key:"_clearTable",value:function(){this.tableElement;this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}},{key:"_showPlaceholder",value:function(){this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px")}},{key:"_clearPlaceholder",value:function(){this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}},{key:"styleRow",value:function(e,t){var n=e.getElement();t%2?(n.classList.add("tabulator-row-even"),n.classList.remove("tabulator-row-odd")):(n.classList.add("tabulator-row-odd"),n.classList.remove("tabulator-row-even"))}},{key:"normalizeHeight",value:function(){this.activeRows.forEach((function(e){e.normalizeHeight()}))}},{key:"adjustTableSize",value:function(){var e=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){var t=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+t+"px)",this.element.style.height="calc(100% - "+t+"px)",this.element.style.maxHeight="calc(100% - "+t+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-t+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),this.fixedHeight||e==this.element.clientHeight||(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}}},{key:"reinitialize",value:function(){this.rows.forEach((function(e){e.reinitialize(!0)}))}},{key:"blockRedraw",value:function(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}},{key:"restoreRedraw",value:function(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1}},{key:"redraw",value:function(e){var t=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,e?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(t),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))}},{key:"resetScroll",value:function(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var e=document.createEvent("Event");e.initEvent("scroll",!1,!0),this.element.dispatchEvent(e)}else this.element.dispatchEvent(new Event("scroll"))}}]),n}(b),Oe=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).active=!1,i.element=i.createElement(),i.external=!1,i.links=[],i.initializeElement(),i}return v(n,[{key:"initialize",value:function(){this.initializeElement()}},{key:"createElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-footer"),e}},{key:"initializeElement",value:function(){if(this.table.options.footerElement)if("string"===typeof this.table.options.footerElement)"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement));else this.element=this.table.options.footerElement}},{key:"getElement",value:function(){return this.element}},{key:"append",value:function(e,t){this.activate(t),this.element.appendChild(e),this.table.rowManager.adjustTableSize()}},{key:"prepend",value:function(e,t){this.activate(t),this.element.insertBefore(e,this.element.firstChild),this.table.rowManager.adjustTableSize()}},{key:"remove",value:function(e){e.parentNode.removeChild(e),this.deactivate()}},{key:"deactivate",value:function(e){this.element.firstChild&&!e||(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}},{key:"activate",value:function(e){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),e&&this.links.push(e)}},{key:"redraw",value:function(){this.links.forEach((function(e){e.footerRedraw()}))}}]),n}(b),He=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).el=i.table.element,i.abortClasses=["tabulator-headers","tabulator-table"],i.previousTargets={},i.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],i.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},i.buildListenerMap(),i.bindSubscriptionWatchers(),i}return v(n,[{key:"buildListenerMap",value:function(){var e={};this.listeners.forEach((function(t){e[t]={handler:null,components:[]}})),this.listeners=e}},{key:"bindSubscriptionWatchers",value:function(){for(var e=Object.keys(this.listeners),t=0,n=Object.values(this.componentMap);t<n.length;t++){var i,o=n[t],r=l(e);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=o+"-"+a;this.subscriptionChange(s,this.subscriptionChanged.bind(this,o,a))}}catch(u){r.e(u)}finally{r.f()}}}},{key:"subscriptionChanged",value:function(e,t,n){var i=this.listeners[t].components,o=i.indexOf(e),r=!1;n?-1===o&&(i.push(e),r=!0):this.subscribed(e+"-"+t)||o>-1&&(i.splice(o,1),r=!0),r&&this.updateEventListeners()}},{key:"updateEventListeners",value:function(){for(var e in this.listeners){var t=this.listeners[e];t.components.length?t.handler||(t.handler=this.track.bind(this,e),this.el.addEventListener(e,t.handler)):t.handler&&(this.el.removeEventListener(e,t.handler),t.handler=null)}}},{key:"track",value:function(e,t){var n=t.composedPath&&t.composedPath()||t.path,i=this.findTargets(n);i=this.bindComponents(e,i),this.triggerEvents(e,t,i)}},{key:"findTargets",value:function(e){var t,n=this,i={},o=Object.keys(this.componentMap),r=l(e);try{for(r.s();!(t=r.n()).done;){var s=t.value,u=s.classList?a(s.classList):[];if(u.filter((function(e){return n.abortClasses.includes(e)})).length)break;var c,d=l(u.filter((function(e){return o.includes(e)})));try{for(d.s();!(c=d.n()).done;){var h=c.value;i[this.componentMap[h]]=s}}catch(f){d.e(f)}finally{d.f()}}}catch(f){r.e(f)}finally{r.f()}return i.group&&i.group===i.row&&delete i.row,i}},{key:"bindComponents",value:function(e,t){var n,i=this,o=Object.keys(t).reverse(),r=this.listeners[e],a={},s=l(o);try{var u=function(){var e=n.value,o=void 0,l=t[e],s=i.previousTargets[e];if(s&&s.target===l)o=s.component;else switch(e){case"row":case"group":if(r.components.includes("row")||r.components.includes("cell"))o=i.table.rowManager.getVisibleRows().find((function(e){return e.getElement()===l}));break;case"column":r.components.includes("column")&&(o=i.table.columnManager.findColumn(l));break;case"cell":r.components.includes("cell")&&(o=t.row.findCell(l))}o&&(t[e]=o,a[e]={target:l,component:o})};for(s.s();!(n=s.n()).done;)u()}catch(c){s.e(c)}finally{s.f()}return this.previousTargets=a,t}},{key:"triggerEvents",value:function(e,t,n){var i=this.listeners[e];for(var o in n)n[o]&&i.components.includes(o)&&this.dispatch(o+"-"+e,t,n[o])}}]),n}(b),Ae=function(){function e(t){m(this,e),this.table=t,this.bindings={}}return v(e,[{key:"bind",value:function(e,t,n){this.bindings[e]||(this.bindings[e]={}),this.bindings[e][t]?console.warn("Unable to bind component handler, a matching function name is already bound",e,t,hanlder):this.bindings[e][t]=n}},{key:"handle",value:function(e,t,n){if(this.bindings[e]&&this.bindings[e][n])return this.bindings[e][n].bind(null,t);"then"===n||"string"!==typeof n||n.startsWith("_")||console.error("The "+e+" component does not have a "+n+" function, have you checked that you have the correct Tabulator module installed?")}}]),e}(),Ne=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).loaderElement=i.createLoaderElement(),i.msgElement=i.createMsgElement(),i.loadingElement=null,i.errorElement=null,i.requestOrder=0,i.loading=!1,i}return v(n,[{key:"initialize",value:function(){var e;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((e=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=e.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((e=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=e.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}},{key:"createLoaderElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-loader"),e}},{key:"createMsgElement",value:function(){var e=document.createElement("div");return e.classList.add("tabulator-loader-msg"),e.setAttribute("role","alert"),e}},{key:"load",value:function(e,t,n,i,o){var r=this,a=++this.requestOrder;if(this.dispatchExternal("dataLoading",e),!e||0!=e.indexOf("{")&&0!=e.indexOf("[")||(e=JSON.parse(e)),this.confirm("data-loading",e,t,n,o)){this.loading=!0,o||this.showLoader();t=this.chain("data-params",[e,n,o],t||{},{});return t=this.mapParams(t,this.table.options.dataSendParams),this.chain("data-load",[e,t,n,o],Promise.resolve([])).then((function(e){Array.isArray(e)||"object"!=typeof e||(e=r.mapParams(e,r.objectInvert(r.table.options.dataReceiveParams)));var t=r.chain("data-loaded",e,null,e);a==r.requestOrder?(r.hideLoader(),!1!==t&&(r.dispatchExternal("dataLoaded",t),r.table.rowManager.setData(t,i,!i))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")})).catch((function(e){console.error("Data Load Error: ",e),r.dispatchExternal("dataLoadError",e),o||r.showError(),setTimeout((function(){r.hideLoader()}),3e3)})).finally((function(){r.loading=!1}))}return this.dispatchExternal("dataLoaded",e),e||(e=[]),this.table.rowManager.setData(e,i,!i),Promise.resolve()}},{key:"mapParams",value:function(e,t){var n={};for(var i in e)n[t.hasOwnProperty(i)?t[i]:i]=e[i];return n}},{key:"objectInvert",value:function(e){var t={};for(var n in e)t[e[n]]=n;return t}},{key:"blockActiveLoad",value:function(){this.requestOrder++}},{key:"showLoader",value:function(){if("function"===typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}},{key:"showError",value:function(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}},{key:"hideLoader",value:function(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}]),n}(b),Be=function(){function e(t,n,i){m(this,e),this.table=t,this.events={},this.optionsList=n||{},this.subscriptionNotifiers={},this.dispatch=i?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=i}return v(e,[{key:"subscriptionChange",value:function(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifiySubscriptionChange(e,!0)}},{key:"subscribe",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t),this._notifiySubscriptionChange(e,!0)}},{key:"unsubscribe",value:function(e,t){var n;if(this.events[e]){if(t){if(!((n=this.events[e].findIndex((function(e){return e===t})))>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(n,1)}else delete this.events[e];this._notifiySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}},{key:"subscribed",value:function(e){return this.events[e]&&this.events[e].length}},{key:"_notifiySubscriptionChange",value:function(e,t){var n=this.subscriptionNotifiers[e];n&&n.forEach((function(e){e(t)}))}},{key:"_dispatch",value:function(){var e,t=this,n=Array.from(arguments),i=n.shift();return this.events[i]&&this.events[i].forEach((function(i,o){var r=i.apply(t.table,n);o||(e=r)})),e}},{key:"_debugDispatch",value:function(){var e,t=Array.from(arguments),n=t[0];(t[0]="ExternalEvent:"+t[0],!0===this.debug||this.debug.includes(n))&&(e=console).log.apply(e,a(t));return this._dispatch.apply(this,arguments)}}]),e}(),Ie=function(){function e(t){m(this,e),this.events={},this.subscriptionNotifiers={},this.dispatch=t?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=t?this._debugChain.bind(this):this._chain.bind(this),this.confirm=t?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=t}return v(e,[{key:"subscriptionChange",value:function(e,t){this.subscriptionNotifiers[e]||(this.subscriptionNotifiers[e]=[]),this.subscriptionNotifiers[e].push(t),this.subscribed(e)&&this._notifiySubscriptionChange(e,!0)}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4;this.events[e]||(this.events[e]=[]),this.events[e].push({callback:t,priority:n}),this.events[e].sort((function(e,t){return e.priority-t.priority})),this._notifiySubscriptionChange(e,!0)}},{key:"unsubscribe",value:function(e,t){var n;if(this.events[e]){if(t){if(!((n=this.events[e].findIndex((function(e){return e.callback===t})))>-1))return void console.warn("Cannot remove event, no matching event found:",e,t);this.events[e].splice(n,1)}this._notifiySubscriptionChange(e,!1)}else console.warn("Cannot remove event, no events set on:",e)}},{key:"subscribed",value:function(e){return this.events[e]&&this.events[e].length}},{key:"_chain",value:function(e,t,n,i){var o=this,r=n;return Array.isArray(t)||(t=[t]),this.subscribed(e)?(this.events[e].forEach((function(e,n){r=e.callback.apply(o,t.concat([r]))})),r):"function"===typeof i?i():i}},{key:"_confirm",value:function(e,t){var n=this,i=!1;return Array.isArray(t)||(t=[t]),this.subscribed(e)&&this.events[e].forEach((function(e,o){e.callback.apply(n,t)&&(i=!0)})),i}},{key:"_notifiySubscriptionChange",value:function(e,t){var n=this.subscriptionNotifiers[e];n&&n.forEach((function(e){e(t)}))}},{key:"_dispatch",value:function(){var e=this,t=Array.from(arguments),n=t.shift();this.events[n]&&this.events[n].forEach((function(n){n.callback.apply(e,t)}))}},{key:"_debugDispatch",value:function(){var e,t=Array.from(arguments),n=t[0];(t[0]="InternalEvent:"+n,!0===this.debug||this.debug.includes(n))&&(e=console).log.apply(e,a(t));return this._dispatch.apply(this,arguments)}},{key:"_debugChain",value:function(){var e,t=Array.from(arguments),n=t[0];(t[0]="InternalEvent:"+n,!0===this.debug||this.debug.includes(n))&&(e=console).log.apply(e,a(t));return this._chain.apply(this,arguments)}},{key:"_debugConfirm",value:function(){var e,t=Array.from(arguments),n=t[0];(t[0]="InternalEvent:"+n,!0===this.debug||this.debug.includes(n))&&(e=console).log.apply(e,a(t));return this._confirm.apply(this,arguments)}}]),e}(),Ve=function(){function e(){m(this,e)}return v(e,null,[{key:"register",value:function(t){e.tables.push(t)}},{key:"deregister",value:function(t){var n=e.tables.indexOf(t);n>-1&&e.tables.splice(n,1)}},{key:"lookupTable",value:function(t,n){var i,o,r=[];if("string"===typeof t){if((i=document.querySelectorAll(t)).length)for(var a=0;a<i.length;a++)(o=e.matchElement(i[a]))&&r.push(o)}else"undefined"!==typeof HTMLElement&&t instanceof HTMLElement||t instanceof Ke?(o=e.matchElement(t))&&r.push(o):Array.isArray(t)?t.forEach((function(t){r=r.concat(e.lookupTable(t))})):n||console.warn("Table Connection Error - Invalid Selector",t);return r}},{key:"matchElement",value:function(t){return e.tables.find((function(e){return t instanceof Ke?e===t:e.element===t}))}}]),e}();function We(e){e.forEach((function(e){e.reinitializeWidth()})),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}Ve.tables=[];var je={fitData:function(e){this.table.columnManager.renderer.reinitializeColumnWidths(e),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:We,fitDataTable:We,fitDataStretch:function(e){var t=this,n=0,i=this.table.rowManager.element.clientWidth,o=0,r=!1;e.forEach((function(e,i){e.widthFixed||e.reinitializeWidth(),(t.table.options.responsiveLayout?e.modules.responsive.visible:e.visible)&&(r=e),e.visible&&(n+=e.getWidth())})),r?(o=i-n+r.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(r.setWidth(0),this.table.modules.responsiveLayout.update()),o>0?r.setWidth(o):r.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function(e){var t,n,i=this.table.element.clientWidth,o=0,r=0,a=0,l=[],s=[],u=0,c=0;function d(e){return"string"==typeof e?e.indexOf("%")>-1?i/100*parseInt(e):parseInt(e):e}function h(e,t,n,i){var o=[],r=0,l=0,s=0,u=a,c=0,f=0,p=[];function m(e){return n*(e.column.definition.widthGrow||1)}function g(e){return d(e.width)-n*(e.column.definition.widthShrink||0)}return e.forEach((function(e,r){var a=i?g(e):m(e);e.column.minWidth>=a?o.push(e):e.column.maxWidth&&e.column.maxWidth<a?(e.width=e.column.maxWidth,t-=e.column.maxWidth,(u-=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)&&(n=Math.floor(t/u))):(p.push(e),f+=i?e.column.definition.widthShrink||1:e.column.definition.widthGrow||1)})),o.length?(o.forEach((function(e){r+=i?e.width-e.column.minWidth:e.column.minWidth,e.width=e.column.minWidth})),c=(l=t-r)-(s=f?Math.floor(l/f):l)*f,c+=h(p,l,s,i)):(c=f?t-Math.floor(t/f)*f:t,p.forEach((function(e){e.width=i?g(e):m(e)}))),c}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(i-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),e.forEach((function(e){var t,n,i;e.visible&&(t=e.definition.width,n=parseInt(e.minWidth),t?(i=d(t),o+=i>n?i:n,e.definition.widthShrink&&(s.push({column:e,width:i>n?i:n}),u+=e.definition.widthShrink)):(l.push({column:e,width:0}),a+=e.definition.widthGrow||1))})),r=i-o,t=Math.floor(r/a),c=h(l,r,t,!1),l.length&&c>0&&(l[l.length-1].width+=+c),l.forEach((function(e){r-=e.width})),(n=Math.abs(c)+r)>0&&u&&(c=h(s,n,Math.floor(n/u),!0)),s.length&&(s[s.length-1].width-=c),l.forEach((function(e){e.column.setWidth(e.width)})),s.forEach((function(e){e.column.setWidth(e.width)}))}},Ge=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e,"layout")).mode=null,i.registerTableOption("layout","fitData"),i.registerTableOption("layoutColumnsOnNewData",!1),i.registerColumnOption("widthGrow"),i.registerColumnOption("widthShrink"),i}return v(n,[{key:"initialize",value:function(){var e=this.table.options.layout;n.modes[e]?this.mode=e:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+e),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}},{key:"getMode",value:function(){return this.mode}},{key:"layout",value:function(){n.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}]),n}(y);Ge.moduleName="layout",Ge.modes=je;var Ue=function(e){c(n,e);var t=p(n);function n(e){var i;return m(this,n),(i=t.call(this,e)).locale="default",i.lang=!1,i.bindings={},i.langList={},i.registerTableOption("locale",!1),i.registerTableOption("langs",{}),i}return v(n,[{key:"initialize",value:function(){for(var e in this.langList=w.deepClone(n.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder),this.table.options.langs)this.installLang(e,this.table.options.langs[e]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}},{key:"setHeaderFilterPlaceholder",value:function(e){this.langList.default.headerFilters.default=e}},{key:"setHeaderFilterColumnPlaceholder",value:function(e,t){this.langList.default.headerFilters.columns[e]=t,this.lang&&!this.lang.headerFilters.columns[e]&&(this.lang.headerFilters.columns[e]=t)}},{key:"installLang",value:function(e,t){this.langList[e]?this._setLangProp(this.langList[e],t):this.langList[e]=t}},{key:"_setLangProp",value:function(e,t){for(var n in t)e[n]&&"object"==typeof e[n]?this._setLangProp(e[n],t[n]):e[n]=t[n]}},{key:"setLocale",value:function(e){if(!0===(e=e||"default")&&navigator.language&&(e=navigator.language.toLowerCase()),e&&!this.langList[e]){var t=e.split("-")[0];this.langList[t]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",e,t),e=t):(console.warn("Localization Error - Matching locale not found, using default: ",e),e="default")}this.locale=e,this.lang=w.deepClone(this.langList.default||{}),"default"!=e&&function e(t,n){for(var i in t)"object"==typeof t[i]?(n[i]||(n[i]={}),e(t[i],n[i])):n[i]=t[i]}(this.langList[e],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}},{key:"getLocale",value:function(e){return this.locale}},{key:"getLang",value:function(e){return e?this.langList[e]:this.lang}},{key:"getText",value:function(e,t){var n=(e=t?e+"|"+t:e).split("|");return this._getLangElement(n,this.locale)||""}},{key:"_getLangElement",value:function(e,t){var n=this.lang;return e.forEach((function(e){var t;n&&(t=n[e],n="undefined"!=typeof t&&t)})),n}},{key:"bind",value:function(e,t){this.bindings[e]||(this.bindings[e]=[]),this.bindings[e].push(t),t(this.getText(e),this.lang)}},{key:"_executeBindings",value:function(){var e=this,t=function(t){e.bindings[t].forEach((function(n){n(e.getText(t),e.lang)}))};for(var n in this.bindings)t(n)}}]),n}(y);Ue.moduleName="localize",Ue.langs={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}};var qe=function(e){c(n,e);var t=p(n);function n(e){return m(this,n),t.call(this,e)}return v(n,[{key:"initialize",value:function(){this.registerTableFunction("tableComms",this.receive.bind(this))}},{key:"getConnections",value:function(e){var t=this,n=[];return Ve.lookupTable(e).forEach((function(e){t.table!==e&&n.push(e)})),n}},{key:"send",value:function(e,t,n,i){var o=this,r=this.getConnections(e);r.forEach((function(e){e.tableComms(o.table.element,t,n,i)})),!r.length&&e&&console.warn("Table Connection Error - No tables matching selector found",e)}},{key:"receive",value:function(e,t,n,i){if(this.table.modExists(t))return this.table.modules[t].commsReceived(e,n,i);console.warn("Inter-table Comms Error - no such module:",t)}}]),n}(y);qe.moduleName="comms";var Xe=Object.freeze({__proto__:null,LayoutModule:Ge,LocalizeModule:Ue,CommsModule:qe}),$e=function(){function e(t,n){m(this,e),this.bindStaticFuctionality(t),this.bindModules(t,Xe,!0),n&&this.bindModules(t,n)}return v(e,[{key:"bindStaticFuctionality",value:function(e){e.moduleBindings={},e.extendModule=function(t,n,i){if(e.moduleBindings[t]){var o=e.moduleBindings[t][n];if(o)if("object"==typeof i)for(var r in i)o[r]=i[r];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",n)}else console.warn("Module Error - module does not exist:",t)},e.registerModule=function(t){Array.isArray(t)||(t=[t]),t.forEach((function(t){e.registerModuleBinding(t)}))},e.registerModuleBinding=function(t){e.moduleBindings[t.moduleName]=t},e.findTable=function(e){var t=Ve.lookupTable(e,!0);return!(Array.isArray(t)&&!t.length)&&t},e.prototype.bindModules=function(){for(var t in this.modules={},e.moduleBindings){var n=e.moduleBindings[t];this.modules[t]=new n(this),n.prototype.moduleCore?this.modulesCore[t]=this.modules[t]:this.modulesRegular[t]=this.modules[t]}}}},{key:"bindModules",value:function(e,t,n){var i=Object.values(t);n&&i.forEach((function(e){e.prototype.moduleCore=!0})),e.registerModule(i)}}]),e}(),Ke=function(){function e(t,n){var i=this;m(this,e),this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new Ae(this),this.dataLoader=!1,this.modules={},this.modulesCore={},this.modulesRegular={},this.optionsList=new Me(this,"table constructor"),this.initialized=!1,this.initializeElement(t)&&(this.initialzeCoreSystems(n),setTimeout((function(){i._create()}))),Ve.register(this)}return v(e,[{key:"initializeElement",value:function(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement?(this.element=e,!0):"string"===typeof e?(this.element=document.querySelector(e),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",e),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",e),!1)}},{key:"initialzeCoreSystems",value:function(t){this.columnManager=new Pe(this),this.rowManager=new _e(this),this.footerManager=new Oe(this),this.dataLoader=new Ne(this),this.bindModules(),this.options=this.optionsList.generate(e.defaultOptions,t),this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.externalEvents=new Be(this,this.options,this.options.debugEventsExternal),this.eventBus=new Ie(this.options.debugEventsInternal),this.interactionMonitor=new He(this),this.dataLoader.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this.footerManager.initialize()}},{key:"_mapDepricatedFunctionality",value:function(){}},{key:"_clearSelection",value:function(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}},{key:"_create",value:function(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}},{key:"_rtlCheck",value:function(){var e=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==e.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}},{key:"_clearObjectPointers",value:function(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}},{key:"_buildElement",value:function(){var e,t=this.element,n=this.options;if("TABLE"===t.tagName){this.originalElement=this.element,e=document.createElement("div");var i=t.attributes;for(var o in i)"object"==typeof i[o]&&e.setAttribute(i[o].name,i[o].value);t.parentNode.replaceChild(e,t),this.element=t=e}for(t.classList.add("tabulator"),t.setAttribute("role","grid");t.firstChild;)t.removeChild(t.firstChild);n.height&&(n.height=isNaN(n.height)?n.height:n.height+"px",t.style.height=n.height),!1!==n.minHeight&&(n.minHeight=isNaN(n.minHeight)?n.minHeight:n.minHeight+"px",t.style.minHeight=n.minHeight),!1!==n.maxHeight&&(n.maxHeight=isNaN(n.maxHeight)?n.maxHeight:n.maxHeight+"px",t.style.maxHeight=n.maxHeight)}},{key:"_initializeTable",value:function(){var e=this.element,t=this.options;for(var n in this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser(),this.modulesCore){this.modulesCore[n].initialize()}if("string"==typeof t.placeholder){var i=document.createElement("div");i.classList.add("tabulator-placeholder");var o=document.createElement("span");o.innerHTML=t.placeholder,i.appendChild(o),t.placeholder=i}for(var r in e.appendChild(this.columnManager.getElement()),e.appendChild(this.rowManager.getElement()),t.footerElement&&this.footerManager.activate(),t.autoColumns&&t.data&&this.columnManager.generateColumnsFromRowData(this.options.data),this.modulesRegular){this.modulesRegular[r].initialize()}this.columnManager.setColumns(t.columns),this.eventBus.dispatch("table-built")}},{key:"_loadInitialData",value:function(){this.dataLoader.load(this.options.data)}},{key:"destroy",value:function(){var e=this.element;for(Ve.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach((function(e){e.wipe()})),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];e.firstChild;)e.removeChild(e.firstChild);e.classList.remove("tabulator")}},{key:"_detectBrowser",value:function(){var e=navigator.userAgent||navigator.vendor||window.opera;e.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):e.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):e.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},{key:"blockRedraw",value:function(){return this.rowManager.blockRedraw()}},{key:"restoreRedraw",value:function(){return this.rowManager.restoreRedraw()}},{key:"setDataFromLocalFile",value:function(e){var t=this;return new Promise((function(n,i){var o=document.createElement("input");o.type="file",o.accept=e||".json,application/json",o.addEventListener("change",(function(e){var r,a=o.files[0],l=new FileReader;l.readAsText(a),l.onload=function(e){try{r=JSON.parse(l.result)}catch(e){return console.warn("File Load Error - File contents is invalid JSON",e),void i(e)}t.setData(r).then((function(e){n(e)})).catch((function(e){n(e)}))},l.onerror=function(e){console.warn("File Load Error - Unable to read file"),i()}})),o.click()}))}},{key:"setData",value:function(e,t,n){if(this.initialized)return this.dataLoader.load(e,t,n,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}},{key:"clearData",value:function(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}},{key:"getData",value:function(e){return this.rowManager.getData(e)}},{key:"getDataCount",value:function(e){return this.rowManager.getDataCount(e)}},{key:"replaceData",value:function(e,t,n){return this.dataLoader.load(e,t,n,!0,!0)}},{key:"updateData",value:function(e){var t=this,n=0;return new Promise((function(i,o){t.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var o=t.rowManager.findRow(e[t.options.index]);o&&(n++,o.updateData(e).then((function(){--n||i()})))})):(console.warn("Update Error - No data provided"),o("Update Error - No data provided"))}))}},{key:"addData",value:function(e,t,n){var i=this;return new Promise((function(o,r){i.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e?i.rowManager.addRows(e,t,n).then((function(e){var t=[];e.forEach((function(e){t.push(e.getComponent())})),o(t)})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))}},{key:"updateOrAddData",value:function(e){var t=this,n=[],i=0;return new Promise((function(o,r){t.dataLoader.blockActiveLoad(),"string"===typeof e&&(e=JSON.parse(e)),e?e.forEach((function(e){var r=t.rowManager.findRow(e[t.options.index]);i++,r?r.updateData(e).then((function(){i--,n.push(r.getComponent()),i||o(n)})):t.rowManager.addRows(e).then((function(e){i--,n.push(e[0].getComponent()),i||o(n)}))})):(console.warn("Update Error - No data provided"),r("Update Error - No data provided"))}))}},{key:"getRow",value:function(e){var t=this.rowManager.findRow(e);return t?t.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}},{key:"getRowFromPosition",value:function(e,t){var n=this.rowManager.getRowFromPosition(e,t);return n?n.getComponent():(console.warn("Find Error - No matching row found:",e),!1)}},{key:"deleteRow",value:function(e){var t=this,n=[];Array.isArray(e)||(e=[e]);var i,o=l(e);try{for(o.s();!(i=o.n()).done;){var r=i.value,a=this.rowManager.findRow(r,!0);if(!a)return console.error("Delete Error - No matching row found:",r),Promise.reject("Delete Error - No matching row found");n.push(a)}}catch(s){o.e(s)}finally{o.f()}return n.sort((function(e,n){return t.rowManager.rows.indexOf(e)>t.rowManager.rows.indexOf(n)?1:-1})),n.forEach((function(e){e.delete()})),this.rowManager.reRenderInPosition(),Promise.resolve()}},{key:"addRow",value:function(e,t,n){return"string"===typeof e&&(e=JSON.parse(e)),this.rowManager.addRows(e,t,n).then((function(e){return e[0].getComponent()}))}},{key:"updateOrAddRow",value:function(e,t){var n=this.rowManager.findRow(e);return"string"===typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then((function(){return n.getComponent()})):this.rowManager.addRows(t).then((function(e){return e[0].getComponent()}))}},{key:"updateRow",value:function(e,t){var n=this.rowManager.findRow(e);return"string"===typeof t&&(t=JSON.parse(t)),n?n.updateData(t).then((function(){resolve(n.getComponent())})):(console.warn("Update Error - No matching row found:",e),Promise.reject("Update Error - No matching row found"))}},{key:"scrollToRow",value:function(e,t,n){var i=this.rowManager.findRow(e);return i?this.rowManager.scrollToRow(i,t,n):(console.warn("Scroll Error - No matching row found:",e),Promise.reject("Scroll Error - No matching row found"))}},{key:"moveRow",value:function(e,t,n){var i=this.rowManager.findRow(e);i?i.moveToRow(t,n):console.warn("Move Error - No matching row found:",e)}},{key:"getRows",value:function(e){return this.rowManager.getComponents(e)}},{key:"getRowPosition",value:function(e,t){var n=this.rowManager.findRow(e);return n?this.rowManager.getRowPosition(n,t):(console.warn("Position Error - No matching row found:",e),!1)}},{key:"setColumns",value:function(e){this.initialized?this.columnManager.setColumns(e):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}},{key:"getColumns",value:function(e){return this.columnManager.getComponents(e)}},{key:"getColumn",value:function(e){var t=this.columnManager.findColumn(e);return t?t.getComponent():(console.warn("Find Error - No matching column found:",e),!1)}},{key:"getColumnDefinitions",value:function(){return this.columnManager.getDefinitionTree()}},{key:"showColumn",value:function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Show Error - No matching column found:",e),!1;t.show()}},{key:"hideColumn",value:function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Hide Error - No matching column found:",e),!1;t.hide()}},{key:"toggleColumn",value:function(e){var t=this.columnManager.findColumn(e);if(!t)return console.warn("Column Visibility Toggle Error - No matching column found:",e),!1;t.visible?t.hide():t.show()}},{key:"addColumn",value:function(e,t,n){var i=this.columnManager.findColumn(n);return this.columnManager.addColumn(e,t,i).then((function(e){return e.getComponent()}))}},{key:"deleteColumn",value:function(e){var t=this.columnManager.findColumn(e);return t?t.delete():(console.warn("Column Delete Error - No matching column found:",e),Promise.reject())}},{key:"updateColumnDefinition",value:function(e,t){var n=this.columnManager.findColumn(e);return n?n.updateDefinition(t):(console.warn("Column Update Error - No matching column found:",e),Promise.reject())}},{key:"moveColumn",value:function(e,t,n){var i=this.columnManager.findColumn(e),o=this.columnManager.findColumn(t);i?o?this.columnManager.moveColumn(i,o,n):console.warn("Move Error - No matching column found:",o):console.warn("Move Error - No matching column found:",e)}},{key:"scrollToColumn",value:function(e,t,n){var i=this;return new Promise((function(o,r){var a=i.columnManager.findColumn(e);return a?i.columnManager.scrollToColumn(a,t,n):(console.warn("Scroll Error - No matching column found:",e),Promise.reject("Scroll Error - No matching column found"))}))}},{key:"redraw",value:function(e){this.columnManager.redraw(e),this.rowManager.redraw(e)}},{key:"setHeight",value:function(e){this.options.height=isNaN(e)?e:e+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}},{key:"on",value:function(e,t){this.externalEvents.subscribe(e,t)}},{key:"off",value:function(e,t){this.externalEvents.unsubscribe(e,t)}},{key:"dispatchEvent",value:function(){var e,t=Array.from(arguments);t.shift();(e=this.externalEvents).dispatch.apply(e,arguments)}},{key:"modExists",value:function(e,t){return!!this.modules[e]||(t&&console.error("Tabulator Module Not Installed: "+e),!1)}},{key:"module",value:function(e){var t=this.modules[e];return t||console.error("Tabulator module not installed: "+e),t}}]),e}();Ke.defaultOptions={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnMaxWidth:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataSendParams:{},dataReceiveParams:{}},new $e(Ke);var Qe=function(e){c(n,e);var t=p(n);function n(){return m(this,n),t.apply(this,arguments)}return n}(Ke);new $e(Qe,Te)},function(e,t,n){"use strict";var i=n(2),o=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,l=60110,s=60112;t.Suspense=60113;var u=60115,c=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;o=d("react.element"),r=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),l=d("react.context"),s=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),c=d("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var y=b.prototype=new v;y.constructor=b,i(y,g.prototype),y.isPureReactComponent=!0;var w={current:null},k=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var i,r={},a=null,l=null;if(null!=t)for(i in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:o,type:e,key:a,ref:l,props:r,_owner:w.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var R=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,n,i,a){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var s=!1;if(null===e)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case o:case r:s=!0}}if(s)return a=a(s=e),e=""===i?"."+T(s,0):i,Array.isArray(a)?(n="",null!=e&&(n=e.replace(R,"$&/")+"/"),M(a,t,n,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(R,"$&/")+"/")+e)),t.push(a)),1;if(s=0,i=""===i?".":i+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=i+T(l=e[u],u);s+=M(l,t,n,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(l=e.next()).done;)s+=M(l=l.value,t,n,c=i+T(l,u++),a);else if("object"===l)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function S(e,t,n){if(null==e)return e;var i=[],o=0;return M(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function L(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function P(){var e=D.current;if(null===e)throw Error(f(321));return e}var z={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:S,forEach:function(e,t,n){S(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return S(e,(function(){t++})),t},toArray:function(e){return S(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var r=i({},e.props),a=e.key,l=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:o,type:e.type,key:a,ref:l,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:l,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var i=n(1),o=n(2),r=n(7);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));var l=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,i,o,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,i){var o=v.hasOwnProperty(t)?v[t]:null;(null!==o?0===o.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!f.call(m,e)||!f.call(p,e)&&(h.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=60103,E=60106,x=60107,R=60108,T=60114,M=60109,S=60110,L=60112,D=60113,P=60120,z=60115,F=60116,_=60121,O=60128,H=60129,A=60130,N=60131;if("function"===typeof Symbol&&Symbol.for){var B=Symbol.for;C=B("react.element"),E=B("react.portal"),x=B("react.fragment"),R=B("react.strict_mode"),T=B("react.profiler"),M=B("react.provider"),S=B("react.context"),L=B("react.forward_ref"),D=B("react.suspense"),P=B("react.suspense_list"),z=B("react.memo"),F=B("react.lazy"),_=B("react.block"),B("react.scope"),O=B("react.opaque.id"),H=B("react.debug_trace_mode"),A=B("react.offscreen"),N=B("react.legacy_hidden")}var I,V="function"===typeof Symbol&&Symbol.iterator;function W(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function j(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var G=!1;function U(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var i=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){i=s}e.call(t.prototype)}else{try{throw Error()}catch(s){i=s}e()}}catch(s){if(s&&i&&"string"===typeof s.stack){for(var o=s.stack.split("\n"),r=i.stack.split("\n"),a=o.length-1,l=r.length-1;1<=a&&0<=l&&o[a]!==r[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==r[l]){if(1!==a||1!==l)do{if(a--,0>--l||o[a]!==r[l])return"\n"+o[a].replace(" at new "," at ")}while(1<=a&&0<=l);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function q(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 22:return e=U(e.type._render,!1);case 1:return e=U(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case T:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case L:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case z:return X(e.type);case _:return X(e._render);case F:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=K(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&oe(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ie(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function oe(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function re(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function le(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ue(e,t){var n=$(t.value),i=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function be(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function Ce(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=ke(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(ye).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Ee=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Re(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Se=null,Le=null;function De(e){if(e=io(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=ro(t),Me(e.stateNode,e.type,t))}}function Pe(e){Se?Le?Le.push(e):Le=[e]:Se=e}function ze(){if(Se){var e=Se,t=Le;if(Le=Se=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Fe(e,t){return e(t)}function _e(e,t,n,i,o){return e(t,n,i,o)}function Oe(){}var He=Fe,Ae=!1,Ne=!1;function Be(){null===Se&&null===Le||(Oe(),ze())}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var i=ro(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(d)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch(ge){Ve=!1}function je(e,t,n,i,o,r,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Ge=!1,Ue=null,qe=!1,Xe=null,$e={onError:function(e){Ge=!0,Ue=e}};function Ke(e,t,n,i,o,r,a,l,s){Ge=!1,Ue=null,je.apply($e,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Qe(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return Je(o),e;if(r===i)return Je(o),t;r=r.sibling}throw Error(a(188))}if(n.return!==i.return)n=o,i=r;else{for(var l=!1,s=o.child;s;){if(s===n){l=!0,n=o,i=r;break}if(s===i){l=!0,i=o,n=r;break}s=s.sibling}if(!l){for(s=r.child;s;){if(s===n){l=!0,n=r,i=o;break}if(s===i){l=!0,i=r,n=o;break}s=s.sibling}if(!l)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,it,ot,rt=!1,at=[],lt=null,st=null,ut=null,ct=new Map,dt=new Map,ht=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,i,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[i]}}function mt(e,t){switch(e){case"focusin":case"focusout":lt=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e=pt(t,n,i,o,r),null!==t&&(null!==(t=io(t))&&nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function vt(e){var t=no(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void ot(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){it(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=io(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){bt(e)&&n.delete(t)}function wt(){for(rt=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=io(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==lt&&bt(lt)&&(lt=null),null!==st&&bt(st)&&(st=null),null!==ut&&bt(ut)&&(ut=null),ct.forEach(yt),dt.forEach(yt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,rt||(rt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,wt)))}function Ct(e){function t(t){return kt(t,e)}if(0<at.length){kt(at[0],e);for(var n=1;n<at.length;n++){var i=at[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==lt&&kt(lt,e),null!==st&&kt(st,e),null!==ut&&kt(ut,e),ct.forEach(t),dt.forEach(t),n=0;n<ht.length;n++)(i=ht[n]).blockedOn===e&&(i.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)vt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xt={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},Rt={},Tt={};function Mt(e){if(Rt[e])return Rt[e];if(!xt[e])return e;var t,n=xt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return Rt[e]=n[t];return e}d&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete xt.animationend.animation,delete xt.animationiteration.animation,delete xt.animationstart.animation),"TransitionEvent"in window||delete xt.transitionend.transition);var St=Mt("animationend"),Lt=Mt("animationiteration"),Dt=Mt("animationstart"),Pt=Mt("transitionend"),zt=new Map,Ft=new Map,_t=["abort","abort",St,"animationEnd",Lt,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Ot(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Ft.set(i,t),zt.set(i,o),u(o,[i])}}(0,r.unstable_now)();var Ht=8;function At(e){if(0!==(1&e))return Ht=15,1;if(0!==(2&e))return Ht=14,2;if(0!==(4&e))return Ht=13,4;var t=24&e;return 0!==t?(Ht=12,t):0!==(32&e)?(Ht=11,32):0!==(t=192&e)?(Ht=10,t):0!==(256&e)?(Ht=9,256):0!==(t=3584&e)?(Ht=8,t):0!==(4096&e)?(Ht=7,4096):0!==(t=4186112&e)?(Ht=6,t):0!==(t=62914560&e)?(Ht=5,t):67108864&e?(Ht=4,67108864):0!==(134217728&e)?(Ht=3,134217728):0!==(t=805306368&e)?(Ht=2,t):0!==(1073741824&e)?(Ht=1,1073741824):(Ht=8,e)}function Nt(e,t){var n=e.pendingLanes;if(0===n)return Ht=0;var i=0,o=0,r=e.expiredLanes,a=e.suspendedLanes,l=e.pingedLanes;if(0!==r)i=r,o=Ht=15;else if(0!==(r=134217727&n)){var s=r&~a;0!==s?(i=At(s),o=Ht):0!==(l&=r)&&(i=At(l),o=Ht)}else 0!==(r=n&~a)?(i=At(r),o=Ht):0!==l&&(i=At(l),o=Ht);if(0===i)return 0;if(i=n&((0>(i=31-Gt(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0===(t&a)){if(At(t),o<=Ht)return t;Ht=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-Gt(t)),i|=e[n],t&=~o;return i}function Bt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function It(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?It(10,t):e;case 10:return 0===(e=Vt(192&~t))?It(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Wt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jt(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-Gt(t)]=n}var Gt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/qt|0)|0},Ut=Math.log,qt=Math.LN2;var Xt=r.unstable_UserBlockingPriority,$t=r.unstable_runWithPriority,Kt=!0;function Qt(e,t,n,i){Ae||Oe();var o=Jt,r=Ae;Ae=!0;try{_e(o,e,t,n,i)}finally{(Ae=r)||Be()}}function Yt(e,t,n,i){$t(Xt,Jt.bind(null,e,t,n,i))}function Jt(e,t,n,i){var o;if(Kt)if((o=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=pt(null,e,t,n,i),at.push(e);else{var r=Zt(e,t,n,i);if(null===r)o&&mt(e,i);else{if(o){if(-1<ft.indexOf(e))return e=pt(r,e,t,n,i),void at.push(e);if(function(e,t,n,i,o){switch(t){case"focusin":return lt=gt(lt,e,t,n,i,o),!0;case"dragenter":return st=gt(st,e,t,n,i,o),!0;case"mouseover":return ut=gt(ut,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return ct.set(r,gt(ct.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,dt.set(r,gt(dt.get(r)||null,e,t,n,i,o)),!0}return!1}(r,e,t,n,i))return;mt(e,i)}Oi(e,t,i,null,n)}}}function Zt(e,t,n,i){var o=Te(i);if(null!==(o=no(o))){var r=Qe(o);if(null===r)o=null;else{var a=r.tag;if(13===a){if(null!==(o=Ye(r)))return o;o=null}else if(3===a){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Oi(e,t,i,o,n),null}var en=null,tn=null,nn=null;function on(){if(nn)return nn;var e,t,n=tn,i=n.length,o="value"in en?en.value:en.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===o[r-t];t++);return nn=o.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function ln(){return!1}function sn(e){function t(t,n,i,o,r){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?an:ln,this.isPropagationStopped=ln,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,dn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=sn(hn),pn=o({},hn,{view:0,detail:0}),mn=sn(pn),gn=o({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,cn=e.screenY-dn.screenY):cn=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),vn=sn(gn),bn=sn(o({},gn,{dataTransfer:0})),yn=sn(o({},pn,{relatedTarget:0})),wn=sn(o({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=o({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cn=sn(kn),En=sn(o({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function Sn(){return Mn}var Ln=o({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=sn(Ln),Pn=sn(o({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),zn=sn(o({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Fn=sn(o({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=o({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(_n),Hn=[9,13,27,32],An=d&&"CompositionEvent"in window,Nn=null;d&&"documentMode"in document&&(Nn=document.documentMode);var Bn=d&&"TextEvent"in window&&!Nn,In=d&&(!An||Nn&&8<Nn&&11>=Nn),Vn=String.fromCharCode(32),Wn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Hn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function $n(e,t,n,i){Pe(i),0<(t=Ai(t,"onChange")).length&&(n=new fn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Kn=null,Qn=null;function Yn(e){Li(e,0)}function Jn(e){if(Y(oo(e)))return e}function Zn(e,t){if("change"===e)return t}var ei=!1;if(d){var ti;if(d){var ni="oninput"in document;if(!ni){var ii=document.createElement("div");ii.setAttribute("oninput","return;"),ni="function"===typeof ii.oninput}ti=ni}else ti=!1;ei=ti&&(!document.documentMode||9<document.documentMode)}function oi(){Kn&&(Kn.detachEvent("onpropertychange",ri),Qn=Kn=null)}function ri(e){if("value"===e.propertyName&&Jn(Qn)){var t=[];if($n(t,Qn,e,Te(e)),e=Yn,Ae)e(t);else{Ae=!0;try{Fe(e,t)}finally{Ae=!1,Be()}}}}function ai(e,t,n){"focusin"===e?(oi(),Qn=n,(Kn=t).attachEvent("onpropertychange",ri)):"focusout"===e&&oi()}function li(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Qn)}function si(e,t){if("click"===e)return Jn(t)}function ui(e,t){if("input"===e||"change"===e)return Jn(t)}var ci="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},di=Object.prototype.hasOwnProperty;function hi(e,t){if(ci(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!di.call(t,n[i])||!ci(e[n[i]],t[n[i]]))return!1;return!0}function fi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pi(e,t){var n,i=fi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fi(i)}}function mi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gi(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function vi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var bi=d&&"documentMode"in document&&11>=document.documentMode,yi=null,wi=null,ki=null,Ci=!1;function Ei(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Ci||null==yi||yi!==J(i)||("selectionStart"in(i=yi)&&vi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ki&&hi(ki,i)||(ki=i,0<(i=Ai(wi,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=yi)))}Ot("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ot("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ot(_t,2);for(var xi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ri=0;Ri<xi.length;Ri++)Ft.set(xi[Ri],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ti="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ti));function Si(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,r,l,s,u){if(Ke.apply(this,arguments),Ge){if(!Ge)throw Error(a(198));var c=Ue;Ge=!1,Ue=null,qe||(qe=!0,Xe=c)}}(i,t,void 0,e),e.currentTarget=null}function Li(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==r&&o.isPropagationStopped())break e;Si(o,l,u),r=s}else for(a=0;a<i.length;a++){if(s=(l=i[a]).instance,u=l.currentTarget,l=l.listener,s!==r&&o.isPropagationStopped())break e;Si(o,l,u),r=s}}}if(qe)throw e=Xe,qe=!1,Xe=null,e}function Di(e,t){var n=ao(t),i=e+"__bubble";n.has(i)||(_i(t,e,2,!1),n.add(i))}var Pi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){e[Pi]||(e[Pi]=!0,l.forEach((function(t){Mi.has(t)||Fi(t,!1,e,null),Fi(t,!0,e,null)})))}function Fi(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===e&&9!==n.nodeType&&(r=n.ownerDocument),null!==i&&!t&&Mi.has(e)){if("scroll"!==e)return;o|=2,r=i}var a=ao(r),l=e+"__"+(t?"capture":"bubble");a.has(l)||(t&&(o|=4),_i(r,e,o,t),a.add(l))}function _i(e,t,n,i){var o=Ft.get(t);switch(void 0===o?2:o){case 0:o=Qt;break;case 1:o=Yt;break;default:o=Jt}n=o.bind(null,t,n,e),o=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Oi(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var l=i.stateNode.containerInfo;if(l===o||8===l.nodeType&&l.parentNode===o)break;if(4===a)for(a=i.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;a=a.return}for(;null!==l;){if(null===(a=no(l)))return;if(5===(s=a.tag)||6===s){i=r=a;continue e}l=l.parentNode}}i=i.return}!function(e,t,n){if(Ne)return e(t,n);Ne=!0;try{He(e,t,n)}finally{Ne=!1,Be()}}((function(){var i=r,o=Te(n),a=[];e:{var l=zt.get(e);if(void 0!==l){var s=fn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Dn;break;case"focusin":u="focus",s=yn;break;case"focusout":u="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=zn;break;case St:case Lt:case Dt:s=wn;break;case Pt:s=Fn;break;case"scroll":s=mn;break;case"wheel":s=On;break;case"copy":case"cut":case"paste":s=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=0!==(4&t),d=!c&&"scroll"===e,h=c?null!==l?l+"Capture":null:l;c=[];for(var f,p=i;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&c.push(Hi(p,m,f)))),d)break;p=p.return}0<c.length&&(l=new s(l,u,null,n,o),a.push({event:l,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!no(u)&&!u[eo])&&(s||l)&&(l=o.window===o?o:(l=o.ownerDocument)?l.defaultView||l.parentWindow:window,s?(s=i,null!==(u=(u=n.relatedTarget||n.toElement)?no(u):null)&&(u!==(d=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=i),s!==u)){if(c=vn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==s?l:oo(s),f=null==u?l:oo(u),(l=new c(m,p+"leave",s,n,o)).target=d,l.relatedTarget=f,m=null,no(o)===i&&((c=new c(h,p+"enter",u,n,o)).target=f,c.relatedTarget=d,m=c),d=m,s&&u)e:{for(h=u,p=0,f=c=s;f;f=Ni(f))p++;for(f=0,m=h;m;m=Ni(m))f++;for(;0<p-f;)c=Ni(c),p--;for(;0<f-p;)h=Ni(h),f--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Ni(c),h=Ni(h)}c=null}else c=null;null!==s&&Bi(a,l,s,c,!1),null!==u&&null!==d&&Bi(a,d,u,c,!0)}if("select"===(s=(l=i?oo(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===s&&"file"===l.type)var g=Zn;else if(Xn(l))if(ei)g=ui;else{g=li;var v=ai}else(s=l.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(g=si);switch(g&&(g=g(e,i))?$n(a,g,n,o):(v&&v(e,l,i),"focusout"===e&&(v=l._wrapperState)&&v.controlled&&"number"===l.type&&oe(l,"number",l.value)),v=i?oo(i):window,e){case"focusin":(Xn(v)||"true"===v.contentEditable)&&(yi=v,wi=i,ki=null);break;case"focusout":ki=wi=yi=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Ei(a,n,o);break;case"selectionchange":if(bi)break;case"keydown":case"keyup":Ei(a,n,o)}var b;if(An)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Un?jn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(b=on()):(tn="value"in(en=o)?en.value:en.textContent,Un=!0)),0<(v=Ai(i,y)).length&&(y=new En(y,e,null,n,o),a.push({event:y,listeners:v}),b?y.data=b:null!==(b=Gn(n))&&(y.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(Wn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!An&&jn(e,t)?(e=on(),nn=tn=en=null,Un=!1,e):null;switch(e){default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Ai(i,"onBeforeInput")).length&&(o=new En("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:i}),o.data=b))}Li(a,t)}))}function Hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ai(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Ie(e,n))&&i.unshift(Hi(e,r,o)),null!=(r=Ie(e,t))&&i.push(Hi(e,r,o))),e=e.return}return i}function Ni(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Bi(e,t,n,i,o){for(var r=t._reactName,a=[];null!==n&&n!==i;){var l=n,s=l.alternate,u=l.stateNode;if(null!==s&&s===i)break;5===l.tag&&null!==u&&(l=u,o?null!=(s=Ie(n,r))&&a.unshift(Hi(n,s,l)):o||null!=(s=Ie(n,r))&&a.push(Hi(n,s,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ii(){}var Vi=null,Wi=null;function ji(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Ui="function"===typeof setTimeout?setTimeout:void 0,qi="function"===typeof clearTimeout?clearTimeout:void 0;function Xi(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $i(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Ki(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qi=0;var Yi=Math.random().toString(36).slice(2),Ji="__reactFiber$"+Yi,Zi="__reactProps$"+Yi,eo="__reactContainer$"+Yi,to="__reactEvents$"+Yi;function no(e){var t=e[Ji];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eo]||n[Ji]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ki(e);null!==e;){if(n=e[Ji])return n;e=Ki(e)}return t}n=(e=n).parentNode}return null}function io(e){return!(e=e[Ji]||e[eo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function oo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function ro(e){return e[Zi]||null}function ao(e){var t=e[to];return void 0===t&&(t=e[to]=new Set),t}var lo=[],so=-1;function uo(e){return{current:e}}function co(e){0>so||(e.current=lo[so],lo[so]=null,so--)}function ho(e,t){so++,lo[so]=e.current,e.current=t}var fo={},po=uo(fo),mo=uo(!1),go=fo;function vo(e,t){var n=e.type.contextTypes;if(!n)return fo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function bo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yo(){co(mo),co(po)}function wo(e,t,n){if(po.current!==fo)throw Error(a(168));ho(po,t),ho(mo,n)}function ko(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in e))throw Error(a(108,X(t)||"Unknown",r));return o({},n,i)}function Co(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,go=po.current,ho(po,e),ho(mo,mo.current),!0}function Eo(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=ko(e,t,go),i.__reactInternalMemoizedMergedChildContext=e,co(mo),co(po),ho(po,e)):co(mo),ho(mo,n)}var xo=null,Ro=null,To=r.unstable_runWithPriority,Mo=r.unstable_scheduleCallback,So=r.unstable_cancelCallback,Lo=r.unstable_shouldYield,Do=r.unstable_requestPaint,Po=r.unstable_now,zo=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,_o=r.unstable_UserBlockingPriority,Oo=r.unstable_NormalPriority,Ho=r.unstable_LowPriority,Ao=r.unstable_IdlePriority,No={},Bo=void 0!==Do?Do:function(){},Io=null,Vo=null,Wo=!1,jo=Po(),Go=1e4>jo?Po:function(){return Po()-jo};function Uo(){switch(zo()){case Fo:return 99;case _o:return 98;case Oo:return 97;case Ho:return 96;case Ao:return 95;default:throw Error(a(332))}}function qo(e){switch(e){case 99:return Fo;case 98:return _o;case 97:return Oo;case 96:return Ho;case 95:return Ao;default:throw Error(a(332))}}function Xo(e,t){return e=qo(e),To(e,t)}function $o(e,t,n){return e=qo(e),Mo(e,t,n)}function Ko(){if(null!==Vo){var e=Vo;Vo=null,So(e)}Qo()}function Qo(){if(!Wo&&null!==Io){Wo=!0;var e=0;try{var t=Io;Xo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Io=null}catch(n){throw null!==Io&&(Io=Io.slice(e+1)),Mo(Fo,Ko),n}finally{Wo=!1}}}var Yo=k.ReactCurrentBatchConfig;function Jo(e,t){if(e&&e.defaultProps){for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Zo=uo(null),er=null,tr=null,nr=null;function ir(){nr=tr=er=null}function or(e){var t=Zo.current;co(Zo),e.type._context._currentValue=t}function rr(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ar(e,t){er=e,nr=tr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Aa=!0),e.firstContext=null)}function lr(e,t){if(nr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(nr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===tr){if(null===er)throw Error(a(308));tr=t,er.dependencies={lanes:0,firstContext:t,responders:null}}else tr=tr.next=t;return e._currentValue}var sr=!1;function ur(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function cr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hr(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=a:r=r.next=a,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pr(e,t,n,i){var r=e.updateQueue;sr=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var u=s,c=u.next;u.next=null,null===l?a=c:l.next=c,l=u;var d=e.alternate;if(null!==d){var h=(d=d.updateQueue).lastBaseUpdate;h!==l&&(null===h?d.firstBaseUpdate=c:h.next=c,d.lastBaseUpdate=u)}}if(null!==a){for(h=r.baseState,l=0,d=c=u=null;;){s=a.lane;var f=a.eventTime;if((i&s)===s){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(s=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=m.payload)?p.call(f,h,s):p)||void 0===s)break e;h=o({},h,s);break e;case 2:sr=!0}}null!==a.callback&&(e.flags|=32,null===(s=r.effects)?r.effects=[a]:s.push(a))}else f={eventTime:f,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=f,u=h):d=d.next=f,l|=s;if(null===(a=a.next)){if(null===(s=r.shared.pending))break;a=s.next,s.next=null,r.lastBaseUpdate=s,r.shared.pending=null}}null===d&&(u=h),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=d,Vl|=l,e.lanes=l,e.memoizedState=h}}function mr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(a(191,o));o.call(i)}}}var gr=(new i.Component).refs;function vr(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:o({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var br={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=hs(),o=fs(e),r=dr(i,o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),hr(e,r),ps(e,o,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=hs(),o=fs(e),r=dr(i,o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),hr(e,r),ps(e,o,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),i=fs(e),o=dr(n,i);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),hr(e,o),ps(e,i,n)}};function yr(e,t,n,i,o,r,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,a):!t.prototype||!t.prototype.isPureReactComponent||(!hi(n,i)||!hi(o,r))}function wr(e,t,n){var i=!1,o=fo,r=t.contextType;return"object"===typeof r&&null!==r?r=lr(r):(o=bo(t)?go:po.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?vo(e,o):fo),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=br,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function kr(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&br.enqueueReplaceState(t,t.state,null)}function Cr(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=gr,ur(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=lr(r):(r=bo(t)?go:po.current,o.context=vo(e,r)),pr(e,n,o,i),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(vr(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&br.enqueueReplaceState(o,o.state,null),pr(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4)}var Er=Array.isArray;function xr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===gr&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Rr(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Tr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=qs(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function l(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,i){return null===t||6!==t.tag?((t=Qs(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=o(t,n.props)).ref=xr(e,t,n),i.return=e,i):((i=Xs(n.type,n.key,n.props,null,e.mode,i)).ref=xr(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ys(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=$s(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Xs(t.type,t.key,t.props,null,e.mode,n)).ref=xr(e,null,t),n.return=e,n;case E:return(t=Ys(t,e.mode,n)).return=e,t}if(Er(t)||W(t))return(t=$s(t,e.mode,n,null)).return=e,t;Rr(e,t)}return null}function f(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==o?null:s(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?n.type===x?d(e,t,n.props.children,i,o):u(e,t,n,i):null;case E:return n.key===o?c(e,t,n,i):null}if(Er(n)||W(n))return null!==o?null:d(e,t,n,i,null);Rr(e,n)}return null}function p(e,t,n,i,o){if("string"===typeof i||"number"===typeof i)return s(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case C:return e=e.get(null===i.key?n:i.key)||null,i.type===x?d(t,e,i.props.children,o,i.key):u(t,e,i,o);case E:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(Er(i)||W(i))return d(t,e=e.get(n)||null,i,o,null);Rr(t,i)}return null}function m(o,a,l,s){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(o,d,l[m],s);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=r(v,a,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===l.length)return n(o,d),u;if(null===d){for(;m<l.length;m++)null!==(d=h(o,l[m],s))&&(a=r(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=i(o,d);m<l.length;m++)null!==(g=p(d,o,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=r(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),u}function g(o,l,s,u){var c=W(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,m=l,g=l=0,v=null,b=s.next();null!==m&&!b.done;g++,b=s.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(o,m,b.value,u);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(o,m),l=r(y,l,g),null===d?c=y:d.sibling=y,d=y,m=v}if(b.done)return n(o,m),c;if(null===m){for(;!b.done;g++,b=s.next())null!==(b=h(o,b.value,u))&&(l=r(b,l,g),null===d?c=b:d.sibling=b,d=b);return c}for(m=i(o,m);!b.done;g++,b=s.next())null!==(b=p(m,o,g,b.value,u))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),l=r(b,l,g),null===d?c=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(o,e)})),c}return function(e,i,r,s){var u="object"===typeof r&&null!==r&&r.type===x&&null===r.key;u&&(r=r.props.children);var c="object"===typeof r&&null!==r;if(c)switch(r.$$typeof){case C:e:{for(c=r.key,u=i;null!==u;){if(u.key===c){if(7===u.tag){if(r.type===x){n(e,u.sibling),(i=o(u,r.props.children)).return=e,e=i;break e}}else if(u.elementType===r.type){n(e,u.sibling),(i=o(u,r.props)).ref=xr(e,u,r),i.return=e,e=i;break e}n(e,u);break}t(e,u),u=u.sibling}r.type===x?((i=$s(r.props.children,e.mode,s,r.key)).return=e,e=i):((s=Xs(r.type,r.key,r.props,null,e.mode,s)).ref=xr(e,i,r),s.return=e,e=s)}return l(e);case E:e:{for(u=r.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===r.containerInfo&&i.stateNode.implementation===r.implementation){n(e,i.sibling),(i=o(i,r.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Ys(r,e.mode,s)).return=e,e=i}return l(e)}if("string"===typeof r||"number"===typeof r)return r=""+r,null!==i&&6===i.tag?(n(e,i.sibling),(i=o(i,r)).return=e,e=i):(n(e,i),(i=Qs(r,e.mode,s)).return=e,e=i),l(e);if(Er(r))return m(e,i,r,s);if(W(r))return g(e,i,r,s);if(c&&Rr(e,r),"undefined"===typeof r&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(e.type)||"Component"))}return n(e,i)}}var Mr=Tr(!0),Sr=Tr(!1),Lr={},Dr=uo(Lr),Pr=uo(Lr),zr=uo(Lr);function Fr(e){if(e===Lr)throw Error(a(174));return e}function _r(e,t){switch(ho(zr,t),ho(Pr,e),ho(Dr,Lr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}co(Dr),ho(Dr,t)}function Or(){co(Dr),co(Pr),co(zr)}function Hr(e){Fr(zr.current);var t=Fr(Dr.current),n=pe(t,e.type);t!==n&&(ho(Pr,e),ho(Dr,n))}function Ar(e){Pr.current===e&&(co(Dr),co(Pr))}var Nr=uo(0);function Br(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ir=null,Vr=null,Wr=!1;function jr(e,t){var n=Gs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Gr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ur(e){if(Wr){var t=Vr;if(t){var n=t;if(!Gr(e,t)){if(!(t=$i(n.nextSibling))||!Gr(e,t))return e.flags=-1025&e.flags|2,Wr=!1,void(Ir=e);jr(Ir,n)}Ir=e,Vr=$i(t.firstChild)}else e.flags=-1025&e.flags|2,Wr=!1,Ir=e}}function qr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ir=e}function Xr(e){if(e!==Ir)return!1;if(!Wr)return qr(e),Wr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gi(t,e.memoizedProps))for(t=Vr;t;)jr(e,t),t=$i(t.nextSibling);if(qr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vr=$i(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vr=null}}else Vr=Ir?$i(e.stateNode.nextSibling):null;return!0}function $r(){Vr=Ir=null,Wr=!1}var Kr=[];function Qr(){for(var e=0;e<Kr.length;e++)Kr[e]._workInProgressVersionPrimary=null;Kr.length=0}var Yr=k.ReactCurrentDispatcher,Jr=k.ReactCurrentBatchConfig,Zr=0,ea=null,ta=null,na=null,ia=!1,oa=!1;function ra(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ci(e[n],t[n]))return!1;return!0}function la(e,t,n,i,o,r){if(Zr=r,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yr.current=null===e||null===e.memoizedState?Fa:_a,e=n(i,o),oa){r=0;do{if(oa=!1,!(25>r))throw Error(a(301));r+=1,na=ta=null,t.updateQueue=null,Yr.current=Oa,e=n(i,o)}while(oa)}if(Yr.current=za,t=null!==ta&&null!==ta.next,Zr=0,na=ta=ea=null,ia=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ua(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ca(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=ta,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var l=o.next;o.next=r.next,r.next=l}i.baseQueue=o=r,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var s=l=r=null,u=o;do{var c=u.lane;if((Zr&c)===c)null!==s&&(s=s.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),i=u.eagerReducer===e?u.eagerState:e(i,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===s?(l=s=d,r=i):s=s.next=d,ea.lanes|=c,Vl|=c}u=u.next}while(null!==u&&u!==o);null===s?r=i:s.next=l,ci(i,t.memoizedState)||(Aa=!0),t.memoizedState=i,t.baseState=r,t.baseQueue=s,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ha(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var l=o=o.next;do{r=e(r,l.action),l=l.next}while(l!==o);ci(r,t.memoizedState)||(Aa=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function fa(e,t,n){var i=t._getVersion;i=i(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===i:(e=e.mutableReadLanes,(e=(Zr&e)===e)&&(t._workInProgressVersionPrimary=i,Kr.push(t))),e)return n(t._source);throw Kr.push(t),Error(a(350))}function pa(e,t,n,i){var o=Fl;if(null===o)throw Error(a(349));var r=t._getVersion,l=r(t._source),s=Yr.current,u=s.useState((function(){return fa(o,t,n)})),c=u[1],d=u[0];u=na;var h=e.memoizedState,f=h.refs,p=f.getSnapshot,m=h.source;h=h.subscribe;var g=ea;return e.memoizedState={refs:f,source:t,subscribe:i},s.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=r(t._source);if(!ci(l,e)){e=n(t._source),ci(d,e)||(c(e),e=fs(g),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var i=o.entanglements,a=e;0<a;){var s=31-Gt(a),u=1<<s;i[s]|=e,a&=~u}}}),[n,t,i]),s.useEffect((function(){return i(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var i=fs(g);o.mutableReadLanes|=i&o.pendingLanes}catch(r){n((function(){throw r}))}}))}),[t,i]),ci(p,n)&&ci(m,t)&&ci(h,i)||((e={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:d}).dispatch=c=Pa.bind(null,ea,e),u.queue=e,u.baseQueue=null,d=fa(o,t,n),u.memoizedState=u.baseState=d),d}function ma(e,t,n){return pa(ua(),e,t,n)}function ga(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ca,lastRenderedState:e}).dispatch=Pa.bind(null,ea,e),[t.memoizedState,e]}function va(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ba(e){return e={current:e},sa().memoizedState=e}function ya(){return ua().memoizedState}function wa(e,t,n,i){var o=sa();ea.flags|=e,o.memoizedState=va(1|t,n,void 0,void 0===i?null:i)}function ka(e,t,n,i){var o=ua();i=void 0===i?null:i;var r=void 0;if(null!==ta){var a=ta.memoizedState;if(r=a.destroy,null!==i&&aa(i,a.deps))return void va(t,n,r,i)}ea.flags|=e,o.memoizedState=va(1|t,n,r,i)}function Ca(e,t){return wa(516,4,e,t)}function Ea(e,t){return ka(516,4,e,t)}function xa(e,t){return ka(4,2,e,t)}function Ra(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ta(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ka(4,2,Ra.bind(null,t,e),n)}function Ma(){}function Sa(e,t){var n=ua();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&aa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function La(e,t){var n=ua();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&aa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Da(e,t){var n=Uo();Xo(98>n?98:n,(function(){e(!0)})),Xo(97<n?97:n,(function(){var n=Jr.transition;Jr.transition=1;try{e(!1),t()}finally{Jr.transition=n}}))}function Pa(e,t,n){var i=hs(),o=fs(e),r={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?r.next=r:(r.next=a.next,a.next=r),t.pending=r,a=e.alternate,e===ea||null!==a&&a===ea)oa=ia=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,s=a(l,n);if(r.eagerReducer=a,r.eagerState=s,ci(s,l))return}catch(u){}ps(e,o,i)}}var za={readContext:lr,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useMutableSource:ra,useOpaqueIdentifier:ra,unstable_isNewReconciler:!1},Fa={readContext:lr,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:lr,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ra.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=sa();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Pa.bind(null,ea,e),[i.memoizedState,e]},useRef:ba,useState:ga,useDebugValue:Ma,useDeferredValue:function(e){var t=ga(e),n=t[0],i=t[1];return Ca((function(){var t=Jr.transition;Jr.transition=1;try{i(e)}finally{Jr.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ba(e=Da.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=sa();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(i,e,t,n)},useOpaqueIdentifier:function(){if(Wr){var e=!1,t=function(e){return{$$typeof:O,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qi++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,va(5,(function(){n("r:"+(Qi++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Qi++).toString(36)),t},unstable_isNewReconciler:!1},_a={readContext:lr,useCallback:Sa,useContext:lr,useEffect:Ea,useImperativeHandle:Ta,useLayoutEffect:xa,useMemo:La,useReducer:da,useRef:ya,useState:function(){return da(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=da(ca),n=t[0],i=t[1];return Ea((function(){var t=Jr.transition;Jr.transition=1;try{i(e)}finally{Jr.transition=t}}),[e]),n},useTransition:function(){var e=da(ca)[0];return[ya().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(ca)[0]},unstable_isNewReconciler:!1},Oa={readContext:lr,useCallback:Sa,useContext:lr,useEffect:Ea,useImperativeHandle:Ta,useLayoutEffect:xa,useMemo:La,useReducer:ha,useRef:ya,useState:function(){return ha(ca)},useDebugValue:Ma,useDeferredValue:function(e){var t=ha(ca),n=t[0],i=t[1];return Ea((function(){var t=Jr.transition;Jr.transition=1;try{i(e)}finally{Jr.transition=t}}),[e]),n},useTransition:function(){var e=ha(ca)[0];return[ya().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return ha(ca)[0]},unstable_isNewReconciler:!1},Ha=k.ReactCurrentOwner,Aa=!1;function Na(e,t,n,i){t.child=null===e?Sr(t,null,n,i):Mr(t,e.child,n,i)}function Ba(e,t,n,i,o){n=n.render;var r=t.ref;return ar(t,o),i=la(e,t,n,i,r,o),null===e||Aa?(t.flags|=1,Na(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rl(e,t,o))}function Ia(e,t,n,i,o,r){if(null===e){var a=n.type;return"function"!==typeof a||Us(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xs(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,i,o,r))}return a=e.child,0===(o&r)&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:hi)(o,i)&&e.ref===t.ref)?rl(e,t,r):(t.flags|=1,(e=qs(a,i)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,i,o,r){if(null!==e&&hi(e.memoizedProps,i)&&e.ref===t.ref){if(Aa=!1,0===(r&o))return t.lanes=e.lanes,rl(e,t,r);0!==(16384&e.flags)&&(Aa=!0)}return Ga(e,t,n,i,r)}function Wa(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Cs(t,n);else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Cs(t,e),null;t.memoizedState={baseLanes:0},Cs(t,null!==r?r.baseLanes:n)}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Cs(t,i);return Na(e,t,o,n),t.child}function ja(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ga(e,t,n,i,o){var r=bo(n)?go:po.current;return r=vo(t,r),ar(t,o),n=la(e,t,n,i,r,o),null===e||Aa?(t.flags|=1,Na(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,rl(e,t,o))}function Ua(e,t,n,i,o){if(bo(n)){var r=!0;Co(t)}else r=!1;if(ar(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wr(t,n,i),Cr(t,n,i,o),i=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=lr(u):u=vo(t,u=bo(n)?go:po.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==i||s!==u)&&kr(t,a,i,u),sr=!1;var h=t.memoizedState;a.state=h,pr(t,i,a,o),s=t.memoizedState,l!==i||h!==s||mo.current||sr?("function"===typeof c&&(vr(t,n,c,i),s=t.memoizedState),(l=sr||yr(t,n,l,i,h,s,u))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=s),a.props=i,a.state=s,a.context=u,i=l):("function"===typeof a.componentDidMount&&(t.flags|=4),i=!1)}else{a=t.stateNode,cr(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Jo(t.type,l),a.props=u,d=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=lr(s):s=vo(t,s=bo(n)?go:po.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(l!==d||h!==s)&&kr(t,a,i,s),sr=!1,h=t.memoizedState,a.state=h,pr(t,i,a,o);var p=t.memoizedState;l!==d||h!==p||mo.current||sr?("function"===typeof f&&(vr(t,n,f,i),p=t.memoizedState),(u=sr||yr(t,n,u,i,h,p,s))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=s,i=u):("function"!==typeof a.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return qa(e,t,n,i,r,o)}function qa(e,t,n,i,o,r){ja(e,t);var a=0!==(64&t.flags);if(!i&&!a)return o&&Eo(t,n,!1),rl(e,t,r);i=t.stateNode,Ha.current=t;var l=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Mr(t,e.child,null,r),t.child=Mr(t,null,l,r)):Na(e,t,l,r),t.memoizedState=i.state,o&&Eo(t,n,!0),t.child}function Xa(e){var t=e.stateNode;t.pendingContext?wo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(0,t.context,!1),_r(e,t.containerInfo)}var $a,Ka,Qa,Ya={dehydrated:null,retryLane:0};function Ja(e,t,n){var i,o=t.pendingProps,r=Nr.current,a=!1;return(i=0!==(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!==(2&r)),i?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(r|=1),ho(Nr,1&r),null===e?(void 0!==o.fallback&&Ur(t),e=o.children,r=o.fallback,a?(e=Za(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof o.unstable_expectedLoadTime?(e=Za(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Ks({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(o=tl(e,t,o.children,o.fallback,n),a=t.child,r=e.child.memoizedState,a.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,o):(n=el(e,t,o.children,n),t.memoizedState=null,n))}function Za(e,t,n,i){var o=e.mode,r=e.child;return t={mode:"hidden",children:t},0===(2&o)&&null!==r?(r.childLanes=0,r.pendingProps=t):r=Ks(t,o,0,null),n=$s(n,o,i,null),r.return=e,n.return=e,r.sibling=n,e.child=r,n}function el(e,t,n,i){var o=e.child;return e=o.sibling,n=qs(o,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tl(e,t,n,i,o){var r=t.mode,a=e.child;e=a.sibling;var l={mode:"hidden",children:n};return 0===(2&r)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=l,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=qs(a,l),null!==e?i=qs(e,i):(i=$s(i,r,o,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function nl(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rr(e.return,t)}function il(e,t,n,i,o,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,lastEffect:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o,a.lastEffect=r)}function ol(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(Na(e,t,i.children,n),0!==(2&(i=Nr.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n);else if(19===e.tag)nl(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ho(Nr,i),0===(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Br(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),il(t,!1,o,n,r,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Br(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}il(t,!0,n,null,r,t.lastEffect);break;case"together":il(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function rl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vl|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=qs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function al(e,t){if(!Wr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ll(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return bo(t.type)&&yo(),null;case 3:return Or(),co(mo),co(po),Qr(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(Xr(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:Ar(t);var r=Fr(zr.current);if(n=t.type,null!==e&&null!=t.stateNode)Ka(e,t,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Fr(Dr.current),Xr(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Ji]=t,i[Zi]=l,n){case"dialog":Di("cancel",i),Di("close",i);break;case"iframe":case"object":case"embed":Di("load",i);break;case"video":case"audio":for(e=0;e<Ti.length;e++)Di(Ti[e],i);break;case"source":Di("error",i);break;case"img":case"image":case"link":Di("error",i),Di("load",i);break;case"details":Di("toggle",i);break;case"input":ee(i,l),Di("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},Di("invalid",i);break;case"textarea":se(i,l),Di("invalid",i)}for(var u in xe(n,l),e=null,l)l.hasOwnProperty(u)&&(r=l[u],"children"===u?"string"===typeof r?i.textContent!==r&&(e=["children",r]):"number"===typeof r&&i.textContent!==""+r&&(e=["children",""+r]):s.hasOwnProperty(u)&&null!=r&&"onScroll"===u&&Di("scroll",i));switch(n){case"input":Q(i),ie(i,l,!0);break;case"textarea":Q(i),ce(i);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(i.onclick=Ii)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),"select"===n&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[Ji]=t,e[Zi]=i,$a(e,t),t.stateNode=e,u=Re(n,i),n){case"dialog":Di("cancel",e),Di("close",e),r=i;break;case"iframe":case"object":case"embed":Di("load",e),r=i;break;case"video":case"audio":for(r=0;r<Ti.length;r++)Di(Ti[r],e);r=i;break;case"source":Di("error",e),r=i;break;case"img":case"image":case"link":Di("error",e),Di("load",e),r=i;break;case"details":Di("toggle",e),r=i;break;case"input":ee(e,i),r=Z(e,i),Di("invalid",e);break;case"option":r=re(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=o({},i,{value:void 0}),Di("invalid",e);break;case"textarea":se(e,i),r=le(e,i),Di("invalid",e);break;default:r=i}xe(n,r);var c=r;for(l in c)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?Ce(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&be(e,d):"number"===typeof d&&be(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?null!=d&&"onScroll"===l&&Di("scroll",e):null!=d&&w(e,l,d,u))}switch(n){case"input":Q(e),ie(e,i,!1);break;case"textarea":Q(e),ce(e);break;case"option":null!=i.value&&e.setAttribute("value",""+$(i.value));break;case"select":e.multiple=!!i.multiple,null!=(l=i.value)?ae(e,!!i.multiple,l,!1):null!=i.defaultValue&&ae(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Ii)}ji(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qa(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=Fr(zr.current),Fr(Dr.current),Xr(t)?(i=t.stateNode,n=t.memoizedProps,i[Ji]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[Ji]=t,t.stateNode=i)}return null;case 13:return co(Nr),i=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xr(t):n=null!==e.memoizedState,i&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Nr.current)?0===Nl&&(Nl=3):(0!==Nl&&3!==Nl||(Nl=4),null===Fl||0===(134217727&Vl)&&0===(134217727&Wl)||bs(Fl,Ol))),(i||n)&&(t.flags|=4),null);case 4:return Or(),null===e&&zi(t.stateNode.containerInfo),null;case 10:return or(t),null;case 19:if(co(Nr),null===(i=t.memoizedState))return null;if(l=0!==(64&t.flags),null===(u=i.rendering))if(l)al(i,!1);else{if(0!==Nl||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Br(e))){for(t.flags|=64,al(i,!1),null!==(l=u.updateQueue)&&(t.updateQueue=l,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(l=n).flags&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(u=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=u.childLanes,l.lanes=u.lanes,l.child=u.child,l.memoizedProps=u.memoizedProps,l.memoizedState=u.memoizedState,l.updateQueue=u.updateQueue,l.type=u.type,e=u.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ho(Nr,1&Nr.current|2),t.child}e=e.sibling}null!==i.tail&&Go()>ql&&(t.flags|=64,l=!0,al(i,!1),t.lanes=33554432)}else{if(!l)if(null!==(e=Br(u))){if(t.flags|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),al(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate&&!Wr)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Go()-i.renderingStartTime>ql&&1073741824!==n&&(t.flags|=64,l=!0,al(i,!1),t.lanes=33554432);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=i.last)?n.sibling=u:t.child=u,i.last=u)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Go(),n.sibling=null,t=Nr.current,ho(Nr,l?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function sl(e){switch(e.tag){case 1:bo(e.type)&&yo();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Or(),co(mo),co(po),Qr(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Ar(e),null;case 13:return co(Nr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return co(Nr),null;case 4:return Or(),null;case 10:return or(e),null;case 23:case 24:return Es(),null;default:return null}}function ul(e,t){try{var n="",i=t;do{n+=q(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o}}function cl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$a=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Fr(Dr.current);var a,l=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),l=[];break;case"option":r=re(e,r),i=re(e,i),l=[];break;case"select":r=o({},r,{value:void 0}),i=o({},i,{value:void 0}),l=[];break;case"textarea":r=le(e,r),i=le(e,i),l=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Ii)}for(d in xe(n,i),n=null,r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var u=r[d];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(s.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in i){var c=i[d];if(u=null!=r?r[d]:void 0,i.hasOwnProperty(d)&&c!==u&&(null!=c||null!=u))if("style"===d)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(s.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Di("scroll",e),l||u===c||(l=[])):"object"===typeof c&&null!==c&&c.$$typeof===O?c.toString():(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Qa=function(e,t,n,i){n!==i&&(t.flags|=4)};var dl="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,n){(n=dr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ql||(Ql=!0,Yl=i),cl(0,t)},n}function fl(e,t,n){(n=dr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var o=t.value;n.payload=function(){return cl(0,t),i(o)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Jl?Jl=new Set([this]):Jl.add(this),cl(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pl="function"===typeof WeakSet?WeakSet:Set;function ml(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Is(e,n)}else t.current=null}function gl(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Jo(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xi(t.stateNode.containerInfo))}throw Error(a(163))}function vl(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;i=o.next,0!==(4&(o=o.tag))&&0!==(1&o)&&(As(n,e),Hs(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:Jo(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mr(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mr(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&ji(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Ct(n)))))}throw Error(a(163))}function bl(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"===typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var o=n.memoizedProps.style;o=void 0!==o&&null!==o&&o.hasOwnProperty("display")?o.display:null,i.style.display=ke("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function yl(e,t){if(Ro&&"function"===typeof Ro.onCommitFiberUnmount)try{Ro.onCommitFiberUnmount(xo,t)}catch(r){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,o=i.destroy;if(i=i.tag,void 0!==o)if(0!==(4&i))As(t,n);else{i=t;try{o()}catch(r){Is(i,r)}}n=n.next}while(n!==e)}break;case 1:if(ml(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(r){Is(t,r)}break;case 5:ml(t);break;case 4:Rl(e,t)}}function wl(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function kl(e){return 5===e.tag||3===e.tag||4===e.tag}function Cl(e){e:{for(var t=e.return;null!==t;){if(kl(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.flags&&(be(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||kl(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?El(e,n,t):xl(e,n,t)}function El(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ii));else if(4!==i&&null!==(e=e.child))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function xl(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(xl(e,t,n),e=e.sibling;null!==e;)xl(e,t,n),e=e.sibling}function Rl(e,t){for(var n,i,o=t,r=!1;;){if(!r){r=o.return;e:for(;;){if(null===r)throw Error(a(160));switch(n=r.stateNode,r.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===o.tag||6===o.tag){e:for(var l=e,s=o,u=s;;)if(yl(l,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===s)break e;for(;null===u.sibling;){if(null===u.return||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}i?(l=n,s=o.stateNode,8===l.nodeType?l.parentNode.removeChild(s):l.removeChild(s)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(yl(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(r=!1)}o.sibling.return=o.return,o=o.sibling}}function Tl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3===(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var o=null!==e?e.memoizedProps:i;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[Zi]=i,"input"===e&&"radio"===i.type&&null!=i.name&&te(n,i),Re(e,o),t=Re(e,i),o=0;o<r.length;o+=2){var l=r[o],s=r[o+1];"style"===l?Ce(n,s):"dangerouslySetInnerHTML"===l?ve(n,s):"children"===l?be(n,s):w(n,l,s,t)}switch(e){case"input":ne(n,i);break;case"textarea":ue(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?ae(n,!!i.multiple,r,!1):e!==!!i.multiple&&(null!=i.defaultValue?ae(n,!!i.multiple,i.defaultValue,!0):ae(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Ct(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ul=Go(),bl(t.child,!0)),void Ml(t);case 19:return void Ml(t);case 23:case 24:return void bl(t,null!==t.memoizedState)}throw Error(a(163))}function Ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pl),t.forEach((function(t){var i=Ws.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Sl(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ll=Math.ceil,Dl=k.ReactCurrentDispatcher,Pl=k.ReactCurrentOwner,zl=0,Fl=null,_l=null,Ol=0,Hl=0,Al=uo(0),Nl=0,Bl=null,Il=0,Vl=0,Wl=0,jl=0,Gl=null,Ul=0,ql=1/0;function Xl(){ql=Go()+500}var $l,Kl=null,Ql=!1,Yl=null,Jl=null,Zl=!1,es=null,ts=90,ns=[],is=[],os=null,rs=0,as=null,ls=-1,ss=0,us=0,cs=null,ds=!1;function hs(){return 0!==(48&zl)?Go():-1!==ls?ls:ls=Go()}function fs(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Uo()?1:2;if(0===ss&&(ss=Il),0!==Yo.transition){0!==us&&(us=null!==Gl?Gl.pendingLanes:0),e=ss;var t=4186112&~us;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Uo(),0!==(4&zl)&&98===e?e=It(12,ss):e=It(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<rs)throw rs=0,as=null,Error(a(185));if(null===(e=ms(e,t)))return null;jt(e,t,n),e===Fl&&(Wl|=t,4===Nl&&bs(e,Ol));var i=Uo();1===t?0!==(8&zl)&&0===(48&zl)?ys(e):(gs(e,n),0===zl&&(Xl(),Ko())):(0===(4&zl)||98!==i&&99!==i||(null===os?os=new Set([e]):os.add(e)),gs(e,n)),Gl=e}function ms(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gs(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,l=e.pendingLanes;0<l;){var s=31-Gt(l),u=1<<s,c=r[s];if(-1===c){if(0===(u&i)||0!==(u&o)){c=t,At(u);var d=Ht;r[s]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);l&=~u}if(i=Nt(e,e===Fl?Ol:0),t=Ht,0===i)null!==n&&(n!==No&&So(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==No&&So(n)}15===t?(n=ys.bind(null,e),null===Io?(Io=[n],Vo=Mo(Fo,Qo)):Io.push(n),n=No):14===t?n=$o(99,ys.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=$o(n,vs.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vs(e){if(ls=-1,us=ss=0,0!==(48&zl))throw Error(a(327));var t=e.callbackNode;if(Os()&&e.callbackNode!==t)return null;var n=Nt(e,e===Fl?Ol:0);if(0===n)return null;var i=n,o=zl;zl|=16;var r=Ts();for(Fl===e&&Ol===i||(Xl(),xs(e,i));;)try{Ls();break}catch(s){Rs(e,s)}if(ir(),Dl.current=r,zl=o,null!==_l?i=0:(Fl=null,Ol=0,i=Nl),0!==(Il&Wl))xs(e,0);else if(0!==i){if(2===i&&(zl|=64,e.hydrate&&(e.hydrate=!1,Xi(e.containerInfo)),0!==(n=Bt(e))&&(i=Ms(e,n))),1===i)throw t=Bl,xs(e,0),bs(e,n),gs(e,Go()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(a(345));case 2:case 5:zs(e);break;case 3:if(bs(e,n),(62914560&n)===n&&10<(i=Ul+500-Go())){if(0!==Nt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ui(zs.bind(null,e),i);break}zs(e);break;case 4:if(bs(e,n),(4186112&n)===n)break;for(i=e.eventTimes,o=-1;0<n;){var l=31-Gt(n);r=1<<l,(l=i[l])>o&&(o=l),n&=~r}if(n=o,10<(n=(120>(n=Go()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ll(n/1960))-n)){e.timeoutHandle=Ui(zs.bind(null,e),n);break}zs(e);break;default:throw Error(a(329))}}return gs(e,Go()),e.callbackNode===t?vs.bind(null,e):null}function bs(e,t){for(t&=~jl,t&=~Wl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gt(t),i=1<<n;e[n]=-1,t&=~i}}function ys(e){if(0!==(48&zl))throw Error(a(327));if(Os(),e===Fl&&0!==(e.expiredLanes&Ol)){var t=Ol,n=Ms(e,t);0!==(Il&Wl)&&(n=Ms(e,t=Nt(e,t)))}else n=Ms(e,t=Nt(e,0));if(0!==e.tag&&2===n&&(zl|=64,e.hydrate&&(e.hydrate=!1,Xi(e.containerInfo)),0!==(t=Bt(e))&&(n=Ms(e,t))),1===n)throw n=Bl,xs(e,0),bs(e,t),gs(e,Go()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,zs(e),gs(e,Go()),null}function ws(e,t){var n=zl;zl|=1;try{return e(t)}finally{0===(zl=n)&&(Xl(),Ko())}}function ks(e,t){var n=zl;zl&=-2,zl|=8;try{return e(t)}finally{0===(zl=n)&&(Xl(),Ko())}}function Cs(e,t){ho(Al,Hl),Hl|=t,Il|=t}function Es(){Hl=Al.current,co(Al)}function xs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qi(n)),null!==_l)for(n=_l.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&yo();break;case 3:Or(),co(mo),co(po),Qr();break;case 5:Ar(i);break;case 4:Or();break;case 13:case 19:co(Nr);break;case 10:or(i);break;case 23:case 24:Es()}n=n.return}Fl=e,_l=qs(e.current,null),Ol=Hl=Il=t,Nl=0,Bl=null,jl=Wl=Vl=0}function Rs(e,t){for(;;){var n=_l;try{if(ir(),Yr.current=za,ia){for(var i=ea.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ia=!1}if(Zr=0,na=ta=ea=null,oa=!1,Pl.current=null,null===n||null===n.return){Nl=1,Bl=t,_l=null;break}e:{var r=e,a=n.return,l=n,s=t;if(t=Ol,l.flags|=2048,l.firstEffect=l.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&l.mode)){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.lanes=c.lanes):(l.updateQueue=null,l.memoizedState=null)}var d=0!==(1&Nr.current),h=a;do{var f;if(f=13===h.tag){var p=h.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=h.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=h.updateQueue;if(null===g){var v=new Set;v.add(u),h.updateQueue=v}else g.add(u);if(0===(2&h.mode)){if(h.flags|=64,l.flags|=16384,l.flags&=-2981,1===l.tag)if(null===l.alternate)l.tag=17;else{var b=dr(-1,1);b.tag=2,hr(l,b)}l.lanes|=1;break e}s=void 0,l=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new dl,s=new Set,y.set(u,s)):void 0===(s=y.get(u))&&(s=new Set,y.set(u,s)),!s.has(l)){s.add(l);var w=Vs.bind(null,r,u,l);u.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((X(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Nl&&(Nl=2),s=ul(s,l),h=a;do{switch(h.tag){case 3:r=s,h.flags|=4096,t&=-t,h.lanes|=t,fr(h,hl(0,r,t));break e;case 1:r=s;var k=h.type,C=h.stateNode;if(0===(64&h.flags)&&("function"===typeof k.getDerivedStateFromError||null!==C&&"function"===typeof C.componentDidCatch&&(null===Jl||!Jl.has(C)))){h.flags|=4096,t&=-t,h.lanes|=t,fr(h,fl(h,r,t));break e}}h=h.return}while(null!==h)}Ps(n)}catch(E){t=E,_l===n&&null!==n&&(_l=n=n.return);continue}break}}function Ts(){var e=Dl.current;return Dl.current=za,null===e?za:e}function Ms(e,t){var n=zl;zl|=16;var i=Ts();for(Fl===e&&Ol===t||xs(e,t);;)try{Ss();break}catch(o){Rs(e,o)}if(ir(),zl=n,Dl.current=i,null!==_l)throw Error(a(261));return Fl=null,Ol=0,Nl}function Ss(){for(;null!==_l;)Ds(_l)}function Ls(){for(;null!==_l&&!Lo();)Ds(_l)}function Ds(e){var t=$l(e.alternate,e,Hl);e.memoizedProps=e.pendingProps,null===t?Ps(e):_l=t,Pl.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ll(n,t,Hl)))return void(_l=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Hl)||0===(4&n.mode)){for(var i=0,o=n.child;null!==o;)i|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=i}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sl(t)))return n.flags&=2047,void(_l=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(_l=t);_l=t=e}while(null!==t);0===Nl&&(Nl=5)}function zs(e){var t=Uo();return Xo(99,Fs.bind(null,e,t)),null}function Fs(e,t){do{Os()}while(null!==es);if(0!==(48&zl))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var i=n.lanes|n.childLanes,o=i,r=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var l=e.eventTimes,s=e.expirationTimes;0<r;){var u=31-Gt(r),c=1<<u;o[u]=0,l[u]=-1,s[u]=-1,r&=~c}if(null!==os&&0===(24&i)&&os.has(e)&&os.delete(e),e===Fl&&(_l=Fl=null,Ol=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(o=zl,zl|=32,Pl.current=null,Vi=Kt,vi(l=gi())){if("selectionStart"in l)s={start:l.selectionStart,end:l.selectionEnd};else e:if(s=(s=l.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,r=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{s.nodeType,u.nodeType}catch(T){s=null;break e}var d=0,h=-1,f=-1,p=0,m=0,g=l,v=null;t:for(;;){for(var b;g!==s||0!==r&&3!==g.nodeType||(h=d+r),g!==u||0!==c&&3!==g.nodeType||(f=d+c),3===g.nodeType&&(d+=g.nodeValue.length),null!==(b=g.firstChild);)v=g,g=b;for(;;){if(g===l)break t;if(v===s&&++p===r&&(h=d),v===u&&++m===c&&(f=d),null!==(b=g.nextSibling))break;v=(g=v).parentNode}g=b}s=-1===h||-1===f?null:{start:h,end:f}}else s=null;s=s||{start:0,end:0}}else s=null;Wi={focusedElem:l,selectionRange:s},Kt=!1,cs=null,ds=!1,Kl=i;do{try{_s()}catch(T){if(null===Kl)throw Error(a(330));Is(Kl,T),Kl=Kl.nextEffect}}while(null!==Kl);cs=null,Kl=i;do{try{for(l=e;null!==Kl;){var y=Kl.flags;if(16&y&&be(Kl.stateNode,""),128&y){var w=Kl.alternate;if(null!==w){var k=w.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&y){case 2:Cl(Kl),Kl.flags&=-3;break;case 6:Cl(Kl),Kl.flags&=-3,Tl(Kl.alternate,Kl);break;case 1024:Kl.flags&=-1025;break;case 1028:Kl.flags&=-1025,Tl(Kl.alternate,Kl);break;case 4:Tl(Kl.alternate,Kl);break;case 8:Rl(l,s=Kl);var C=s.alternate;wl(s),null!==C&&wl(C)}Kl=Kl.nextEffect}}catch(T){if(null===Kl)throw Error(a(330));Is(Kl,T),Kl=Kl.nextEffect}}while(null!==Kl);if(k=Wi,w=gi(),y=k.focusedElem,l=k.selectionRange,w!==y&&y&&y.ownerDocument&&mi(y.ownerDocument.documentElement,y)){null!==l&&vi(y)&&(w=l.start,void 0===(k=l.end)&&(k=w),"selectionStart"in y?(y.selectionStart=w,y.selectionEnd=Math.min(k,y.value.length)):(k=(w=y.ownerDocument||document)&&w.defaultView||window).getSelection&&(k=k.getSelection(),s=y.textContent.length,C=Math.min(l.start,s),l=void 0===l.end?C:Math.min(l.end,s),!k.extend&&C>l&&(s=l,l=C,C=s),s=pi(y,C),r=pi(y,l),s&&r&&(1!==k.rangeCount||k.anchorNode!==s.node||k.anchorOffset!==s.offset||k.focusNode!==r.node||k.focusOffset!==r.offset)&&((w=w.createRange()).setStart(s.node,s.offset),k.removeAllRanges(),C>l?(k.addRange(w),k.extend(r.node,r.offset)):(w.setEnd(r.node,r.offset),k.addRange(w))))),w=[];for(k=y;k=k.parentNode;)1===k.nodeType&&w.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<w.length;y++)(k=w[y]).element.scrollLeft=k.left,k.element.scrollTop=k.top}Kt=!!Vi,Wi=Vi=null,e.current=n,Kl=i;do{try{for(y=e;null!==Kl;){var E=Kl.flags;if(36&E&&vl(y,Kl.alternate,Kl),128&E){w=void 0;var x=Kl.ref;if(null!==x){var R=Kl.stateNode;Kl.tag,w=R,"function"===typeof x?x(w):x.current=w}}Kl=Kl.nextEffect}}catch(T){if(null===Kl)throw Error(a(330));Is(Kl,T),Kl=Kl.nextEffect}}while(null!==Kl);Kl=null,Bo(),zl=o}else e.current=n;if(Zl)Zl=!1,es=e,ts=t;else for(Kl=i;null!==Kl;)t=Kl.nextEffect,Kl.nextEffect=null,8&Kl.flags&&((E=Kl).sibling=null,E.stateNode=null),Kl=t;if(0===(i=e.pendingLanes)&&(Jl=null),1===i?e===as?rs++:(rs=0,as=e):rs=0,n=n.stateNode,Ro&&"function"===typeof Ro.onCommitFiberRoot)try{Ro.onCommitFiberRoot(xo,n,void 0,64===(64&n.current.flags))}catch(T){}if(gs(e,Go()),Ql)throw Ql=!1,e=Yl,Yl=null,e;return 0!==(8&zl)||Ko(),null}function _s(){for(;null!==Kl;){var e=Kl.alternate;ds||null===cs||(0!==(8&Kl.flags)?et(Kl,cs)&&(ds=!0):13===Kl.tag&&Sl(e,Kl)&&et(Kl,cs)&&(ds=!0));var t=Kl.flags;0!==(256&t)&&gl(e,Kl),0===(512&t)||Zl||(Zl=!0,$o(97,(function(){return Os(),null}))),Kl=Kl.nextEffect}}function Os(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Xo(e,Ns)}return!1}function Hs(e,t){ns.push(t,e),Zl||(Zl=!0,$o(97,(function(){return Os(),null})))}function As(e,t){is.push(t,e),Zl||(Zl=!0,$o(97,(function(){return Os(),null})))}function Ns(){if(null===es)return!1;var e=es;if(es=null,0!==(48&zl))throw Error(a(331));var t=zl;zl|=32;var n=is;is=[];for(var i=0;i<n.length;i+=2){var o=n[i],r=n[i+1],l=o.destroy;if(o.destroy=void 0,"function"===typeof l)try{l()}catch(u){if(null===r)throw Error(a(330));Is(r,u)}}for(n=ns,ns=[],i=0;i<n.length;i+=2){o=n[i],r=n[i+1];try{var s=o.create;o.destroy=s()}catch(u){if(null===r)throw Error(a(330));Is(r,u)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return zl=t,Ko(),!0}function Bs(e,t,n){hr(e,t=hl(0,t=ul(n,t),1)),t=hs(),null!==(e=ms(e,1))&&(jt(e,1,t),gs(e,t))}function Is(e,t){if(3===e.tag)Bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Bs(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Jl||!Jl.has(i))){var o=fl(n,e=ul(t,e),1);if(hr(n,o),o=hs(),null!==(n=ms(n,1)))jt(n,1,o),gs(n,o);else if("function"===typeof i.componentDidCatch&&(null===Jl||!Jl.has(i)))try{i.componentDidCatch(t,e)}catch(r){}break}}n=n.return}}function Vs(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Fl===e&&(Ol&n)===n&&(4===Nl||3===Nl&&(62914560&Ol)===Ol&&500>Go()-Ul?xs(e,0):jl|=n),gs(e,t)}function Ws(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Uo()?1:2:(0===ss&&(ss=Il),0===(t=Vt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=ms(e,t))&&(jt(e,t,n),gs(e,n))}function js(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gs(e,t,n,i){return new js(e,t,n,i)}function Us(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qs(e,t){var n=e.alternate;return null===n?((n=Gs(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xs(e,t,n,i,o,r){var l=2;if(i=e,"function"===typeof e)Us(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case x:return $s(n.children,o,r,t);case H:l=8,o|=16;break;case R:l=8,o|=1;break;case T:return(e=Gs(12,n,t,8|o)).elementType=T,e.type=T,e.lanes=r,e;case D:return(e=Gs(13,n,t,o)).type=D,e.elementType=D,e.lanes=r,e;case P:return(e=Gs(19,n,t,o)).elementType=P,e.lanes=r,e;case A:return Ks(n,o,r,t);case N:return(e=Gs(24,n,t,o)).elementType=N,e.lanes=r,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:l=10;break e;case S:l=9;break e;case L:l=11;break e;case z:l=14;break e;case F:l=16,i=null;break e;case _:l=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Gs(l,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function $s(e,t,n,i){return(e=Gs(7,e,i,t)).lanes=n,e}function Ks(e,t,n,i){return(e=Gs(23,e,i,t)).elementType=A,e.lanes=n,e}function Qs(e,t,n){return(e=Gs(6,e,null,t)).lanes=n,e}function Ys(e,t,n){return(t=Gs(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Wt(0),this.expirationTimes=Wt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,i){var o=t.current,r=hs(),l=fs(o);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(bo(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var u=n.type;if(bo(u)){n=ko(n,u,s);break e}}n=s}else n=fo;return null===t.context?t.context=n:t.pendingContext=n,(t=dr(r,l)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),hr(o,t),ps(o,l,r),l}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function iu(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function ou(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Gs(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ur(t),e[eo]=n.current,zi(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var o=(t=i[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function ru(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function au(e,t,n,i,o){var r=n._reactRootContainer;if(r){var a=r._internalRoot;if("function"===typeof o){var l=o;o=function(){var e=tu(a);l.call(e)}}eu(t,a,e,o)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ou(e,0,t?{hydrate:!0}:void 0)}(n,i),a=r._internalRoot,"function"===typeof o){var s=o;o=function(){var e=tu(a);s.call(e)}}ks((function(){eu(t,a,e,o)}))}return tu(a)}function lu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ru(t))throw Error(a(200));return Zs(e,t,null,n)}$l=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||mo.current)Aa=!0;else{if(0===(n&i)){switch(Aa=!1,t.tag){case 3:Xa(t),$r();break;case 5:Hr(t);break;case 1:bo(t.type)&&Co(t);break;case 4:_r(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;ho(Zo,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(ho(Nr,1&Nr.current),null!==(t=rl(e,t,n))?t.sibling:null);ho(Nr,1&Nr.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(64&e.flags)){if(i)return ol(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),ho(Nr,Nr.current),i)break;return null;case 23:case 24:return t.lanes=0,Wa(e,t,n)}return rl(e,t,n)}Aa=0!==(16384&e.flags)}else Aa=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=vo(t,po.current),ar(t,n),o=la(null,t,i,e,o,n),t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(i)){var r=!0;Co(t)}else r=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ur(t);var l=i.getDerivedStateFromProps;"function"===typeof l&&vr(t,i,l,e),o.updater=br,t.stateNode=o,o._reactInternals=t,Cr(t,i,e,n),t=qa(null,t,i,!0,r,n)}else t.tag=0,Na(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"===typeof e)return Us(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===L)return 11;if(e===z)return 14}return 2}(o),e=Jo(o,e),r){case 0:t=Ga(null,t,o,e,n);break e;case 1:t=Ua(null,t,o,e,n);break e;case 11:t=Ba(null,t,o,e,n);break e;case 14:t=Ia(null,t,o,Jo(o.type,e),i,n);break e}throw Error(a(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ga(e,t,i,o=t.elementType===i?o:Jo(i,o),n);case 1:return i=t.type,o=t.pendingProps,Ua(e,t,i,o=t.elementType===i?o:Jo(i,o),n);case 3:if(Xa(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,cr(e,t),pr(t,i,null,n),(i=t.memoizedState.element)===o)$r(),t=rl(e,t,n);else{if((r=(o=t.stateNode).hydrate)&&(Vr=$i(t.stateNode.containerInfo.firstChild),Ir=t,r=Wr=!0),r){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(r=e[o])._workInProgressVersionPrimary=e[o+1],Kr.push(r);for(n=Sr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(e,t,i,n),$r();t=t.child}return t;case 5:return Hr(t),null===e&&Ur(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,l=o.children,Gi(i,o)?l=null:null!==r&&Gi(i,r)&&(t.flags|=16),ja(e,t),Na(e,t,l,n),t.child;case 6:return null===e&&Ur(t),null;case 13:return Ja(e,t,n);case 4:return _r(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Mr(t,null,i,n):Na(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Ba(e,t,i,o=t.elementType===i?o:Jo(i,o),n);case 7:return Na(e,t,t.pendingProps,n),t.child;case 8:case 12:return Na(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,l=t.memoizedProps,r=o.value;var s=t.type._context;if(ho(Zo,s._currentValue),s._currentValue=r,null!==l)if(s=l.value,0===(r=ci(s,r)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(s,r):1073741823))){if(l.children===o.children&&!mo.current){t=rl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u){l=s.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&r)){1===s.tag&&((c=dr(-1,n&-n)).tag=2,hr(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),rr(s.return,n),u.lanes|=n;break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}Na(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(r=t.pendingProps).children,ar(t,n),i=i(o=lr(o,r.unstable_observedBits)),t.flags|=1,Na(e,t,i,n),t.child;case 14:return r=Jo(o=t.type,t.pendingProps),Ia(e,t,o,r=Jo(o.type,r),i,n);case 15:return Va(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Jo(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,bo(i)?(e=!0,Co(t)):e=!1,ar(t,n),wr(t,i,o),Cr(t,i,o,n),qa(null,t,i,!0,e,n);case 19:return ol(e,t,n);case 23:case 24:return Wa(e,t,n)}throw Error(a(156,t.tag))},ou.prototype.render=function(e){eu(e,this._internalRoot,null,null)},ou.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[eo]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),iu(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),iu(e,67108864))},it=function(e){if(13===e.tag){var t=hs(),n=fs(e);ps(e,n,t),iu(e,n)}},ot=function(e,t){return t()},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=ro(i);if(!o)throw Error(a(90));Y(i),ne(i,o)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Fe=ws,_e=function(e,t,n,i,o){var r=zl;zl|=4;try{return Xo(98,e.bind(null,t,n,i,o))}finally{0===(zl=r)&&(Xl(),Ko())}},Oe=function(){0===(49&zl)&&(function(){if(null!==os){var e=os;os=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gs(e,Go())}))}Ko()}(),Os())},He=function(e,t){var n=zl;zl|=2;try{return e(t)}finally{0===(zl=n)&&(Xl(),Ko())}};var su={Events:[io,oo,ro,Pe,ze,Os,{current:!1}]},uu={findFiberByHostInstance:no,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{xo=du.inject(cu),Ro=du}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=lu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=zl;if(0!==(48&n))return e(t);zl|=1;try{if(e)return Xo(99,e.bind(null,t))}finally{zl=n,Ko()}},t.hydrate=function(e,t,n){if(!ru(t))throw Error(a(200));return au(null,e,t,!0,n)},t.render=function(e,t,n){if(!ru(t))throw Error(a(200));return au(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ru(e))throw Error(a(40));return!!e._reactRootContainer&&(ks((function(){au(null,null,e,!1,(function(){e._reactRootContainer=null,e[eo]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return lu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ru(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return au(e,t,n,!1,i)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(8)},function(e,t,n){"use strict";var i,o,r,a;if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,d=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(i){throw setTimeout(e,0),i}};i=function(e){null!==c?setTimeout(i,0,e):(c=e,setTimeout(h,0))},o=function(e,t){d=setTimeout(e,t)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var m=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,v=null,b=-1,y=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,C=k.port2;k.port1.onmessage=function(){if(null!==v){var e=t.unstable_now();w=e+y;try{v(!0,e)?C.postMessage(null):(g=!1,v=null)}catch(n){throw C.postMessage(null),n}}else g=!1},i=function(e){v=e,g||(g=!0,C.postMessage(null))},o=function(e,n){b=f((function(){e(t.unstable_now())}),n)},r=function(){p(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<T(o,t)))break e;e[i]=t,e[n]=o,n=i}}function x(e){return void 0===(e=e[0])?null:e}function R(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,a=e[r],l=r+1,s=e[l];if(void 0!==a&&0>T(a,n))void 0!==s&&0>T(s,a)?(e[i]=s,e[l]=n,i=l):(e[i]=a,e[r]=n,i=r);else{if(!(void 0!==s&&0>T(s,n)))break e;e[i]=s,e[l]=n,i=l}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],S=[],L=1,D=null,P=3,z=!1,F=!1,_=!1;function O(e){for(var t=x(S);null!==t;){if(null===t.callback)R(S);else{if(!(t.startTime<=e))break;R(S),t.sortIndex=t.expirationTime,E(M,t)}t=x(S)}}function H(e){if(_=!1,O(e),!F)if(null!==x(M))F=!0,i(A);else{var t=x(S);null!==t&&o(H,t.startTime-e)}}function A(e,n){F=!1,_&&(_=!1,r()),z=!0;var i=P;try{for(O(n),D=x(M);null!==D&&(!(D.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=D.callback;if("function"===typeof a){D.callback=null,P=D.priorityLevel;var l=a(D.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?D.callback=l:D===x(M)&&R(M),O(n)}else R(M);D=x(M)}if(null!==D)var s=!0;else{var u=x(S);null!==u&&o(H,u.startTime-n),s=!1}return s}finally{D=null,P=i,z=!1}}var N=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){F||z||(F=!0,i(A))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return x(M)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,n,a){var l=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:L++,callback:n,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>l?(e.sortIndex=a,E(S,e),null===x(M)&&e===x(S)&&(_?r():_=!0,o(H,a-l))):(e.sortIndex=s,E(M,e),F||z||(F=!0,i(A))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},,,function(e,t,n){"use strict";n(2);var i=n(1),o=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var r=Symbol.for;o=r("react.element"),t.Fragment=r("react.fragment")}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,r={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,i)&&!s.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:o,type:e,key:u,ref:c,props:r,_owner:a.current}}t.jsx=u,t.jsxs=u}]]);
//# sourceMappingURL=2.3de0b4d7.chunk.js.map